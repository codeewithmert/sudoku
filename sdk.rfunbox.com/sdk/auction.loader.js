/* {"version":"0.552.0","build":"master","date":"2025-08-11T09:03:06Z"}*/(()=>{var t={21:function(t,n,i){var r;t.exports=(r=r||function(t,n){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==i.g&&i.g.crypto&&(r=i.g.crypto),!r)try{r=i(477)}catch(t){}var o=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},e=Object.create||function(){function t(){}return function(n){var i;return t.prototype=n,i=new t,t.prototype=null,i}}(),u={},a=u.lib={},c=a.Base={extend:function(t){var n=e(this);return t&&n.mixIn(t),n.hasOwnProperty("init")&&this.init!==n.init||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=c.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=n?i:4*t.length},toString:function(t){return(t||d).stringify(this)},concat:function(t){var n=this.words,i=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var e=0;e<o;e++){var u=i[e>>>2]>>>24-e%4*8&255;n[r+e>>>2]|=u<<24-(r+e)%4*8}else for(var a=0;a<o;a+=4)n[r+a>>>2]=i[a>>>2];return this.sigBytes+=o,this},clamp:function(){var n=this.words,i=this.sigBytes;n[i>>>2]&=4294967295<<32-i%4*8,n.length=t.ceil(i/4)},clone:function(){var t=c.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(o());return new s.init(n,t)}}),f=u.enc={},d=f.Hex={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],o=0;o<i;o++){var e=n[o>>>2]>>>24-o%4*8&255;r.push((e>>>4).toString(16)),r.push((15&e).toString(16))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(i,n/2)}},l=f.Latin1={stringify:function(t){for(var n=t.words,i=t.sigBytes,r=[],o=0;o<i;o++){var e=n[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(e))}return r.join("")},parse:function(t){for(var n=t.length,i=[],r=0;r<n;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(i,n)}},v=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=a.BufferedBlockAlgorithm=c.extend({reset:function(){this.t=new s.init,this.i=0},u:function(t){"string"==typeof t&&(t=v.parse(t)),this.t.concat(t),this.i+=t.sigBytes},l:function(n){var i,r=this.t,o=r.words,e=r.sigBytes,u=this.blockSize,a=e/(4*u),c=(a=n?t.ceil(a):t.max((0|a)-this.m,0))*u,f=t.min(4*c,e);if(c){for(var d=0;d<c;d+=u)this.k(o,d);i=o.splice(0,c),r.sigBytes-=f}return new s.init(i,f)},clone:function(){var t=c.clone.call(this);return t.t=this.t.clone(),t},m:0}),m=(a.Hasher=h.extend({cfg:c.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._()},update:function(t){return this.u(t),this.l(),this},finalize:function(t){return t&&this.u(t),this.j()},blockSize:16,O:function(t){return function(n,i){return new t.init(i).finalize(n)}},I:function(t){return function(n,i){return new m.HMAC.init(t,i).finalize(n)}}}),u.algo={});return u}(Math),r)},9:function(t,n,i){var r;t.exports=(r=i(21),function(t){var n=r,i=n.lib,o=i.WordArray,e=i.Hasher,u=n.algo,a=[],c=[];!function(){function n(n){for(var i=t.sqrt(n),r=2;r<=i;r++)if(!(n%r))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var r=2,o=0;o<64;)n(r)&&(o<8&&(a[o]=i(t.pow(r,.5))),c[o]=i(t.pow(r,1/3)),o++),r++}();var s=[],f=u.SHA256=e.extend({_:function(){this.S=new o.init(a.slice(0))},k:function(t,n){for(var i=this.S.words,r=i[0],o=i[1],e=i[2],u=i[3],a=i[4],f=i[5],d=i[6],l=i[7],v=0;v<64;v++){if(v<16)s[v]=0|t[n+v];else{var h=s[v-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,b=s[v-2],w=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;s[v]=m+s[v-7]+w+s[v-16]}var p=r&o^r&e^o&e,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),g=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&d)+c[v]+s[v];l=d,d=f,f=a,a=u+g|0,u=e,e=o,o=r,r=g+(y+p)|0}i[0]=i[0]+r|0,i[1]=i[1]+o|0,i[2]=i[2]+e|0,i[3]=i[3]+u|0,i[4]=i[4]+a|0,i[5]=i[5]+f|0,i[6]=i[6]+d|0,i[7]=i[7]+l|0},j:function(){var n=this.t,i=n.words,r=8*this.i,o=8*n.sigBytes;return i[o>>>5]|=128<<24-o%32,i[14+(o+64>>>9<<4)]=t.floor(r/4294967296),i[15+(o+64>>>9<<4)]=r,n.sigBytes=4*i.length,this.l(),this.S},clone:function(){var t=e.clone.call(this);return t.S=this.S.clone(),t}});n.SHA256=e.O(f),n.HmacSHA256=e.I(f)}(Math),r.SHA256)},228:t=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(t,n,i){this.fn=t,this.context=n,this.once=i||!1}function e(t,n,r,e,u){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new o(r,e||t,u),c=i?i+n:n;return t.A[c]?t.A[c].fn?t.A[c]=[t.A[c],a]:t.A[c].push(a):(t.A[c]=a,t.T++),t}function u(t,n){0==--t.T?t.A=new r:delete t.A[n]}function a(){this.A=new r,this.T=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,r,o=[];if(0===this.T)return o;for(r in t=this.A)n.call(t,r)&&o.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var n=i?i+t:t,r=this.A[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,e=r.length,u=new Array(e);o<e;o++)u[o]=r[o].fn;return u},a.prototype.listenerCount=function(t){var n=i?i+t:t,r=this.A[n];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,n,r,o,e,u){var a=i?i+t:t;if(!this.A[a])return!1;var c,s,f=this.A[a],d=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),d){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,n),!0;case 3:return f.fn.call(f.context,n,r),!0;case 4:return f.fn.call(f.context,n,r,o),!0;case 5:return f.fn.call(f.context,n,r,o,e),!0;case 6:return f.fn.call(f.context,n,r,o,e,u),!0}for(s=1,c=new Array(d-1);s<d;s++)c[s-1]=arguments[s];f.fn.apply(f.context,c)}else{var l,v=f.length;for(s=0;s<v;s++)switch(f[s].once&&this.removeListener(t,f[s].fn,void 0,!0),d){case 1:f[s].fn.call(f[s].context);break;case 2:f[s].fn.call(f[s].context,n);break;case 3:f[s].fn.call(f[s].context,n,r);break;case 4:f[s].fn.call(f[s].context,n,r,o);break;default:if(!c)for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];f[s].fn.apply(f[s].context,c)}}return!0},a.prototype.on=function(t,n,i){return e(this,t,n,i,!1)},a.prototype.once=function(t,n,i){return e(this,t,n,i,!0)},a.prototype.removeListener=function(t,n,r,o){var e=i?i+t:t;if(!this.A[e])return this;if(!n)return u(this,e),this;var a=this.A[e];if(a.fn)a.fn!==n||o&&!a.once||r&&a.context!==r||u(this,e);else{for(var c=0,s=[],f=a.length;c<f;c++)(a[c].fn!==n||o&&!a[c].once||r&&a[c].context!==r)&&s.push(a[c]);s.length?this.A[e]=1===s.length?s[0]:s:u(this,e)}return this},a.prototype.removeAllListeners=function(t){var n;return t?(n=i?i+t:t,this.A[n]&&u(this,n)):(this.A=new r,this.T=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,t.exports=a},606:t=>{var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(i){try{return n.call(null,t,0)}catch(i){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:e}catch(t){i=e}}();var a,c=[],s=!1,f=-1;function d(){s&&a&&(s=!1,a.length?c=a.concat(c):f=-1,c.length&&l())}function l(){if(!s){var t=u(d);s=!0;for(var n=c.length;n;){for(a=c,c=[];++f<n;)a&&a[f].run();f=-1,n=c.length}a=null,s=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===e||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{return i(t)}catch(n){try{return i.call(null,t)}catch(n){return i.call(this,t)}}}(t)}}function v(t,n){this.fun=t,this.array=n}function h(){}r.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];c.push(new v(t,n)),1!==c.length||s||u(l)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},390:(t,n,i)=>{var r=i(203);n.encode=function t(n,i,o){n=n>=0?2*n:-2*n-1;var e=r.encode(n,i,o);return t.bytes=r.encode.bytes,e},n.decode=function t(n,i){var o=r.decode(n,i);return t.bytes=r.decode.bytes,1&o?(o+1)/-2:o/2},n.encodingLength=function(t){return r.encodingLength(t>=0?2*t:-2*t-1)}},255:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){var i,r;(0,o.default)(t),"object"===e(n)?(i=n.min||0,r=n.max):(i=arguments[1],r=arguments[2]);var u=encodeURI(t).split(/%..|./).length-1;return u>=i&&(void 0===r||u<=r)};var r,o=(r=i(399))&&r.__esModule?r:{default:r};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=n.default,t.exports.default=n.default},517:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){if((0,r.default)(t),(n=(0,a.default)(n,s)).require_display_name||n.allow_display_name){var i=t.match(f);if(i){var c=i[1];if(t=t.replace(c,"").replace(/(^<|>$)/g,""),c.endsWith(" ")&&(c=c.slice(0,-1)),!function(t){var n=t.replace(/^"(.+)"$/,"$1");if(!n.trim())return!1;if(/[\.";<>]/.test(n)){if(n===t)return!1;if(!(n.split('"').length===n.split('\\"').length))return!1}return!0}(c))return!1}else if(n.require_display_name)return!1}if(!n.ignore_max_length&&t.length>b)return!1;var w=t.split("@"),p=w.pop(),y=p.toLowerCase();if(n.host_blacklist.includes(y))return!1;if(n.host_whitelist.length>0&&!n.host_whitelist.includes(y))return!1;var g=w.join("@");if(n.domain_specific_validation&&("gmail.com"===y||"googlemail.com"===y)){var k=(g=g.toLowerCase()).split("+")[0];if(!(0,o.default)(k.replace(/\./g,""),{min:6,max:30}))return!1;for(var _=k.split("."),j=0;j<_.length;j++)if(!l.test(_[j]))return!1}if(!(!1!==n.ignore_max_length||(0,o.default)(g,{max:64})&&(0,o.default)(p,{max:254})))return!1;if(!(0,e.default)(p,{require_tld:n.require_tld,ignore_max_length:n.ignore_max_length,allow_underscores:n.allow_underscores})){if(!n.allow_ip_domain)return!1;if(!(0,u.default)(p)){if(!p.startsWith("[")||!p.endsWith("]"))return!1;var O=p.slice(1,-1);if(0===O.length||!(0,u.default)(O))return!1}}if('"'===g[0])return g=g.slice(1,g.length-1),n.allow_utf8_local_part?m.test(g):v.test(g);for(var x=n.allow_utf8_local_part?h:d,I=g.split("."),S=0;S<I.length;S++)if(!x.test(I[S]))return!1;if(n.blacklisted_chars&&-1!==g.search(new RegExp("[".concat(n.blacklisted_chars,"]+"),"g")))return!1;return!0};var r=c(i(399)),o=c(i(255)),e=c(i(658)),u=c(i(372)),a=c(i(610));function c(t){return t&&t.__esModule?t:{default:t}}var s={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},f=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,l=/^[a-z\d]+$/,v=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,b=254;t.exports=n.default,t.exports.default=n.default},658:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){(0,r.default)(t),(n=(0,o.default)(n,u)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));!0===n.allow_wildcard&&0===t.indexOf("*.")&&(t=t.substring(2));var i=t.split("."),e=i[i.length-1];if(n.require_tld){if(i.length<2)return!1;if(!n.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(e))return!1;if(/\s/.test(e))return!1}if(!n.allow_numeric_tld&&/^\d+$/.test(e))return!1;return i.every((function(t){return!(t.length>63&&!n.ignore_max_length)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(t)&&(!/[\uff01-\uff5e]/.test(t)&&(!/^-|-$/.test(t)&&!(!n.allow_underscores&&/_/.test(t)))))}))};var r=e(i(399)),o=e(i(610));function e(t){return t&&t.__esModule?t:{default:t}}var u={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};t.exports=n.default,t.exports.default=n.default},372:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,o.default)(n),!(i=String(i)))return t(n,4)||t(n,6);if("4"===i)return a.test(n);if("6"===i)return s.test(n);return!1};var r,o=(r=i(399))&&r.__esModule?r:{default:r};var e="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",u="(".concat(e,"[.]){3}").concat(e),a=new RegExp("^".concat(u,"$")),c="(?:[0-9a-fA-F]{1,4})",s=new RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(u,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(u,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(u,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(u,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(u,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(u,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(u,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");t.exports=n.default,t.exports.default=n.default},128:(t,n,i)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,n){n=(0,o.default)(n,e);var i=t.split("@"),r=i.pop(),d=[i.join("@"),r];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(n.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),n.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,f)),!d[0].length)return!1;(n.all_lowercase||n.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=n.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(u.indexOf(d[1])>=0){if(n.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(n.all_lowercase||n.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(a.indexOf(d[1])>=0){if(n.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(n.all_lowercase||n.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(c.indexOf(d[1])>=0){if(n.yahoo_remove_subaddress){var l=d[0].split("-");d[0]=l.length>1?l.slice(0,-1).join("-"):l[0]}if(!d[0].length)return!1;(n.all_lowercase||n.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else s.indexOf(d[1])>=0?((n.all_lowercase||n.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):n.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")};var r,o=(r=i(610))&&r.__esModule?r:{default:r};var e={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},u=["icloud.com","me.com"],a=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],c=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],s=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function f(t){return t.length>1?t:""}t.exports=n.default,t.exports.default=n.default},399:(t,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t){if(!("string"==typeof t||t instanceof String)){var n=i(t);throw null===t?n="null":"object"===n&&(n=t.constructor.name),new TypeError("Expected a string but received a ".concat(n))}},t.exports=n.default,t.exports.default=n.default},610:(t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;for(var i in n)void 0===t[i]&&(t[i]=n[i]);return t},t.exports=n.default,t.exports.default=n.default},797:t=>{t.exports=function t(r,o){var e,u=0,a=0,c=o=o||0,s=r.length;do{if(c>=s)throw t.bytes=0,new RangeError("Could not decode varint");e=r[c++],u+=a<28?(e&i)<<a:(e&i)*Math.pow(2,a),a+=7}while(e>=n);return t.bytes=c-o,u};var n=128,i=127},877:t=>{t.exports=function t(o,e,u){e=e||[];var a=u=u||0;for(;o>=r;)e[u++]=255&o|n,o/=128;for(;o&i;)e[u++]=255&o|n,o>>>=7;return e[u]=0|o,t.bytes=u-a+1,e};var n=128,i=-128,r=Math.pow(2,31)},203:(t,n,i)=>{t.exports={encode:i(877),decode:i(797),encodingLength:i(867)}},867:t=>{var n=Math.pow(2,7),i=Math.pow(2,14),r=Math.pow(2,21),o=Math.pow(2,28),e=Math.pow(2,35),u=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),s=Math.pow(2,63);t.exports=function(t){return t<n?1:t<i?2:t<r?3:t<o?4:t<e?5:t<u?6:t<a?7:t<c?8:t<s?9:10}},477:()=>{}},n={};function i(r){var o=n[r];if(void 0!==o)return o.exports;var e=n[r]={exports:{}};return t[r].call(e.exports,e,e.exports,i),e.exports}i.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return i.d(n,{a:n}),n},i.d=(t,n)=>{for(var r in n)i.o(n,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{"use strict";function t(t,n){void 0===n&&(n={});var i=n.onSuccess,r=n.onFailed,o=n.id,e=n.windowContext,u=void 0===e?window:e,a=n.inHead,c=void 0===a||a,s=n.keepElement,f=void 0===s||s,d=n.async,l=void 0===d||d,v=u.document.createElement("script");return v.type="text/javascript",v.src=t,o&&(v.id=o),l&&(v.async=l),new Promise((function(t,n){v.onload=function(n){i&&i(n),f||v.remove(),t(n)},v.onerror=function(t){r&&r(t),f||v.remove(),n(t)},(c?u.document.head:u.document.body).appendChild(v)}))}var n={TOKEN:"pubf693584526ad64ff1b819b735da0bb6c"},r="datadoghq.com",o="auction-manager-logger",e={DEVELOPMENT:"dev",PRODUCTION:"prod"},u=!1,a=!1,c=100*Math.random()<=10,s=function(t){return function(n,i,r){u&&!a&&window.DD_LOGS.onReady((function(){window.DD_LOGS.logger.log(n,i,t,r)}))}},f={info:s("info"),warn:s("warn"),error:s("error")};function d(t){if(t){var n=t.split(".");return n.length<=2?t:(n=n.slice(-3),["co","com"].indexOf(n[1])>-1?n.join("."):n.slice(-2).join("."))}}function l(t){return t.startsWith("www.")?t.replace("www.",""):t}function v(t){var n=function(t){if(!t)return t;var n=t;try{for(;n!==decodeURIComponent(n);)n=decodeURIComponent(n)}catch(t){}return n}(t);if(n){n.includes("://")||(n="http://".concat(n));try{return new URL(n).hostname}catch(t){return}}}function h(t){t=t||window;try{return t.self!==t.parent}catch(t){return!0}}function m(t){void 0===t&&(t=window);try{return t.parent.document.getElementById("x"),!0}catch(t){return!1}}function b(){var t=window;try{for(;h(t)&&m(t);)t=t.parent}catch(n){return t}return t}function w(t){var n;void 0===t&&(t=window);var i=t.location.ancestorOrigins;if(i&&i.length>0){var r=null===(n=i[i.length-1])||void 0===n?void 0:n.split("?")[0];if(r)return r}return(t=b())!==t.top&&t.document.referrer?t.document.referrer.split("?")[0]:t.location.href.split("?")[0]}var p,y="",g="function",k="undefined",_="object",j="string",O="major",x="model",I="name",S="type",A="vendor",E="version",T="architecture",P="console",C="mobile",R="tablet",M="smarttv",D="wearable",z="xr",N="embedded",F="inapp",U="user-agent",q="brands",B="formFactors",L="fullVersionList",$="platform",V="platformVersion",G="bitness",Y="sec-ch-ua",W=Y+"-full-version-list",J=Y+"-arch",H=Y+"-"+G,K=Y+"-form-factors",X=Y+"-"+C,Z=Y+"-"+x,Q=Y+"-"+$,tt=Q+"-version",nt=[q,L,C,x,$,V,T,B,G],it="browser",rt="cpu",ot="device",et="engine",ut="os",at="result",ct="Amazon",st="Apple",ft="ASUS",dt="BlackBerry",lt="Google",vt="Huawei",ht="Lenovo",mt="LG",bt="Microsoft",wt="Motorola",pt="Samsung",yt="Sharp",gt="Sony",kt="Xiaomi",_t="Zebra",jt="Mobile ",Ot=" Browser",xt="Chrome",It="Chromecast",St="Firefox",At="Opera",Et="Facebook",Tt="Sogou",Pt="Windows",Ct=typeof window!==k&&window.navigator?window.navigator:void 0,Rt=Ct&&Ct.userAgentData?Ct.userAgentData:void 0,Mt=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},Dt=function(t,n){if(typeof t===_&&t.length>0){for(var i in t)if(Ut(t[i])==Ut(n))return!0;return!1}return!!Nt(t)&&-1!==Ut(n).indexOf(Ut(t))},zt=function(t,n){for(var i in t)return/^(browser|cpu|device|engine|os)$/.test(i)||!!n&&zt(t[i])},Nt=function(t){return typeof t===j},Ft=function(t){if(t){for(var n=[],i=Lt(/\\?\"/g,t).split(","),r=0;r<i.length;r++)if(i[r].indexOf(";")>-1){var o=Vt(i[r]).split(";v=");n[r]={brand:o[0],version:o[1]}}else n[r]=Vt(i[r]);return n}},Ut=function(t){return Nt(t)?t.toLowerCase():t},qt=function(t){return Nt(t)?Lt(/[^\d\.]/g,t).split(".")[0]:void 0},Bt=function(t){for(var n in t){var i=t[n];typeof i==_&&2==i.length?this[i[0]]=i[1]:this[i]=void 0}return this},Lt=function(t,n){return Nt(n)?n.replace(t,y):n},$t=function(t){return Lt(/\\?\"/g,t)},Vt=function(t,n){if(Nt(t))return t=Lt(/^\s\s*/,t),typeof n===k?t:t.substring(0,500)},Gt=function(t,n){if(t&&n)for(var i,r,o,e,u,a,c=0;c<n.length&&!u;){var s=n[c],f=n[c+1];for(i=r=0;i<s.length&&!u&&s[i];)if(u=s[i++].exec(t))for(o=0;o<f.length;o++)a=u[++r],typeof(e=f[o])===_&&e.length>0?2===e.length?typeof e[1]==g?this[e[0]]=e[1].call(this,a):this[e[0]]=e[1]:3===e.length?typeof e[1]!==g||e[1].exec&&e[1].test?this[e[0]]=a?a.replace(e[1],e[2]):void 0:this[e[0]]=a?e[1].call(this,a,e[2]):void 0:4===e.length&&(this[e[0]]=a?e[3].call(this,a.replace(e[1],e[2])):void 0):this[e]=a||void 0;c+=2}},Yt=function(t,n){for(var i in n)if(typeof n[i]===_&&n[i].length>0){for(var r=0;r<n[i].length;r++)if(Dt(n[i][r],t))return"?"===i?void 0:i}else if(Dt(n[i],t))return"?"===i?void 0:i;return n.hasOwnProperty("*")?n["*"]:t},Wt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Jt={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Ht={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[I,jt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[I,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[I,E],[/opios[\/ ]+([\w\.]+)/i],[E,[I,At+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[I,At+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[I,At]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[I,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[E,[I,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[I,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[I,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[I,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[I,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[I,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[I,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[I,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[I,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[I,"Smart "+ht+Ot]],[/(avast|avg)\/([\w\.]+)/i],[[I,/(.+)/,"$1 Secure"+Ot],E],[/\bfocus\/([\w\.]+)/i],[E,[I,St+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[I,At+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[I,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[I,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[I,At+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[I,"MIUI"+Ot]],[/fxios\/([\w\.-]+)/i],[E,[I,jt+St]],[/\bqihoobrowser\/?([\w\.]*)/i],[E,[I,"360"]],[/\b(qq)\/([\w\.]+)/i],[[I,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[I,/(.+)/,"$1"+Ot],E],[/samsungbrowser\/([\w\.]+)/i],[E,[I,pt+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[E,[I,Tt+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[I,Tt+" Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[I,E],[/(lbbrowser|rekonq)/i],[I],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[E,I],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[I,Et],E,[S,F]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[I,E,[S,F]],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[I,"GSA"],[S,F]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[I,"TikTok"],[S,F]],[/\[(linkedin)app\]/i],[I,[S,F]],[/(chromium)[\/ ]([-\w\.]+)/i],[I,E],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[I,xt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[I,xt+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[I,"Android"+Ot]],[/chrome\/([\w\.]+) mobile/i],[E,[I,jt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[I,E],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[E,[I,jt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[I,jt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[E,I],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[I,[E,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[I,E],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[I,jt+St],E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[I,"Netscape"],E],[/(wolvic|librewolf)\/([\w\.]+)/i],[I,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[I,St+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[I,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[I,[E,/[^\d\.]+./,y]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[T,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,y,Ut]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,Ut]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[x,[A,pt],[S,R]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[x,[A,pt],[S,C]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[x,[A,st],[S,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[x,[A,st],[S,R]],[/(macintosh);/i],[x,[A,st]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[x,[A,yt],[S,C]],[/(?:honor)([-\w ]+)[;\)]/i],[x,[A,"Honor"],[S,C]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[x,[A,vt],[S,R]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[x,[A,vt],[S,C]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[x,/_/g," "],[A,kt],[S,C]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[x,/_/g," "],[A,kt],[S,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[x,[A,"OPPO"],[S,C]],[/\b(opd2\d{3}a?) bui/i],[x,[A,"OPPO"],[S,R]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[x,[A,"Vivo"],[S,C]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[x,[A,"Realme"],[S,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[x,[A,wt],[S,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[x,[A,wt],[S,R]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[x,[A,mt],[S,R]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[x,[A,mt],[S,C]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[x,[A,ht],[S,R]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[x,/_/g," "],[A,"Nokia"],[S,C]],[/(pixel c)\b/i],[x,[A,lt],[S,R]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[x,[A,lt],[S,C]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[x,[A,gt],[S,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[x,"Xperia Tablet"],[A,gt],[S,R]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[x,[A,"OnePlus"],[S,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[x,[A,ct],[S,R]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[x,/(.+)/g,"Fire Phone $1"],[A,ct],[S,C]],[/(playbook);[-\w\),; ]+(rim)/i],[x,A,[S,R]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[x,[A,dt],[S,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[x,[A,ft],[S,R]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[x,[A,ft],[S,C]],[/(nexus 9)/i],[x,[A,"HTC"],[S,R]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[A,[x,/_/g," "],[S,C]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[x,[A,"TCL"],[S,R]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[x,[A,"TCL"],[S,C]],[/(itel) ((\w+))/i],[[A,Ut],x,[S,Yt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[x,[A,"Acer"],[S,R]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[x,[A,"Meizu"],[S,C]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[x,[A,"Ulefone"],[S,C]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[x,[A,"Energizer"],[S,C]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[x,[A,"Cat"],[S,C]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[x,[A,"Smartfren"],[S,C]],[/droid.+; (a(?:015|06[35]|142p?))/i],[x,[A,"Nothing"],[S,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[A,x,[S,C]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[A,x,[S,R]],[/(surface duo)/i],[x,[A,bt],[S,R]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[x,[A,"Fairphone"],[S,C]],[/(shield[\w ]+) b/i],[x,[A,"Nvidia"],[S,R]],[/(sprint) (\w+)/i],[A,x,[S,C]],[/(kin\.[onetw]{3})/i],[[x,/\./g," "],[A,bt],[S,C]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[x,[A,_t],[S,R]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[x,[A,_t],[S,C]],[/smart-tv.+(samsung)/i],[A,[S,M]],[/hbbtv.+maple;(\d+)/i],[[x,/^/,"SmartTV"],[A,pt],[S,M]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[A,mt],[S,M]],[/(apple) ?tv/i],[A,[x,st+" TV"],[S,M]],[/crkey.*devicetype\/chromecast/i],[[x,It+" Third Generation"],[A,lt],[S,M]],[/crkey.*devicetype\/([^/]*)/i],[[x,/^/,"Chromecast "],[A,lt],[S,M]],[/fuchsia.*crkey/i],[[x,It+" Nest Hub"],[A,lt],[S,M]],[/crkey/i],[[x,It],[A,lt],[S,M]],[/droid.+aft(\w+)( bui|\))/i],[x,[A,ct],[S,M]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[x,[A,yt],[S,M]],[/(bravia[\w ]+)( bui|\))/i],[x,[A,gt],[S,M]],[/(mitv-\w{5}) bui/i],[x,[A,kt],[S,M]],[/Hbbtv.*(technisat) (.*);/i],[A,x,[S,M]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[A,Vt],[x,Vt],[S,M]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,M]],[/(ouya)/i,/(nintendo) (\w+)/i],[A,x,[S,P]],[/droid.+; (shield) bui/i],[x,[A,"Nvidia"],[S,P]],[/(playstation \w+)/i],[x,[A,gt],[S,P]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[x,[A,bt],[S,P]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[x,[A,pt],[S,D]],[/((pebble))app/i],[A,x,[S,D]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[x,[A,st],[S,D]],[/droid.+; (wt63?0{2,3})\)/i],[x,[A,_t],[S,D]],[/droid.+; (glass) \d/i],[x,[A,lt],[S,z]],[/(pico) (4|neo3(?: link|pro)?)/i],[A,x,[S,z]],[/; (quest( \d| pro)?)/i],[x,[A,Et],[S,z]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[A,[S,N]],[/(aeobc)\b/i],[x,[A,ct],[S,N]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[x,[S,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[x,[S,R]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,R]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,C]],[/(android[-\w\. ]{0,9});.+buil/i],[x,[A,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[I,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[I,E],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[I,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[I,E],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,I]],os:[[/microsoft (windows) (vista|xp)/i],[I,E],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[I,[E,Yt,Wt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,Yt,Wt],[I,Pt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[I,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[I,"macOS"],[E,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[E,[I,It+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[E,[I,It+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[E,[I,It+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[E,[I,It+" Linux"]],[/crkey\/([\d\.]+)/i],[E,[I,It]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,I],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[I,E],[/\(bb(10);/i],[E,[I,dt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[E,[I,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[I,St+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[I,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[I,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[I,"Chrome OS"],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[I,E],[/(sunos) ?([\w\.\d]*)/i],[[I,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[I,E]]},Kt=(p={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}},Bt.call(p.init,[[it,[I,E,O,S]],[rt,[T]],[ot,[S,x,A]],[et,[I,E]],[ut,[I,E]]]),Bt.call(p.isIgnore,[[it,[E,O]],[et,[E]],[ut,[E]]]),Bt.call(p.isIgnoreRgx,[[it,/ ?browser$/i],[ut,/ ?os$/i]]),Bt.call(p.toString,[[it,[I,E]],[rt,[T]],[ot,[A,x]],[et,[I,E]],[ut,[I,E]]]),p),Xt=function(t,n){var i=Kt.init[n],r=Kt.isIgnore[n]||0,o=Kt.isIgnoreRgx[n]||0,e=Kt.toString[n]||0;function u(){Bt.call(this,i)}return u.prototype.getItem=function(){return t},u.prototype.withClientHints=function(){return Rt?Rt.getHighEntropyValues(nt).then((function(n){return t.setCH(new Zt(n,!1)).parseCH().get()})):t.parseCH().get()},u.prototype.withFeatureCheck=function(){return t.detectFeature().get()},n!=at&&(u.prototype.is=function(t){var n=!1;for(var i in this)if(this.hasOwnProperty(i)&&!Dt(r,i)&&Ut(o?Lt(o,this[i]):this[i])==Ut(o?Lt(o,t):t)){if(n=!0,t!=k)break}else if(t==k&&n){n=!n;break}return n},u.prototype.toString=function(){var t=y;for(var n in e)typeof this[e[n]]!==k&&(t+=(t?" ":y)+this[e[n]]);return t||k}),Rt||(u.prototype.then=function(t){var n=this,i=function(){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t])};i.prototype={is:u.prototype.is,toString:u.prototype.toString};var r=new i;return t(r),r}),new u};function Zt(t,n){if(t=t||{},Bt.call(this,nt),n)Bt.call(this,[[q,Ft(t[Y])],[L,Ft(t[W])],[C,/\?1/.test(t[X])],[x,$t(t[Z])],[$,$t(t[Q])],[V,$t(t[tt])],[T,$t(t[J])],[B,Ft(t[K])],[G,$t(t[H])]]);else for(var i in t)this.hasOwnProperty(i)&&typeof t[i]!==k&&(this[i]=t[i])}function Qt(t,n,i,r){return this.get=function(t){return t?this.data.hasOwnProperty(t)?this.data[t]:void 0:this.data},this.set=function(t,n){return this.data[t]=n,this},this.setCH=function(t){return this.uaCH=t,this},this.detectFeature=function(){if(Ct&&Ct.userAgent==this.ua)switch(this.itemType){case it:Ct.brave&&typeof Ct.brave.isBrave==g&&this.set(I,"Brave");break;case ot:!this.get(S)&&Rt&&Rt[C]&&this.set(S,C),"Macintosh"==this.get(x)&&Ct&&typeof Ct.standalone!==k&&Ct.maxTouchPoints&&Ct.maxTouchPoints>2&&this.set(x,"iPad").set(S,R);break;case ut:!this.get(I)&&Rt&&Rt[$]&&this.set(I,Rt[$]);break;case at:var t=this.data,n=function(n){return t[n].getItem().detectFeature().get()};this.set(it,n(it)).set(rt,n(rt)).set(ot,n(ot)).set(et,n(et)).set(ut,n(ut))}return this},this.parseUA=function(){return this.itemType!=at&&Gt.call(this.data,this.ua,this.rgxMap),this.itemType==it&&this.set(O,qt(this.get(E))),this},this.parseCH=function(){var t=this.uaCH,n=this.rgxMap;switch(this.itemType){case it:var i,r=t[L]||t[q];if(r)for(var o in r){var e=Lt(/(Google|Microsoft) /,r[o].brand||r[o]),u=r[o].version;/not.a.brand/i.test(e)||i&&(!/chrom/i.test(i)||/chromi/i.test(e))||(this.set(I,e).set(E,u).set(O,qt(u)),i=e)}break;case rt:var a=t[T];a&&(a&&"64"==t[G]&&(a+="64"),Gt.call(this.data,a+";",n));break;case ot:if(t[C]&&this.set(S,C),t[x]&&this.set(x,t[x]),"Xbox"==t[x]&&this.set(S,P).set(A,bt),t[B]){var c;if("string"!=typeof t[B])for(var s=0;!c&&s<t[B].length;)c=Yt(t[B][s++],Jt);else c=Yt(t[B],Jt);this.set(S,c)}break;case ut:var f=t[$];if(f){var d=t[V];f==Pt&&(d=parseInt(qt(d),10)>=13?"11":"10"),this.set(I,f).set(E,d)}this.get(I)==Pt&&"Xbox"==t[x]&&this.set(I,"Xbox").set(E,void 0);break;case at:var l=this.data,v=function(n){return l[n].getItem().setCH(t).parseCH().get()};this.set(it,v(it)).set(rt,v(rt)).set(ot,v(ot)).set(et,v(et)).set(ut,v(ut))}return this},Bt.call(this,[["itemType",t],["ua",n],["uaCH",r],["rgxMap",i],["data",Xt(this,t)]]),this}function tn(t,n,i){if(typeof t===_?(zt(t,!0)?(typeof n===_&&(i=n),n=t):(i=t,n=void 0),t=void 0):typeof t!==j||zt(n,!0)||(i=n,n=void 0),i&&typeof i.append===g){var r={};i.forEach((function(t,n){r[n]=t})),i=r}if(!(this instanceof tn))return new tn(t,n,i).getResult();var o=typeof t===j?t:i&&i[U]?i[U]:Ct&&Ct.userAgent?Ct.userAgent:y,e=new Zt(i,!0),u=n?function(t,n){var i={},r=n;if(!zt(n))for(var o in r={},n)for(var e in n[o])r[e]=n[o][e].concat(r[e]?r[e]:[]);for(var u in t)i[u]=r[u]&&r[u].length%2==0?r[u].concat(t[u]):t[u];return i}(Ht,n):Ht,a=function(t){return t==at?function(){return new Qt(t,o,u,e).set("ua",o).set(it,this.getBrowser()).set(rt,this.getCPU()).set(ot,this.getDevice()).set(et,this.getEngine()).set(ut,this.getOS()).get()}:function(){return new Qt(t,o,u[t],e).parseUA().get()}};return Bt.call(this,[["getBrowser",a(it)],["getCPU",a(rt)],["getDevice",a(ot)],["getEngine",a(et)],["getOS",a(ut)],["getResult",a(at)],["getUA",function(){return o}],["setUA",function(t){return Nt(t)&&(o=t.length>500?Vt(t,500):t),this}]]).setUA(o),this}tn.VERSION="2.0.0",tn.BROWSER=Mt([I,E,O,S]),tn.CPU=Mt([T]),tn.DEVICE=Mt([x,A,S,P,C,M,R,D,N]),tn.ENGINE=tn.OS=Mt([I,E]);var nn=new tn,rn={desktop:"d",mobile:"mw",tablet:"mw",embedded:"mw",console:"c",wearable:"c",smarttv:"c"};function on(){var t,n=nn.getResult();return rn[null===(t=null==n?void 0:n.device)||void 0===t?void 0:t.type]||rn.desktop}const en={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let un;const an=new Uint8Array(16);function cn(){if(!un){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");un=crypto.getRandomValues.bind(crypto)}return un(an)}const sn=[];for(let t=0;t<256;++t)sn.push((t+256).toString(16).slice(1));function fn(t,n=0){return(sn[t[n+0]]+sn[t[n+1]]+sn[t[n+2]]+sn[t[n+3]]+"-"+sn[t[n+4]]+sn[t[n+5]]+"-"+sn[t[n+6]]+sn[t[n+7]]+"-"+sn[t[n+8]]+sn[t[n+9]]+"-"+sn[t[n+10]]+sn[t[n+11]]+sn[t[n+12]]+sn[t[n+13]]+sn[t[n+14]]+sn[t[n+15]]).toLowerCase()}const dn=function(t,n,i){if(en.randomUUID&&!n&&!t)return en.randomUUID();const r=(t=t||{}).random??t.rng?.()??cn();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){if((i=i||0)<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let t=0;t<16;++t)n[i+t]=r[t];return n}return fn(r)};var ln=1e3,vn=60*ln;function hn(t){return t*ln}function mn(t){return t*vn}var bn,wn,pn,yn="rs_usid",gn="rsi_"+window.location.href,kn=(bn=function(){var t=function(){var t=localStorage.getItem(yn);if(!t)return{};var n=JSON.parse(t);return n||{}}(),n=function(t,n){var i=n[gn];if(i){var r=new Date;if(!(r.getTime()>i.expiry))return i.value;delete n[gn]}}(0,t);return n||(n=dn()),function(t,n,i,r){var o=new Date;r[gn]={value:n,expiry:o.getTime()+i},localStorage.setItem(yn,JSON.stringify(r))}(0,n,mn(30),t),n},wn=mn(3),pn=0,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=Date.now();if(i-pn>=wn)return pn=i,bn.apply(void 0,t)});const _n={};function jn(t,n,i,r,o,e,u=0){if(t.length<16)throw new Error("Random bytes length must be >= 16");if(e){if(u<0||u+16>e.length)throw new RangeError(`UUID byte range ${u}:${u+15} is out of buffer bounds`)}else e=new Uint8Array(16),u=0;n??=Date.now(),i??=0,r??=16383&(t[8]<<8|t[9]),o??=t.slice(10,16);const a=(1e4*(268435455&(n+=122192928e5))+i)%4294967296;e[u++]=a>>>24&255,e[u++]=a>>>16&255,e[u++]=a>>>8&255,e[u++]=255&a;const c=n/4294967296*1e4&268435455;e[u++]=c>>>8&255,e[u++]=255&c,e[u++]=c>>>24&15|16,e[u++]=c>>>16&255,e[u++]=r>>>8|128,e[u++]=255&r;for(let t=0;t<6;++t)e[u++]=o[t];return e}const On=function(t,n,i){let r;const o=t?.P??!1;if(t){const n=Object.keys(t);1===n.length&&"_v6"===n[0]&&(t=void 0)}if(t)r=jn(t.random??t.rng?.()??cn(),t.msecs,t.nsecs,t.clockseq,t.node,n,i);else{const t=Date.now(),e=cn();!function(t,n,i){t.msecs??=-1/0,t.nsecs??=0,n===t.msecs?(t.nsecs++,t.nsecs>=1e4&&(t.node=void 0,t.nsecs=0)):n>t.msecs?t.nsecs=0:n<t.msecs&&(t.node=void 0);t.node||(t.node=i.slice(10,16),t.node[0]|=1,t.clockseq=16383&(i[8]<<8|i[9]));t.msecs=n}(_n,t,e),r=jn(e,_n.msecs,_n.nsecs,o?void 0:_n.clockseq,o?void 0:_n.node,n,i)}return n?r:fn(r)};var xn,In,Sn="[NAME]",An="[object html".concat(Sn,"element]");function En(t,n){var i=n.toLowerCase(),r=An.replace(Sn,i);return function(t){return t instanceof HTMLElement}(t)&&t.toString().toLowerCase()===r}var Tn,Pn=(void 0===(Tn=function(){var t=document.currentScript;if(!En(t,"script"))return"";var n=t.src;if(!n)return"";var i=n.split("?");return 1===i.length?"":i.pop()}())&&(Tn=window.location.search),(xn=Tn.split(/&|\?/).filter(Boolean).reduce((function(t,n){var i=n.split("="),r=i[0],o=i[1];return t[r]=void 0===o||o,t}),{})).id),Cn=xn.org,Rn=xn.rce,Mn=xn.auction_config,Dn=xn.auction_callback,zn=xn.coppa,Nn=(In=nn.getBrowser()).name,Fn=In.major,Un=nn.getOS().name,qn=window.__R_AB_ID||"master",Bn=w(),Ln=l(v(Bn)),$n=d(Ln),Vn=on(),Gn=On(),Yn=kn(),Wn=["android","ios","windows phone","windows mobile","blackberry","tizen","kaios"],Jn=["mobile","tablet","smarttv"];function Hn(){var t=nn.getDevice().type,n=void 0===t?"":t,i=nn.getOS().name,r=void 0===i?"":i,o=Wn.includes(r.toLowerCase()),e=Jn.includes(n);return o||e}var Kn,Xn,Zn,Qn,ti,ni,ii,ri,oi=i(9),ei=i.n(oi),ui=i(128),ai=i.n(ui),ci=i(517),si=i.n(ci),fi="62b9c03d19862c0001540bb8",di="6386475259cc19000142fed3",li="5f7490fefb705d0001fd01b5",vi="62b84b0f9766d400014ae2e4",hi="6134e9fa9bbbfe0001894c98",mi="5857d2ee263dc90002000001",bi=((Kn={})[di]={id5Id:{paramName:"pd",selector:"#root > div > nav> div > div",getId:function(){var t,n=null===(t=document.querySelector(this.selector))||void 0===t?void 0:t.textContent;if(null==n?void 0:n.length){var i=n.trim();if(si()(i)){var r=ai()(i),o=ei()(r).toString(),e="1=".concat(o);return btoa(e)}}}}},Kn),wi=((Xn={})[di]={id5IdConfig:{name:"id5Id",params:{partner:1347},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},"33acrossId":{name:"33acrossId",params:{pid:"0010b00001sfcL4AAI",storeFpid:!0},storage:{name:"33acrossId",type:"html5",expires:90,refreshInSeconds:28800}},hanronId:{name:"hadronId",params:{partnerId:486},storage:{name:"hadronId",type:"html5",expires:90,refreshInSeconds:28800}},liveRamp:{name:"identityLink",params:{pid:"13771",notUse3P:!1},storage:{type:"html5",name:"idl_env",expires:15,refreshInSeconds:28800}},lotame:{name:"lotamePanoramaId",params:{clientId:"16576"}}},Xn[li]={"33acrossId":{name:"33acrossId",params:{pid:"0010b00002KcnejAAB"},storage:{type:"html5",name:"33acrossId",expires:90,refreshInSeconds:28800}}},Xn),pi=((Zn={})[di]={priceGranularity:{buckets:[{precision:2,min:0,max:20,increment:.01},{precision:2,min:20,max:30,increment:.25},{precision:2,min:30,max:50,increment:1}]}},Zn[vi]={priceGranularity:{buckets:[{precision:2,min:0,max:20,increment:.01},{precision:2,min:20,max:30,increment:.25},{precision:2,min:30,max:50,increment:1}]}},Zn[mi]={priceGranularity:{buckets:[{precision:2,min:0,max:20,increment:.01},{precision:2,min:20,max:35,increment:.5}]}},Zn),yi={"ign.com":0,"thekitchn.com":300,"pcmag.com":0,"dailydot.com":150,"apartmenttherapy.com":0,"blogto.com":300,"villages-news.com":0},gi={mobile:["barstoolsports.com","cnn.com","sudoku.com","earthlink.net"],desktop:["cnn.com","sudoku.com","earthlink.net"]},ki={mobile:{"blogto.com":hn(1.4),"boston.com":hn(1.5),"dailydot.com":hn(1.8),"dailymail.co.uk":hn(2),"foxnews.com":hn(1.8),"huffpost.com":hn(2.5),"ign.com":hn(1.8),"lifehacker.com":hn(1),"nypost.com":hn(2),"pagesix.com":hn(1.6),"pcmag.com":hn(1.6),"sudoku.com":hn(1.6),"tvinsider.com":hn(2.3),"villages-news.com":hn(1.5)},desktop:{"apartmenttherapy.com":hn(1.1),"barstoolsports.com":hn(1.2),"blogto.com":hn(1.2),"boston.com":hn(1.8),"dailydot.com":hn(2.1),"dailymail.com":hn(2.5),"foxnews.com":hn(1.4),"huffpost.com":hn(1.8),"ign.com":hn(1.6),"lifehacker.com":hn(1.4),"nypost.com":hn(1.9),"pagesix.com":hn(1.3),"pcmag.com":hn(1.9),"sudoku.com":hn(1.5),"tvinsider.com":hn(1.8),"villages-news.com":hn(1.7)}},_i={"sudoku.com":{"66f14af03ad0350001aa267c":1,"67a9f2674d8e940001f16861":1},"solitaire.net":{"67a9f31a9c02c100016fd504":1}},ji=((Qn={})[vi]={script:"intentIq_782963570",partner:782963570},Qn);!function(t){t.INTENT_IQ="intentiq.com"}(ni||(ni={})),function(t){t.PPUID="ppuid"}(ii||(ii={})),function(t){t.BUYER_ID="adsourceid",t.PLAYER_ID="playerid",t.LOOP="loop"}(ri||(ri={}));var Oi=((ti={})[di]={browsi:{name:"browsi",params:{url:"yield-manager.browsiprod.com",siteKey:"d_mapping",pubKey:"rise",keyName:"browsiViewability"}}},ti);function xi(t){var n="";for(var i in t)t[i]&&(n+="".concat(i,"=").concat(encodeURIComponent(t[i]),"&"));return(n=n.replace(/&$/,"")).length>0&&(n="?".concat(n)),n}var Ii,Si,Ai,Ei,Ti,Pi;!function(t){t.prebid="prebid",t.amazon="amazon",t.gam="gam"}(Ii||(Ii={})),function(t){t.AMAZON="amazon",t.PREBID="prebid"}(Si||(Si={})),function(t){t.GAM="gam"}(Ai||(Ai={})),function(t){t.AUCTION_START="AuctionStart",t.RUN_ONCE="RunOnce",t.AUCTION_STOP="AuctionStop",t.REGISTER_AUCTION="RegisterAuction",t.MODULE_DONE="ModuleDone",t.UNIT_DONE="UnitDone",t.REQUEST_BID="RequestBid",t.AD_IMPRESSION="AdImpression",t.VIEWABLE_IMPRESSION="ViewableImpression",t.ON_LAZY_ENTER="OnLazyEnter",t.REFRESH_SLOT="RefreshSlot",t.BEFORE_SLOT_REFRESH="BeforeSlotRefresh"}(Ei||(Ei={})),function(t){t.BID_RESPONSE="BidResponse"}(Ti||(Ti={})),function(t){t.AD_IMPRESSION="AdImpression",t.VIEWABLE_IMPRESSION="ViewableImpression",t.BEFORE_SLOT_REFRESH="BeforeSlotRefresh",t.DISPOSED="Disposed"}(Pi||(Pi={}));var Ci,Ri,Mi,Di,zi,Ni,Fi="auction_sdk",Ui="auction";!function(t){t.AUCTION_LOADER="auction_sdk",t.AUCTION_MANAGER="auction_manager",t.AUCTION_RUNNER="auction_runner",t.AUCTION_MODULE="auction_module",t.INTEGRATION_MODULE="integration_module",t.AUCTION_BIDS_CACHE="bids_cache"}(Ci||(Ci={})),function(t){t.AD_BLOCK_DETECTED="abd",t.LOADER_START="als",t.LOADER_MULTIPLE_LOADS="alml",t.INIT="asi",t.SDK_SESSION_ENDED="sse",t.AUCTION="asam",t.EARLY_AUCTION="aseam",t.BID="asb",t.AUCTION_BID="asab",t.NO_BID="asnb",t.TIMEOUT="ast",t.OPPORTUNITY_END="aspoe",t.AUCTION_SDK_END="ase",t.ERROR="aserr",t.IMPRESSION="ai",t.VIEWABLE_IMPRESSION="vai",t.UNFILLED_IMPRESSION="uai",t.PPID="ppid",t.PPID_OPT_OUT="ppidoo",t.BID_DROPPED="asdb",t.LOSING_BID_READDED_TO_CACHE="aslbr",t.PREBID_RENDER_RETRY="prfa",t.ADX_IMPRESSION="adxi",t.OTHER_IMPRESSION="oai",t.PERFORMANCE_TRACKER="pma",t.INTENT_IQ_ID_FETCHED="iiqf",t.GAM_REFRESH="tgamr",t.BANNER_REFRESH="tbanr"}(Ri||(Ri={})),function(t){t.AUCTION_RESPONSE="asr",t.GRACE_PERIOD="asgp",t.NO_WIN="asnw",t.WIN="asw"}(Mi||(Mi={})),function(t){t.SLOT_REQUESTED="gamreq",t.SLOT_RENDER_ENDED="gamend",t.SLOT_RESPONSE_RECEIVED="gamres"}(Di||(Di={})),function(t){t.AD_RENDERED="1",t.NO_AD_RENDERED="2"}(zi||(zi={})),function(t){t.BID="BID",t.NO_BID="NO_BID",t.TIMEOUT="TIMEOUT",t.ERROR="ERROR"}(Ni||(Ni={}));var qi,Bi,Li=["adUnit","adUnitPath","rate","type"];!function(t){t.RUN_ONCE_RESULT="RunOnceResult",t.AUCTION_RESULT="AuctionResult",t.RUN_FAIL="RunFail"}(qi||(qi={})),function(t){t.AUCTION_END="AuctionEnd"}(Bi||(Bi={}));var $i,Vi,Gi,Yi={AUCTION:["requestAd","isAdUnitSupported","removeAdUnit","dispose"],PLAYER:["start","loadResult","dispose"]};!function(t){t.AUCTION="AUCTION",t.AD_INTEGRATION="AD_INTEGRATION"}($i||($i={})),function(t){t.AD_BLOCK="1000",t.INIT="6001",t.MODULE_INIT="6002",t.AUCTION="6003",t.AUCTION_MODULE_REQUEST="6004",t.PPID_ERROR="6010",t.PREBID_HASHED_ID_FAIL="6030"}(Vi||(Vi={})),function(t){t.PREBID="wr",t.AMAZON="wr-aps"}(Gi||(Gi={}));var Wi,Ji="https://settings.vidiom.net/auction",Hi="https://k.streamrail.com/m";!function(t){t.auctionStart="wam",t.bidRequest="wreq",t.bid="wbid",t.noBid="wnobid",t.bidRejected="wrbid",t.bidTimeout="wtimeout",t.bidWin="wwin",t.init="winit",t.bidBlocked="breq",t.invalidFormat="wibf"}(Wi||(Wi={}));var Ki,Xi,Zi,Qi,tr="amzniid",nr="hb_adid",ir="hb_bidder",rr="rs_fp",or={DEFAULT:"simple",LAZY_LOAD:"lazy",INFINITE_SCROLL:"infinite"},er="aurl",ur="aul",ar="aui",cr=1,sr="1",fr="2",dr={adRenderFailed:"adRenderFailed",auctionDebug:"auctionDebug",auctionInit:"auctionInit",auctionEnd:"auctionEnd",bidderDone:"bidderDone",bidWon:"bidWon",bidTimeout:"bidTimeout",bidRequested:"bidRequested",bidRejected:"bidRejected",bidResponse:"bidResponse"};!function(t){t.BANNER="banner",t.NATIVE="native"}(Ki||(Ki={})),function(t){t.BANNER="banner",t.NATIVE="native"}(Xi||(Xi={})),function(t){t.DISPLAY="d"}(Zi||(Zi={})),function(t){t.d="banner"}(Qi||(Qi={}));var lr,vr,hr,mr="rise-prebid",br=.01,wr={MRKT:1,SAAS:0},pr="fixed",yr="rvs",gr="yahoossp",kr="yahooads",_r="wr-mrkt-rtb",jr={rise:!0,openweb:!0,minutemedia:!0},Or=3e3,xr="googletag",Ir=300,Sr="USD",Ar="amazon",Er="ainit",Tr="aam",Pr="scmm",Cr="areq",Rr="abid",Mr="anobid",Dr="aerror",zr=5,Nr=5,Fr=50,Ur={MODULE:{GENERAL:"general",PREBID:"prebid",AMAZON:"amazon",GAM:"gam",TAGS:"tags"},MIN_SAMPLE_RATE:100,SEVERITY:{DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"}},qr="_checkReadyState: cannot start the auction SDK, did not find any initialized ad integration modules",Br="_checkReadyState: cannot start the auction SDK, did not find any ad integration that has at least 1 auction module",Lr="adomain",$r="adomainInclude",Vr="adomainList",Gr="adomainListInclude";!function(t){t.RATE_ZERO="1",t.ADVERTISER_DOMAIN="2"}(lr||(lr={})),function(t){t.LOW_TTL="4"}(vr||(vr={})),function(t){t.FLOOR_NOT_MET="10",t.OTHERS="99"}(hr||(hr={}));var Yr,Wr="bidExpiredTTL";!function(t){t.AD_SLOTS="slots",t.SIZE_MAPPING="sizeMapping",t.DISABLE_GRACE="disableGrace",t.OVERRIDE_LAZY_SLOT="overrideLazySlot",t.WAIT_FOR_VIEWABLE_IMPRESSION_SLOT="waitForViewableImpressionSlot",t.GENERATE_DYNAMIC_CODE="generateDynamicCode",t.DESTROY_OUT_OF_VIEW_SLOT="destroyOutOfViewSlot",t.TEMP_MULTI_CONVERSION="tempMultiConversion"}(Yr||(Yr={}));var Jr,Hr="Bid does not meet price floor";!function(t){t.LOW="low",t.MEDIUM="medium",t.HIGH="high",t.AUTO="auto",t.DENSE="dense",t.CUSTOM="custom"}(Jr||(Jr={}));var Kr,Xr={low:"pbLg",medium:"pbMg",high:"pbHg",auto:"pbAg",dense:"pbDg",custom:"pbCg"},Zr=Xr.medium,Qr="bid",to="noBid",no="timeout",io="error";!function(t){t.FULFILLED="fulfilled",t.REJECTED="rejected",t.PENDING="pending"}(Kr||(Kr={}));var ro,oo,eo,uo,ao,co,so=(ro=Hn(),oo=ro?ki.mobile:ki.desktop,eo=ro?1200:2e3,(uo=Object.keys(oo).find((function(t){return location.host.includes(t)})))?oo[uo]:eo),fo="timeout",lo="1",vo="2",ho="pbjs",mo={PREBID:1,AMAZON:1};!function(t){t.MODEL="M",t.RANDOM="R",t.DEFAULT="D",t.ERROR="U"}(ao||(ao={})),function(t){t.MODEL_ERROR="1",t.RANDOM_ERROR="2",t.MISSING_RANK="3",t.MISSING_CLIENT_FEATURES="4",t.MISSING_BLOCKED_MAP="5"}(co||(co={}));var bo,wo,po,yo="apstag.js",go=".renderImp(",ko="default",_o="configuration request error",jo="empty configuration response";!function(t){t[t.NO_CONSENT=0]="NO_CONSENT",t[t.GDPR_CONSENT=1]="GDPR_CONSENT",t[t.CCPA_CONSENT=2]="CCPA_CONSENT",t[t.OTHER=3]="OTHER"}(bo||(bo={})),function(t){t.AUCTION_SCRIPT_LOAD="0",t.CONFIG_REQUEST_DURATION="1"}(wo||(wo={})),function(t){t.CONFIG_REQUEST="config-request",t.GAM_AUCTION="gam-auction",t.AM_INIT="am-init"}(po||(po={}));var Oo,xo,Io=["AdYouLike/PCmag DSP (TTD Blocked) - adyoulike_test","adyoulike_test","Display_foxnews.com_Adyoulike_728x90","AdYouLike_DSP_(TTD_Blocked)","nypost.com_AdYouLike/NYpost_DSP_Test","Display_pagesix.com_AdYouLike/PMI_Mobile_NYpost_DSP","nypost.com_AdYouLike/PMI_Desktop_NYpost_DSP","nypost.com_AdYouLike/PMI_Mobile_NYpost_DSP","Display_ign.com_AdYouLike/IGN_DSP_(TTD_Blocked)","Display_pagesix.com_AdYouLike/PMI_Mobile_NYpost_DSP","Display_pagesix.com_AdYouLike/PMI_Desktop_NYpost_DSP","AdYouLike/NYpost_DSP_Test","AdYouLike/PMI Mobile NYpost DSP","Boston.com_AdYouLike/Boston.com_DSP_(TTD_Blocked)","Boston.com_AdYouLike/Boston.com_DSP","wr-openweb"],So=[{domain:"pcmag.com",sid:"sp_sMS4IYmO",validation:"strict"},{domain:"nypost.com",sid:"sp_Sx8YukwE",validation:"strict"},{domain:"thekitchn.com",sid:"sp_m16BNQiG",validation:"strict"},{domain:"ign.com",sid:"sp_xEkoxAFD",validation:"strict"},{domain:"apartmenttherapy.com",sid:"sp_m16BNQiG",validation:"relaxed"},{domain:"barstoolsports.com",sid:"sp_rnhQMwip",validation:"strict"},{domain:"blogto.com",sid:"pub_lFflnF0ELP04",validation:"strict"},{domain:"boston.com",sid:"sp_crJEMQyy",validation:"strict"},{domain:"dailydot.com",sid:"sp_0eSO3A2h",validation:"strict"},{domain:"dailymail.co.uk",sid:"sp_VWxmZkOI",validation:"strict"},{domain:"foxnews.com",sid:"sp_ANQXRpqH",validation:"strict"},{domain:"goal.com",sid:"pub_SJGTfATmfS5T",validation:"strict"},{domain:"huffpost.com",sid:"sp_NnUPB5wj",validation:"strict"},{domain:"lifehacker.com",sid:"sp_sMS4IYmO",validation:"strict"},{domain:"pagesix.com",sid:"sp_Sx8YukwE",validation:"strict"},{domain:"tasteofhome.com",sid:"sp_aUSaElGf",validation:"strict"},{domain:"tvinsider.com",sid:"pub_Vuoahf76MYmx",validation:"strict"},{domain:"villages-news.com",sid:"sp_VUeJ6emB",validation:"strict"},{domain:"cnn.com",sid:"pub_mM0DBXIIardI",validation:"strict"},{domain:"fandom.com",sid:"pub_W8aXLBpZg8Vm",validation:"strict"},{domain:"localhost",sid:"testOrg",validation:"strict"}];!function(t){t.CHROME="chrome"}(Oo||(Oo={})),function(t){t.SUCCEED="succeed",t.LOADING="loading",t.CREATION="creation",t.FAILED="failed",t.INITIAL="initial",t.SCRIPT_LOADED="script loaded"}(xo||(xo={}));var Ao,Eo;!function(t){t.DATA_SCIENCE_RECOMMENDATION="recommendation",t.PROJECT_DEFAULT="default"}(Ao||(Ao={})),function(t){t.INVALID="iv",t.REQUEST_FAILED="ivrf"}(Eo||(Eo={}));var To={domain:$n,v:"0.552.0"},Po="".concat("https://settings.vidiom.net/version-check/").concat(xi(To)),Co=mn(60),Ro=426,Mo="invalid version",Do="sporej",zo={native:Ki.NATIVE,banner:Ki.BANNER};function No(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Fo=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Uo=()=>Math.random().toString(36).substring(7).split("").join("."),qo={INIT:`@@redux/INIT${Uo()}`,REPLACE:`@@redux/REPLACE${Uo()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Uo()}`};function Bo(t){if("object"!=typeof t||null===t)return!1;let n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n||null===Object.getPrototypeOf(t)}function Lo(t,n,i){if("function"!=typeof t)throw new Error(No(2));if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(No(0));if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error(No(1));return i(Lo)(t,n)}let r=t,o=n,e=new Map,u=e,a=0,c=!1;function s(){u===e&&(u=new Map,e.forEach(((t,n)=>{u.set(n,t)})))}function f(){if(c)throw new Error(No(3));return o}function d(t){if("function"!=typeof t)throw new Error(No(4));if(c)throw new Error(No(5));let n=!0;s();const i=a++;return u.set(i,t),function(){if(n){if(c)throw new Error(No(6));n=!1,s(),u.delete(i),e=null}}}function l(t){if(!Bo(t))throw new Error(No(7));if(void 0===t.type)throw new Error(No(8));if("string"!=typeof t.type)throw new Error(No(17));if(c)throw new Error(No(9));try{c=!0,o=r(o,t)}finally{c=!1}return(e=u).forEach((t=>{t()})),t}l({type:qo.INIT});const v={dispatch:l,subscribe:d,getState:f,replaceReducer:function(t){if("function"!=typeof t)throw new Error(No(10));r=t,l({type:qo.REPLACE})},[Fo]:function(){const t=d;return{subscribe(n){if("object"!=typeof n||null===n)throw new Error(No(11));function i(){const t=n;t.next&&t.next(f())}i();return{unsubscribe:t(i)}},[Fo](){return this}}}};return v}function $o(t){const n=Object.keys(t),i={};for(let r=0;r<n.length;r++){const o=n[r];0,"function"==typeof t[o]&&(i[o]=t[o])}const r=Object.keys(i);let o;try{!function(t){Object.keys(t).forEach((n=>{const i=t[n];if(void 0===i(void 0,{type:qo.INIT}))throw new Error(No(12));if(void 0===i(void 0,{type:qo.PROBE_UNKNOWN_ACTION()}))throw new Error(No(13))}))}(i)}catch(t){o=t}return function(t={},n){if(o)throw o;let e=!1;const u={};for(let o=0;o<r.length;o++){const a=r[o],c=i[a],s=t[a],f=c(s,n);if(void 0===f){n&&n.type;throw new Error(No(14))}u[a]=f,e=e||f!==s}return e=e||r.length!==Object.keys(t).length,e?u:t}}function Vo(...t){return 0===t.length?t=>t:1===t.length?t[0]:t.reduce(((t,n)=>(...i)=>t(n(...i))))}function Go(t){return Bo(t)&&"type"in t&&"string"==typeof t.type}function Yo(t){return({dispatch:n,getState:i})=>r=>o=>"function"==typeof o?o(n,i,t):r(o)}var Wo=Yo(),Jo=Yo,Ho=Symbol.for("immer-nothing"),Ko=Symbol.for("immer-draftable"),Xo=Symbol.for("immer-state");function Zo(t,...n){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qo=Object.getPrototypeOf;function te(t){return!!t&&!!t[Xo]}function ne(t){return!!t&&(re(t)||Array.isArray(t)||!!t[Ko]||!!t.constructor?.[Ko]||ce(t)||se(t))}var ie=Object.prototype.constructor.toString();function re(t){if(!t||"object"!=typeof t)return!1;const n=Qo(t);if(null===n)return!0;const i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||"function"==typeof i&&Function.toString.call(i)===ie}function oe(t,n){0===ee(t)?Reflect.ownKeys(t).forEach((i=>{n(i,t[i],t)})):t.forEach(((i,r)=>n(r,i,t)))}function ee(t){const n=t[Xo];return n?n.type_:Array.isArray(t)?1:ce(t)?2:se(t)?3:0}function ue(t,n){return 2===ee(t)?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function ae(t,n,i){const r=ee(t);2===r?t.set(n,i):3===r?t.add(i):t[n]=i}function ce(t){return t instanceof Map}function se(t){return t instanceof Set}function fe(t){return t.copy_||t.base_}function de(t,n){if(ce(t))return new Map(t);if(se(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const i=re(t);if(!0===n||"class_only"===n&&!i){const n=Object.getOwnPropertyDescriptors(t);delete n[Xo];let i=Reflect.ownKeys(n);for(let r=0;r<i.length;r++){const o=i[r],e=n[o];!1===e.writable&&(e.writable=!0,e.configurable=!0),(e.get||e.set)&&(n[o]={configurable:!0,writable:!0,enumerable:e.enumerable,value:t[o]})}return Object.create(Qo(t),n)}{const n=Qo(t);if(null!==n&&i)return{...t};const r=Object.create(n);return Object.assign(r,t)}}function le(t,n=!1){return he(t)||te(t)||!ne(t)||(ee(t)>1&&(t.set=t.add=t.clear=t.delete=ve),Object.freeze(t),n&&Object.entries(t).forEach((([t,n])=>le(n,!0)))),t}function ve(){Zo(2)}function he(t){return Object.isFrozen(t)}var me,be={};function we(t){const n=be[t];return n||Zo(0),n}function pe(){return me}function ye(t,n){n&&(we("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=n)}function ge(t){ke(t),t.drafts_.forEach(je),t.drafts_=null}function ke(t){t===me&&(me=t.parent_)}function _e(t){return me={drafts_:[],parent_:me,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function je(t){const n=t[Xo];0===n.type_||1===n.type_?n.revoke_():n.revoked_=!0}function Oe(t,n){n.unfinalizedDrafts_=n.drafts_.length;const i=n.drafts_[0];return void 0!==t&&t!==i?(i[Xo].modified_&&(ge(n),Zo(4)),ne(t)&&(t=xe(n,t),n.parent_||Se(n,t)),n.patches_&&we("Patches").generateReplacementPatches_(i[Xo].base_,t,n.patches_,n.inversePatches_)):t=xe(n,i,[]),ge(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),t!==Ho?t:void 0}function xe(t,n,i){if(he(n))return n;const r=n[Xo];if(!r)return oe(n,((o,e)=>Ie(t,r,n,o,e,i))),n;if(r.scope_!==t)return n;if(!r.modified_)return Se(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const n=r.copy_;let o=n,e=!1;3===r.type_&&(o=new Set(n),n.clear(),e=!0),oe(o,((o,u)=>Ie(t,r,n,o,u,i,e))),Se(t,n,!1),i&&t.patches_&&we("Patches").generatePatches_(r,i,t.patches_,t.inversePatches_)}return r.copy_}function Ie(t,n,i,r,o,e,u){if(te(o)){const u=xe(t,o,e&&n&&3!==n.type_&&!ue(n.assigned_,r)?e.concat(r):void 0);if(ae(i,r,u),!te(u))return;t.canAutoFreeze_=!1}else u&&i.add(o);if(ne(o)&&!he(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;xe(t,o),n&&n.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(i,r)||Se(t,o)}}function Se(t,n,i=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&le(n,i)}var Ae={get(t,n){if(n===Xo)return t;const i=fe(t);if(!ue(i,n))return function(t,n,i){const r=Pe(n,i);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}(t,i,n);const r=i[n];return t.finalized_||!ne(r)?r:r===Te(t.base_,n)?(Re(t),t.copy_[n]=Me(r,t)):r},has:(t,n)=>n in fe(t),ownKeys:t=>Reflect.ownKeys(fe(t)),set(t,n,i){const r=Pe(fe(t),n);if(r?.set)return r.set.call(t.draft_,i),!0;if(!t.modified_){const r=Te(fe(t),n),u=r?.[Xo];if(u&&u.base_===i)return t.copy_[n]=i,t.assigned_[n]=!1,!0;if(((o=i)===(e=r)?0!==o||1/o==1/e:o!=o&&e!=e)&&(void 0!==i||ue(t.base_,n)))return!0;Re(t),Ce(t)}var o,e;return t.copy_[n]===i&&(void 0!==i||n in t.copy_)||Number.isNaN(i)&&Number.isNaN(t.copy_[n])||(t.copy_[n]=i,t.assigned_[n]=!0),!0},deleteProperty:(t,n)=>(void 0!==Te(t.base_,n)||n in t.base_?(t.assigned_[n]=!1,Re(t),Ce(t)):delete t.assigned_[n],t.copy_&&delete t.copy_[n],!0),getOwnPropertyDescriptor(t,n){const i=fe(t),r=Reflect.getOwnPropertyDescriptor(i,n);return r?{writable:!0,configurable:1!==t.type_||"length"!==n,enumerable:r.enumerable,value:i[n]}:r},defineProperty(){Zo(11)},getPrototypeOf:t=>Qo(t.base_),setPrototypeOf(){Zo(12)}},Ee={};function Te(t,n){const i=t[Xo];return(i?fe(i):t)[n]}function Pe(t,n){if(!(n in t))return;let i=Qo(t);for(;i;){const t=Object.getOwnPropertyDescriptor(i,n);if(t)return t;i=Qo(i)}}function Ce(t){t.modified_||(t.modified_=!0,t.parent_&&Ce(t.parent_))}function Re(t){t.copy_||(t.copy_=de(t.base_,t.scope_.immer_.useStrictShallowCopy_))}oe(Ae,((t,n)=>{Ee[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),Ee.deleteProperty=function(t,n){return Ee.set.call(this,t,n,void 0)},Ee.set=function(t,n,i){return Ae.set.call(this,t[0],n,i,t[0])};function Me(t,n){const i=ce(t)?we("MapSet").proxyMap_(t,n):se(t)?we("MapSet").proxySet_(t,n):function(t,n){const i=Array.isArray(t),r={type_:i?1:0,scope_:n?n.scope_:pe(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,e=Ae;i&&(o=[r],e=Ee);const{revoke:u,proxy:a}=Proxy.revocable(o,e);return r.draft_=a,r.revoke_=u,a}(t,n);return(n?n.scope_:pe()).drafts_.push(i),i}function De(t){if(!ne(t)||he(t))return t;const n=t[Xo];let i;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,i=de(t,n.scope_.immer_.useStrictShallowCopy_)}else i=de(t,!0);return oe(i,((t,n)=>{ae(i,t,De(n))})),n&&(n.finalized_=!1),i}var ze=new class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if("function"==typeof t&&"function"!=typeof n){const i=n;n=t;const r=this;return function(t=i,...o){return r.produce(t,(t=>n.call(this,t,...o)))}}let r;if("function"!=typeof n&&Zo(6),void 0!==i&&"function"!=typeof i&&Zo(7),ne(t)){const o=_e(this),e=Me(t,void 0);let u=!0;try{r=n(e),u=!1}finally{u?ge(o):ke(o)}return ye(o,i),Oe(r,o)}if(!t||"object"!=typeof t){if(r=n(t),void 0===r&&(r=t),r===Ho&&(r=void 0),this.autoFreeze_&&le(r,!0),i){const n=[],o=[];we("Patches").generateReplacementPatches_(t,r,n,o),i(n,o)}return r}Zo(1)},this.produceWithPatches=(t,n)=>{if("function"==typeof t)return(n,...i)=>this.produceWithPatches(n,(n=>t(n,...i)));let i,r;return[this.produce(t,n,((t,n)=>{i=t,r=n})),i,r]},"boolean"==typeof t?.autoFreeze&&this.setAutoFreeze(t.autoFreeze),"boolean"==typeof t?.useStrictShallowCopy&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ne(t)||Zo(8),te(t)&&(t=function(t){te(t)||Zo(10);return De(t)}(t));const n=_e(this),i=Me(t,void 0);return i[Xo].isManual_=!0,ke(n),i}finishDraft(t,n){const i=t&&t[Xo];i&&i.isManual_||Zo(9);const{scope_:r}=i;return ye(r,n),Oe(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let i;for(i=n.length-1;i>=0;i--){const r=n[i];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}i>-1&&(n=n.slice(i+1));const r=we("Patches").applyPatches_;return te(t)?r(t,n):this.produce(t,(t=>r(t,n)))}},Ne=ze.produce;ze.produceWithPatches.bind(ze),ze.setAutoFreeze.bind(ze),ze.setUseStrictShallowCopy.bind(ze),ze.applyPatches.bind(ze),ze.createDraft.bind(ze),ze.finishDraft.bind(ze);i(606);var Fe="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Vo:Vo.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ue(t,n){function i(...i){if(n){let r=n(...i);if(!r)throw new Error(Pu(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:i[0]}}return i.toString=()=>`${t}`,i.type=t,i.match=n=>Go(n)&&n.type===t,i}var qe=class t extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,t.prototype)}static get[Symbol.species](){return t}concat(...t){return super.concat.apply(this,t)}prepend(...n){return 1===n.length&&Array.isArray(n[0])?new t(...n[0].concat(this)):new t(...n.concat(this))}};function Be(t){return ne(t)?Ne(t,(()=>{})):t}function Le(t,n,i){return t.has(n)?t.get(n):t.set(n,i(n)).get(n)}var $e="RTK_autoBatch",Ve=t=>n=>{setTimeout(n,t)},Ge=t=>function(n){const{autoBatch:i=!0}=n??{};let r=new qe(t);return i&&r.push(((t={type:"raf"})=>n=>(...i)=>{const r=n(...i);let o=!0,e=!1,u=!1;const a=new Set,c="tick"===t.type?queueMicrotask:"raf"===t.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ve(10):"callback"===t.type?t.queueNotification:Ve(t.timeout),s=()=>{u=!1,e&&(e=!1,a.forEach((t=>t())))};return Object.assign({},r,{subscribe(t){const n=r.subscribe((()=>o&&t()));return a.add(t),()=>{n(),a.delete(t)}},dispatch(t){try{return o=!t?.meta?.[$e],e=!o,e&&(u||(u=!0,c(s))),r.dispatch(t)}finally{o=!0}}})})("object"==typeof i?i:void 0)),r};function Ye(t){const n={},i=[];let r;const o={addCase(t,i){const r="string"==typeof t?t:t.type;if(!r)throw new Error(Pu(28));if(r in n)throw new Error(Pu(29));return n[r]=i,o},addMatcher:(t,n)=>(i.push({matcher:t,reducer:n}),o),addDefaultCase:t=>(r=t,o)};return t(o),[n,i,r]}var We=(t=21)=>{let n="",i=t;for(;i--;)n+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return n};var Je=Symbol.for("rtk-slice-createasyncthunk");function He(t,n){return`${t}/${n}`}function Ke({creators:t}={}){const n=t?.asyncThunk?.[Je];return function(t){const{name:i,reducerPath:r=i}=t;if(!i)throw new Error(Pu(11));const o=("function"==typeof t.reducers?t.reducers(function(){function t(t,n){return{C:"asyncThunk",payloadCreator:t,...n}}return t.withTypes=()=>t,{reducer:t=>Object.assign({[t.name]:(...n)=>t(...n)}[t.name],{C:"reducer"}),preparedReducer:(t,n)=>({C:"reducerWithPrepare",prepare:t,reducer:n}),asyncThunk:t}}()):t.reducers)||{},e=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(t,n){const i="string"==typeof t?t:t.type;if(!i)throw new Error(Pu(12));if(i in u.sliceCaseReducersByType)throw new Error(Pu(13));return u.sliceCaseReducersByType[i]=n,a},addMatcher:(t,n)=>(u.sliceMatchers.push({matcher:t,reducer:n}),a),exposeAction:(t,n)=>(u.actionCreators[t]=n,a),exposeCaseReducer:(t,n)=>(u.sliceCaseReducersByName[t]=n,a)};function c(){const[n={},i=[],r]="function"==typeof t.extraReducers?Ye(t.extraReducers):[t.extraReducers],o={...n,...u.sliceCaseReducersByType};return function(t,n){let i,[r,o,e]=Ye(n);if("function"==typeof t)i=()=>Be(t());else{const n=Be(t);i=()=>n}function u(t=i(),n){let u=[r[n.type],...o.filter((({matcher:t})=>t(n))).map((({reducer:t})=>t))];return 0===u.filter((t=>!!t)).length&&(u=[e]),u.reduce(((t,i)=>{if(i){if(te(t)){const r=i(t,n);return void 0===r?t:r}if(ne(t))return Ne(t,(t=>i(t,n)));{const r=i(t,n);if(void 0===r){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return t}),t)}return u.getInitialState=i,u}(t.initialState,(t=>{for(let n in o)t.addCase(n,o[n]);for(let n of u.sliceMatchers)t.addMatcher(n.matcher,n.reducer);for(let n of i)t.addMatcher(n.matcher,n.reducer);r&&t.addDefaultCase(r)}))}e.forEach((r=>{const e=o[r],u={reducerName:r,type:He(i,r),createNotation:"function"==typeof t.reducers};!function(t){return"asyncThunk"===t.C}(e)?function({type:t,reducerName:n,createNotation:i},r,o){let e,u;if("reducer"in r){if(i&&!function(t){return"reducerWithPrepare"===t.C}(r))throw new Error(Pu(17));e=r.reducer,u=r.prepare}else e=r;o.addCase(t,e).exposeCaseReducer(n,e).exposeAction(n,u?Ue(t,u):Ue(t))}(u,e,a):function({type:t,reducerName:n},i,r,o){if(!o)throw new Error(Pu(18));const{payloadCreator:e,fulfilled:u,pending:a,rejected:c,settled:s,options:f}=i,d=o(t,e,f);r.exposeAction(n,d),u&&r.addCase(d.fulfilled,u);a&&r.addCase(d.pending,a);c&&r.addCase(d.rejected,c);s&&r.addMatcher(d.settled,s);r.exposeCaseReducer(n,{fulfilled:u||Qe,pending:a||Qe,rejected:c||Qe,settled:s||Qe})}(u,e,a,n)}));const s=t=>t,f=new Map;let d;function l(t,n){return d||(d=c()),d(t,n)}function v(){return d||(d=c()),d.getInitialState()}function h(n,i=!1){function r(t){let r=t[n];return void 0===r&&i&&(r=v()),r}function o(n=s){const r=Le(f,i,(()=>new WeakMap));return Le(r,n,(()=>{const r={};for(const[o,e]of Object.entries(t.selectors??{}))r[o]=Xe(e,n,v,i);return r}))}return{reducerPath:n,getSelectors:o,get selectors(){return o(r)},selectSlice:r}}const m={name:i,reducer:l,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...h(r),injectInto(t,{reducerPath:n,...i}={}){const o=n??r;return t.inject({reducerPath:o,reducer:l},i),{...m,...h(o,!0)}}};return m}}function Xe(t,n,i,r){function o(o,...e){let u=n(o);return void 0===u&&r&&(u=i()),t(u,...e)}return o.unwrapped=t,o}var Ze=Ke();function Qe(){}var tu="listener",nu="completed",iu="cancelled",ru=`task-${iu}`,ou=`task-${nu}`,eu=`${tu}-${iu}`,uu=`${tu}-${nu}`,au=class{constructor(t){this.code=t,this.message=`task ${iu} (reason: ${t})`}name="TaskAbortError";message},cu=(t,n)=>{if("function"!=typeof t)throw new TypeError(Pu(32))},su=()=>{},fu=(t,n=su)=>(t.catch(n),t),du=(t,n)=>(t.addEventListener("abort",n,{once:!0}),()=>t.removeEventListener("abort",n)),lu=(t,n)=>{const i=t.signal;i.aborted||("reason"in i||Object.defineProperty(i,"reason",{enumerable:!0,value:n,configurable:!0,writable:!0}),t.abort(n))},vu=t=>{if(t.aborted){const{reason:n}=t;throw new au(n)}};function hu(t,n){let i=su;return new Promise(((r,o)=>{const e=()=>o(new au(t.reason));t.aborted?e():(i=du(t,e),n.finally((()=>i())).then(r,o))})).finally((()=>{i=su}))}var mu=t=>n=>fu(hu(t,n).then((n=>(vu(t),n)))),bu=t=>{const n=mu(t);return t=>n(new Promise((n=>setTimeout(n,t))))},{assign:wu}=Object,pu={},yu="listenerMiddleware",gu=(t,n)=>(i,r)=>{cu(i);const o=new AbortController;var e;e=o,du(t,(()=>lu(e,t.reason)));const u=(async(t,n)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(t){return{status:t instanceof au?"cancelled":"rejected",error:t}}finally{n?.()}})((async()=>{vu(t),vu(o.signal);const n=await i({pause:mu(o.signal),delay:bu(o.signal),signal:o.signal});return vu(o.signal),n}),(()=>lu(o,ou)));return r?.autoJoin&&n.push(u.catch(su)),{result:mu(t)(u),cancel(){lu(o,ru)}}},ku=(t,n)=>(i,r)=>fu((async(i,r)=>{vu(n);let o=()=>{};const e=[new Promise(((n,r)=>{let e=t({predicate:i,effect:(t,i)=>{i.unsubscribe(),n([t,i.getState(),i.getOriginalState()])}});o=()=>{e(),r()}}))];null!=r&&e.push(new Promise((t=>setTimeout(t,r,null))));try{const t=await hu(n,Promise.race(e));return vu(n),t}finally{o()}})(i,r)),_u=t=>{let{type:n,actionCreator:i,matcher:r,predicate:o,effect:e}=t;if(n)o=Ue(n).match;else if(i)n=i.type,o=i.match;else if(r)o=r;else if(!o)throw new Error(Pu(21));return cu(e),{predicate:o,type:n,effect:e}},ju=wu((t=>{const{type:n,predicate:i,effect:r}=_u(t);return{id:We(),effect:r,type:n,predicate:i,pending:new Set,unsubscribe:()=>{throw new Error(Pu(22))}}}),{withTypes:()=>ju}),Ou=(t,n)=>{const{type:i,effect:r,predicate:o}=_u(n);return Array.from(t.values()).find((t=>("string"==typeof i?t.type===i:t.predicate===o)&&t.effect===r))},xu=t=>{t.pending.forEach((t=>{lu(t,eu)}))},Iu=(t,n,i)=>{try{t(n,i)}catch(t){setTimeout((()=>{throw t}),0)}},Su=wu(Ue(`${yu}/add`),{withTypes:()=>Su}),Au=Ue(`${yu}/removeAll`),Eu=wu(Ue(`${yu}/remove`),{withTypes:()=>Eu}),Tu=(...t)=>{console.error(`${yu}/error`,...t)};Symbol.for("rtk-state-proxy-original");function Pu(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Cu={cache:{},configuration:{}},Ru=Ze({name:"bidsCache",initialState:Cu,reducers:{clear:function(){return Cu},setTypeCache:function(t,n){var i=n.payload,r=i.typeArray,o=i.adUnitPath,e=i.type;t.cache[o][e]=r},addBid:function(t,n){var i=n.payload,r=i.bid,o=i.adUnitPath,e=i.type;t.cache[o]||(t.cache[o]={}),t.cache[o][e]||(t.cache[o][e]=[]),t.cache[o][e].push(r),t.cache[o][e].sort(Mu)},removeBid:function(t,n){var i,r,o=n.payload,e=o.bid,u=o.adUnitPath,a=o.type;(null===(r=null===(i=t.cache[u])||void 0===i?void 0:i[a])||void 0===r?void 0:r.length)&&(t.cache[u][a]=t.cache[u][a].filter((function(t){return t.auctionBidId!==e.auctionBidId})))},resetCache:function(t,n){var i=n.payload,r=i.adUnitPath,o=i.type;t.cache[r][o]=[]},pullFirstBid:function(t,n){var i=n.payload,r=i.adUnitPath,o=i.type;t.cache[r][o].shift()},setCacheLimit:function(t,n){for(var i=0,r=Object.entries(n.payload);i<r.length;i++){var o=r[i],e=o[0],u=o[1];t.configuration[e]||(t.configuration[e]={}),t.configuration[e].cacheLimit=u}}}});function Mu(t,n){return n.rateSort&&t.rateSort?n.rateSort-t.rateSort:Du(n.rate)-Du(t.rate)}function Du(t){return"number"==typeof t?t:Number(t)||0}var zu=Ru.actions;const Nu=Ru.reducer;var Fu={visibility:document.visibilityState},Uu=Ze({name:"pageState",initialState:Fu,reducers:{clear:function(){return Fu},setVisibility:function(t,n){t.visibility=n.payload}}}),qu=Uu.actions;const Bu=Uu.reducer;var Lu=Ze({name:"intentIqState",initialState:{isIntentShouldRun:!1,status:xo.INITIAL},reducers:{setIsIntentShouldRun:function(t,n){t.isIntentShouldRun=n.payload},setIntentStatus:function(t,n){t.status=n.payload},setIntentData:function(t,n){var i=n.payload,r=i.ids,o=i.abGroup;Object.assign(t,{ids:r,abGroup:o})},setIntentObjectName:function(t,n){var i=n.payload;t.intentObjectName=i}}}),$u=Lu.actions;const Vu=Lu.reducer;var Gu=((t={})=>{const n=new Map,{extra:i,onError:r=Tu}=t;cu(r);const o=t=>(t=>(t.unsubscribe=()=>n.delete(t.id),n.set(t.id,t),n=>{t.unsubscribe(),n?.cancelActive&&xu(t)}))(Ou(n,t)??ju(t));wu(o,{withTypes:()=>o});const e=t=>{const i=Ou(n,t);return i&&(i.unsubscribe(),t.cancelActive&&xu(i)),!!i};wu(e,{withTypes:()=>e});const u=async(t,e,u,a)=>{const c=new AbortController,s=ku(o,c.signal),f=[];try{t.pending.add(c),await Promise.resolve(t.effect(e,wu({},u,{getOriginalState:a,condition:(t,n)=>s(t,n).then(Boolean),take:s,delay:bu(c.signal),pause:mu(c.signal),extra:i,signal:c.signal,fork:gu(c.signal,f),unsubscribe:t.unsubscribe,subscribe:()=>{n.set(t.id,t)},cancelActiveListeners:()=>{t.pending.forEach(((t,n,i)=>{t!==c&&(lu(t,eu),i.delete(t))}))},cancel:()=>{lu(c,eu),t.pending.delete(c)},throwIfCancelled:()=>{vu(c.signal)}})))}catch(t){t instanceof au||Iu(r,t,{raisedBy:"effect"})}finally{await Promise.all(f),lu(c,uu),t.pending.delete(c)}},a=(t=>()=>{t.forEach(xu),t.clear()})(n);return{middleware:t=>i=>c=>{if(!Go(c))return i(c);if(Su.match(c))return o(c.payload);if(Au.match(c))return void a();if(Eu.match(c))return e(c.payload);let s=t.getState();const f=()=>{if(s===pu)throw new Error(Pu(23));return s};let d;try{if(d=i(c),n.size>0){const i=t.getState(),o=Array.from(n.values());for(const n of o){let o=!1;try{o=n.predicate(c,i,s)}catch(t){o=!1,Iu(r,t,{raisedBy:"predicate"})}o&&u(n,c,t,f)}}}finally{s=pu}return d},startListening:o,stopListening:e,clearListeners:a}})(),Yu=function(t){const n=function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=t??{};let e=new qe;return n&&("boolean"==typeof n?e.push(Wo):e.push(Jo(n.extraArgument))),e},{reducer:i,middleware:r,devTools:o=!0,preloadedState:e,enhancers:u}=t||{};let a,c;if("function"==typeof i)a=i;else{if(!Bo(i))throw new Error(Pu(1));a=$o(i)}c="function"==typeof r?r(n):n();let s=Vo;o&&(s=Fe({trace:!1,..."object"==typeof o&&o}));const f=function(...t){return n=>(i,r)=>{const o=n(i,r);let e=()=>{throw new Error(No(15))};const u={getState:o.getState,dispatch:(t,...n)=>e(t,...n)},a=t.map((t=>t(u)));return e=Vo(...a)(o.dispatch),{...o,dispatch:e}}}(...c),d=Ge(f);return Lo(a,e,s(..."function"==typeof u?u(d):d()))}({devTools:!1,reducer:{bidsCache:Nu,pageState:Bu,intentIqState:Vu},middleware:function(t){return t().prepend(Gu.middleware)}}),Wu={clear:function(){Yu.dispatch(qu.clear())},init:function(){document.addEventListener("visibilitychange",(function(){Wu.setVisibility(document.visibilityState)}))},setVisibility:function(t){Yu.dispatch(qu.setVisibility(t))},getVisibility:function(){return Yu.getState().pageState.visibility},tabInView:function(){return"visible"===Wu.getVisibility()},tabOutOfView:function(){return!Wu.tabInView()}};function Ju(t){void 0===t&&(t="");for(var n=16777619,i=2166136261,r=0,o=t.length;r<o;r++){var e=t.charCodeAt(r);i=(i^=255&e)*n|0,i=(i^=e>>8)*n|0}return i}new Proxy({},{get:function(t,n,i){return function(){return i}}});var Hu=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},Ku=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function Xu(t){return Hu(this,void 0,void 0,(function(){return Ku(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t];case 1:return[2,[n.sent(),null]];case 2:return[2,[null,n.sent()]];case 3:return[2]}}))}))}function Zu(t,n){var i;return t===Si.PREBID?(null===(i=null==n?void 0:n.additional)||void 0===i?void 0:i.type)===wr.MRKT?_r:Gi.PREBID:t===Si.AMAZON?Gi.AMAZON:void 0}function Qu(t){return Hu(this,void 0,void 0,(function(){var n;return Ku(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),n={},[4,Promise.race([t,n])];case 1:return i.sent()===n?[2,Kr.PENDING]:[2,Kr.FULFILLED];case 2:return i.sent(),[2,Kr.REJECTED];case 3:return[2]}}))}))}function ta(t,n){return Array.isArray(t)?t.reduce((function(t,i){var r=i[n];return t[r]||(t[r]=[]),t[r].push(i),t}),{}):{}}function na(t,n,i){return"".concat(t).replace("[LOOP]",String(i)).replace("[BIDDER]",n)}function ia(t,n){if(t){for(var i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];if(o!==ko){var e=o.split("-",2).map((function(t){return t?Number(t):void 0})),u=e[0],a=e[1];if(n===u||n>=u&&n<=a)return t[o]}}return t[ko]}}function ra(t,n){if(t){var i=t[n],r=t[ko];return i||r}}function oa(t,n,i){var r=t;return n.forEach((function(t){switch(t){case ri.BUYER_ID:r=ra(r,i.buyerId);break;case ri.PLAYER_ID:r=ra(r,i.playerId);break;case ri.LOOP:break;default:r=r[ko]}})),r}function ea(t,n,i,r,o){var e,u,a,c=ao.DEFAULT;if(null==t?void 0:t.optimizedFloorsMapNewV){var s=oa(t.optimizedFloorsMapNewV,t.client_features,i);e=s?ia(s,n):void 0,s?e&&(c=ao.MODEL):(c=ao.ERROR,a=co.MODEL_ERROR)}else if(null==t?void 0:t.randomDistribution){var f=na(null==t?void 0:t.hashMacro,i.buyerId,n),d=Math.abs(Ju(f))%t.randomDistribution.length;c=(e=t.randomDistribution[d])?ao.RANDOM:(a=co.RANDOM_ERROR,ao.ERROR)}return{modelVal:u=e=!e||isNaN(e)?null!=o?o:r:e,model:c,reportString:ua(t,u,c),modelError:a}}function ua(t,n,i){if(!(null==t?void 0:t.bl_flow_id))return"no-fpo-data_".concat(n,"_D");var r=t.bl_flow_id.replace("[FLOOR]",null==n?void 0:n.toString()),o=t.bl_flow_id.slice(-1);return t.optimizedFloorsMapNewV&&o!==i&&(r=r.replace(/.$/,i)),r}function aa(t,n,i){if(!(null==t?void 0:t.bl_flow_id))return"no-fpo-data_".concat(i.modelVal,"_D");var r=n.map((function(n){var r,o;return ua(t,null!==(o=null===(r=n.floorData)||void 0===r?void 0:r.cpmAfterAdjustments)&&void 0!==o?o:sa(n),i.model)}));return r.join()}function ca(t){var n=t.map((function(t){var n,i;return null!==(i=null===(n=t.floorData)||void 0===n?void 0:n.cpmAfterAdjustments)&&void 0!==i?i:sa(t)}));return n.join()}function sa(t){var n;return(null===(n=null==t?void 0:t.getFloor)||void 0===n?void 0:n.call(t).floor)||0}function fa(t,n){var i;return void 0===n&&(n="__"),null===(i=null==t?void 0:t.split(n))||void 0===i?void 0:i[0]}function da(t){return void 0===t&&(t=[]),t.sort().join("-")}function la(t){if(t&&"object"==typeof t)return da(Object.keys(t))}const va=i(228);const ha=function(){this.__data__=[],this.size=0};const ma=function(t,n){return t===n||t!=t&&n!=n};const ba=function(t,n){for(var i=t.length;i--;)if(ma(t[i][0],n))return i;return-1};var wa=Array.prototype.splice;const pa=function(t){var n=this.__data__,i=ba(n,t);return!(i<0)&&(i==n.length-1?n.pop():wa.call(n,i,1),--this.size,!0)};const ya=function(t){var n=this.__data__,i=ba(n,t);return i<0?void 0:n[i][1]};const ga=function(t){return ba(this.__data__,t)>-1};const ka=function(t,n){var i=this.__data__,r=ba(i,t);return r<0?(++this.size,i.push([t,n])):i[r][1]=n,this};function _a(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}_a.prototype.clear=ha,_a.prototype.delete=pa,_a.prototype.get=ya,_a.prototype.has=ga,_a.prototype.set=ka;const ja=_a;const Oa=function(){this.__data__=new ja,this.size=0};const xa=function(t){var n=this.__data__,i=n.delete(t);return this.size=n.size,i};const Ia=function(t){return this.__data__.get(t)};const Sa=function(t){return this.__data__.has(t)};const Aa="object"==typeof global&&global&&global.Object===Object&&global;var Ea="object"==typeof self&&self&&self.Object===Object&&self;const Ta=Aa||Ea||Function("return this")();const Pa=Ta.Symbol;var Ca=Object.prototype,Ra=Ca.hasOwnProperty,Ma=Ca.toString,Da=Pa?Pa.toStringTag:void 0;const za=function(t){var n=Ra.call(t,Da),i=t[Da];try{t[Da]=void 0;var r=!0}catch(t){}var o=Ma.call(t);return r&&(n?t[Da]=i:delete t[Da]),o};var Na=Object.prototype.toString;const Fa=function(t){return Na.call(t)};var Ua=Pa?Pa.toStringTag:void 0;const qa=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Ua&&Ua in Object(t)?za(t):Fa(t)};const Ba=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)};const La=function(t){if(!Ba(t))return!1;var n=qa(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n};const $a=Ta["__core-js_shared__"];var Va,Ga=(Va=/[^.]+$/.exec($a&&$a.keys&&$a.keys.IE_PROTO||""))?"Symbol(src)_1."+Va:"";const Ya=function(t){return!!Ga&&Ga in t};var Wa=Function.prototype.toString;const Ja=function(t){if(null!=t){try{return Wa.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Ha=/^\[object .+?Constructor\]$/,Ka=Function.prototype,Xa=Object.prototype,Za=Ka.toString,Qa=Xa.hasOwnProperty,tc=RegExp("^"+Za.call(Qa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const nc=function(t){return!(!Ba(t)||Ya(t))&&(La(t)?tc:Ha).test(Ja(t))};const ic=function(t,n){return null==t?void 0:t[n]};const rc=function(t,n){var i=ic(t,n);return nc(i)?i:void 0};const oc=rc(Ta,"Map");const ec=rc(Object,"create");const uc=function(){this.__data__=ec?ec(null):{},this.size=0};const ac=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n};var cc=Object.prototype.hasOwnProperty;const sc=function(t){var n=this.__data__;if(ec){var i=n[t];return"__lodash_hash_undefined__"===i?void 0:i}return cc.call(n,t)?n[t]:void 0};var fc=Object.prototype.hasOwnProperty;const dc=function(t){var n=this.__data__;return ec?void 0!==n[t]:fc.call(n,t)};const lc=function(t,n){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ec&&void 0===n?"__lodash_hash_undefined__":n,this};function vc(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}vc.prototype.clear=uc,vc.prototype.delete=ac,vc.prototype.get=sc,vc.prototype.has=dc,vc.prototype.set=lc;const hc=vc;const mc=function(){this.size=0,this.__data__={hash:new hc,map:new(oc||ja),string:new hc}};const bc=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t};const wc=function(t,n){var i=t.__data__;return bc(n)?i["string"==typeof n?"string":"hash"]:i.map};const pc=function(t){var n=wc(this,t).delete(t);return this.size-=n?1:0,n};const yc=function(t){return wc(this,t).get(t)};const gc=function(t){return wc(this,t).has(t)};const kc=function(t,n){var i=wc(this,t),r=i.size;return i.set(t,n),this.size+=i.size==r?0:1,this};function _c(t){var n=-1,i=null==t?0:t.length;for(this.clear();++n<i;){var r=t[n];this.set(r[0],r[1])}}_c.prototype.clear=mc,_c.prototype.delete=pc,_c.prototype.get=yc,_c.prototype.has=gc,_c.prototype.set=kc;const jc=_c;const Oc=function(t,n){var i=this.__data__;if(i instanceof ja){var r=i.__data__;if(!oc||r.length<199)return r.push([t,n]),this.size=++i.size,this;i=this.__data__=new jc(r)}return i.set(t,n),this.size=i.size,this};function xc(t){var n=this.__data__=new ja(t);this.size=n.size}xc.prototype.clear=Oa,xc.prototype.delete=xa,xc.prototype.get=Ia,xc.prototype.has=Sa,xc.prototype.set=Oc;const Ic=xc;const Sc=function(t,n){for(var i=-1,r=null==t?0:t.length;++i<r&&!1!==n(t[i],i,t););return t};var Ac=function(){try{var t=rc(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const Ec=Ac;const Tc=function(t,n,i){"__proto__"==n&&Ec?Ec(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i};var Pc=Object.prototype.hasOwnProperty;const Cc=function(t,n,i){var r=t[n];Pc.call(t,n)&&ma(r,i)&&(void 0!==i||n in t)||Tc(t,n,i)};const Rc=function(t,n,i,r){var o=!i;i||(i={});for(var e=-1,u=n.length;++e<u;){var a=n[e],c=r?r(i[a],t[a],a,i,t):void 0;void 0===c&&(c=t[a]),o?Tc(i,a,c):Cc(i,a,c)}return i};const Mc=function(t,n){for(var i=-1,r=Array(t);++i<t;)r[i]=n(i);return r};const Dc=function(t){return null!=t&&"object"==typeof t};const zc=function(t){return Dc(t)&&"[object Arguments]"==qa(t)};var Nc=Object.prototype,Fc=Nc.hasOwnProperty,Uc=Nc.propertyIsEnumerable;const qc=zc(function(){return arguments}())?zc:function(t){return Dc(t)&&Fc.call(t,"callee")&&!Uc.call(t,"callee")};const Bc=Array.isArray;const Lc=function(){return!1};var $c="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vc=$c&&"object"==typeof module&&module&&!module.nodeType&&module,Gc=Vc&&Vc.exports===$c?Ta.Buffer:void 0;const Yc=(Gc?Gc.isBuffer:void 0)||Lc;var Wc=/^(?:0|[1-9]\d*)$/;const Jc=function(t,n){var i=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&Wc.test(t))&&t>-1&&t%1==0&&t<n};const Hc=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Kc={};Kc["[object Float32Array]"]=Kc["[object Float64Array]"]=Kc["[object Int8Array]"]=Kc["[object Int16Array]"]=Kc["[object Int32Array]"]=Kc["[object Uint8Array]"]=Kc["[object Uint8ClampedArray]"]=Kc["[object Uint16Array]"]=Kc["[object Uint32Array]"]=!0,Kc["[object Arguments]"]=Kc["[object Array]"]=Kc["[object ArrayBuffer]"]=Kc["[object Boolean]"]=Kc["[object DataView]"]=Kc["[object Date]"]=Kc["[object Error]"]=Kc["[object Function]"]=Kc["[object Map]"]=Kc["[object Number]"]=Kc["[object Object]"]=Kc["[object RegExp]"]=Kc["[object Set]"]=Kc["[object String]"]=Kc["[object WeakMap]"]=!1;const Xc=function(t){return Dc(t)&&Hc(t.length)&&!!Kc[qa(t)]};const Zc=function(t){return function(n){return t(n)}};var Qc="object"==typeof exports&&exports&&!exports.nodeType&&exports,ts=Qc&&"object"==typeof module&&module&&!module.nodeType&&module,ns=ts&&ts.exports===Qc&&Aa.process;const is=function(){try{var t=ts&&ts.require&&ts.require("util").types;return t||ns&&ns.binding&&ns.binding("util")}catch(t){}}();var rs=is&&is.isTypedArray;const os=rs?Zc(rs):Xc;var es=Object.prototype.hasOwnProperty;const us=function(t,n){var i=Bc(t),r=!i&&qc(t),o=!i&&!r&&Yc(t),e=!i&&!r&&!o&&os(t),u=i||r||o||e,a=u?Mc(t.length,String):[],c=a.length;for(var s in t)!n&&!es.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||e&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Jc(s,c))||a.push(s);return a};var as=Object.prototype;const cs=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||as)};const ss=function(t,n){return function(i){return t(n(i))}};const fs=ss(Object.keys,Object);var ds=Object.prototype.hasOwnProperty;const ls=function(t){if(!cs(t))return fs(t);var n=[];for(var i in Object(t))ds.call(t,i)&&"constructor"!=i&&n.push(i);return n};const vs=function(t){return null!=t&&Hc(t.length)&&!La(t)};const hs=function(t){return vs(t)?us(t):ls(t)};const ms=function(t,n){return t&&Rc(n,hs(n),t)};const bs=function(t){var n=[];if(null!=t)for(var i in Object(t))n.push(i);return n};var ws=Object.prototype.hasOwnProperty;const ps=function(t){if(!Ba(t))return bs(t);var n=cs(t),i=[];for(var r in t)("constructor"!=r||!n&&ws.call(t,r))&&i.push(r);return i};const ys=function(t){return vs(t)?us(t,!0):ps(t)};const gs=function(t,n){return t&&Rc(n,ys(n),t)};var ks="object"==typeof exports&&exports&&!exports.nodeType&&exports,_s=ks&&"object"==typeof module&&module&&!module.nodeType&&module,js=_s&&_s.exports===ks?Ta.Buffer:void 0,Os=js?js.allocUnsafe:void 0;const xs=function(t,n){if(n)return t.slice();var i=t.length,r=Os?Os(i):new t.constructor(i);return t.copy(r),r};const Is=function(t,n){var i=-1,r=t.length;for(n||(n=Array(r));++i<r;)n[i]=t[i];return n};const Ss=function(t,n){for(var i=-1,r=null==t?0:t.length,o=0,e=[];++i<r;){var u=t[i];n(u,i,t)&&(e[o++]=u)}return e};const As=function(){return[]};var Es=Object.prototype.propertyIsEnumerable,Ts=Object.getOwnPropertySymbols;const Ps=Ts?function(t){return null==t?[]:(t=Object(t),Ss(Ts(t),(function(n){return Es.call(t,n)})))}:As;const Cs=function(t,n){return Rc(t,Ps(t),n)};const Rs=function(t,n){for(var i=-1,r=n.length,o=t.length;++i<r;)t[o+i]=n[i];return t};const Ms=ss(Object.getPrototypeOf,Object);const Ds=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)Rs(n,Ps(t)),t=Ms(t);return n}:As;const zs=function(t,n){return Rc(t,Ds(t),n)};const Ns=function(t,n,i){var r=n(t);return Bc(t)?r:Rs(r,i(t))};const Fs=function(t){return Ns(t,hs,Ps)};const Us=function(t){return Ns(t,ys,Ds)};const qs=rc(Ta,"DataView");const Bs=rc(Ta,"Promise");const Ls=rc(Ta,"Set");const $s=rc(Ta,"WeakMap");var Vs="[object Map]",Gs="[object Promise]",Ys="[object Set]",Ws="[object WeakMap]",Js="[object DataView]",Hs=Ja(qs),Ks=Ja(oc),Xs=Ja(Bs),Zs=Ja(Ls),Qs=Ja($s),tf=qa;(qs&&tf(new qs(new ArrayBuffer(1)))!=Js||oc&&tf(new oc)!=Vs||Bs&&tf(Bs.resolve())!=Gs||Ls&&tf(new Ls)!=Ys||$s&&tf(new $s)!=Ws)&&(tf=function(t){var n=qa(t),i="[object Object]"==n?t.constructor:void 0,r=i?Ja(i):"";if(r)switch(r){case Hs:return Js;case Ks:return Vs;case Xs:return Gs;case Zs:return Ys;case Qs:return Ws}return n});const nf=tf;var rf=Object.prototype.hasOwnProperty;const of=function(t){var n=t.length,i=new t.constructor(n);return n&&"string"==typeof t[0]&&rf.call(t,"index")&&(i.index=t.index,i.input=t.input),i};const ef=Ta.Uint8Array;const uf=function(t){var n=new t.constructor(t.byteLength);return new ef(n).set(new ef(t)),n};const af=function(t,n){var i=n?uf(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)};var cf=/\w*$/;const sf=function(t){var n=new t.constructor(t.source,cf.exec(t));return n.lastIndex=t.lastIndex,n};var ff=Pa?Pa.prototype:void 0,df=ff?ff.valueOf:void 0;const lf=function(t){return df?Object(df.call(t)):{}};const vf=function(t,n){var i=n?uf(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)};const hf=function(t,n,i){var r=t.constructor;switch(n){case"[object ArrayBuffer]":return uf(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return af(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vf(t,i);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return sf(t);case"[object Symbol]":return lf(t)}};var mf=Object.create;const bf=function(){function t(){}return function(n){if(!Ba(n))return{};if(mf)return mf(n);t.prototype=n;var i=new t;return t.prototype=void 0,i}}();const wf=function(t){return"function"!=typeof t.constructor||cs(t)?{}:bf(Ms(t))};const pf=function(t){return Dc(t)&&"[object Map]"==nf(t)};var yf=is&&is.isMap;const gf=yf?Zc(yf):pf;const kf=function(t){return Dc(t)&&"[object Set]"==nf(t)};var _f=is&&is.isSet;const jf=_f?Zc(_f):kf;var Of="[object Arguments]",xf="[object Function]",If="[object Object]",Sf={};Sf[Of]=Sf["[object Array]"]=Sf["[object ArrayBuffer]"]=Sf["[object DataView]"]=Sf["[object Boolean]"]=Sf["[object Date]"]=Sf["[object Float32Array]"]=Sf["[object Float64Array]"]=Sf["[object Int8Array]"]=Sf["[object Int16Array]"]=Sf["[object Int32Array]"]=Sf["[object Map]"]=Sf["[object Number]"]=Sf[If]=Sf["[object RegExp]"]=Sf["[object Set]"]=Sf["[object String]"]=Sf["[object Symbol]"]=Sf["[object Uint8Array]"]=Sf["[object Uint8ClampedArray]"]=Sf["[object Uint16Array]"]=Sf["[object Uint32Array]"]=!0,Sf["[object Error]"]=Sf[xf]=Sf["[object WeakMap]"]=!1;const Af=function t(n,i,r,o,e,u){var a,c=1&i,s=2&i,f=4&i;if(r&&(a=e?r(n,o,e,u):r(n)),void 0!==a)return a;if(!Ba(n))return n;var d=Bc(n);if(d){if(a=of(n),!c)return Is(n,a)}else{var l=nf(n),v=l==xf||"[object GeneratorFunction]"==l;if(Yc(n))return xs(n,c);if(l==If||l==Of||v&&!e){if(a=s||v?{}:wf(n),!c)return s?zs(n,gs(a,n)):Cs(n,ms(a,n))}else{if(!Sf[l])return e?n:{};a=hf(n,l,c)}}u||(u=new Ic);var h=u.get(n);if(h)return h;u.set(n,a),jf(n)?n.forEach((function(o){a.add(t(o,i,r,o,n,u))})):gf(n)&&n.forEach((function(o,e){a.set(e,t(o,i,r,e,n,u))}));var m=d?void 0:(f?s?Us:Fs:s?ys:hs)(n);return Sc(m||n,(function(o,e){m&&(o=n[e=o]),Cc(a,e,t(o,i,r,e,n,u))})),a};const Ef=function(t){return Af(t,5)};var Tf=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},Pf=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Cf=function(){function t(t,n){void 0===n&&(n=5),this.queue=[],this.R=[],this.M=n,this.D=t}return t.prototype.clear=function(){this.queue=[]},t.prototype.enqueue=function(t,n){if("function"==typeof n){var i=On();this.queue.push([t,n,i]),this.D&&this.dequeue().catch((function(t){throw new Error(t)}))}},t.prototype.dequeue=function(){return Tf(this,void 0,void 0,(function(){var t,n,i,r,o,e;return Pf(this,(function(u){switch(u.label){case 0:if(this.R.length>=this.M||!this.hasEntries())return[2];t=this.queue.shift(),n=t[0],i=void 0===n?[]:n,r=t[1],o=t[2],this.R.push(o),u.label=1;case 1:return u.trys.push([1,3,4,7]),[4,r.apply(void 0,i)];case 2:return u.sent(),[3,7];case 3:throw e=u.sent(),new Error(e);case 4:return this.R=this.R.filter((function(t){return t!==o})),this.R.length<this.M&&this.hasEntries()?[4,this.dequeue()]:[3,6];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))},t.prototype.hasEntries=function(){return!!this.queue.length},t}();const Rf=Cf;const Mf=function(t){return"number"==typeof t||Dc(t)&&"[object Number]"==qa(t)};function Df(t){if(0===t.length)throw new Error("Cannot calculate the average of an empty array.");return t.reduce((function(t,n){return t+n}),0)/t.length}function zf(t){if(0===t.length)throw new Error("Cannot calculate the median of an empty array.");t.sort((function(t,n){return t-n}));var n=t.length,i=Math.floor(n/2);return n%2==0?(t[i-1]+t[i])/2:t[i]}function Nf(t){if(0===t.length)throw new Error("Cannot calculate the standard deviation of an empty array.");var n=t.reduce((function(t,n){return t+n}),0)/t.length,i=t.map((function(t){return Math.pow(t-n,2)})).reduce((function(t,n){return t+n}),0)/t.length;return Math.sqrt(i)}var Ff=function(){function t(){this.eventObject={},this.callbackId=0}return t.getEventBus=function(){var n;return null!==(n=this.eventBus)&&void 0!==n||(this.eventBus=new t),this.eventBus},t.prototype.publish=function(t,n){var i=this.eventObject[t];i&&Object.values(i).forEach((function(t){return t(n)}))},t.prototype.subscribe=function(t,n){var i=this;this.eventObject[t]||(this.eventObject[t]={});var r=this.callbackId++;this.eventObject[t][r]=n;return{unsubscribe:function(){delete i.eventObject[t][r],Object.keys(i.eventObject[t]).length||delete i.eventObject[t]}}},t.prototype.clearEvent=function(t){t&&delete this.eventObject[t]},t.prototype.clearAll=function(){this.eventObject={}},t}(),Uf=Ff.getEventBus(),qf={clear:function(){Yu.dispatch(zu.clear())},addBid:function(t,n,i){var r=Yu.getState().bidsCache.cache,o=!1;if(r[n]&&r[n][i]&&(o=r[n][i].some((function(n){return t.auctionBidId===n.auctionBidId}))),o)return new Error("add bid to cache failed, bid already exist in cache");var e={type:i,adUnitPath:n,bid:t};return Yu.dispatch(zu.addBid(e)),Yu.getState().bidsCache.cache[n][i].some((function(n){return t.auctionBidId===n.auctionBidId}))?null:new Error("add bid to cache failed, unknown reason")},getBid:function(t,n){Bf(t,n);var i=function(t,n){var i,r,o=Yu.getState().bidsCache.cache;if(!(null===(r=null===(i=null==o?void 0:o[t])||void 0===i?void 0:i[n])||void 0===r?void 0:r.length))return null;return o[t][n][0]}(t,n);if(!i)return null;var r={type:n,adUnitPath:t};return Yu.dispatch(zu.pullFirstBid(r)),i},removeBid:function(t,n,i){var r={type:n,adUnitPath:t,bid:i};Yu.dispatch(zu.removeBid(r))},getCache:function(t,n){Bf(t,n);var i=Yu.getState().bidsCache.cache;return i[t]&&i[t][n]},resetCache:function(t,n){var i={type:n,adUnitPath:t};Yu.dispatch(zu.resetCache(i))},setCacheLimit:function(t){Yu.dispatch(zu.setCacheLimit(t))},getCacheLimit:function(t){return Yu.getState().bidsCache.configuration[t].cacheLimit},getCacheMetaData:function(t,n){return n.map((function(n){return function(t,n){var i,r=qf.getCache(t,n),o=null!==(i=null==r?void 0:r.length)&&void 0!==i?i:0,e=qf.getCacheLimit(n).value,u={subId:Zu(n),cl:e,ab:o};0!==o&&n===Ii.prebid&&function(t,n){var i,r,o,e;if(0===n.length)return;var u=n[n.length-1],a=n[0],c=n.map((function(t){return Number(t.rate)}));Object.assign(t,{chb:c[0],clb:c[c.length-1],cdb:c[0]-c[c.length-1],bhb:null===(r=null===(i=a.additional)||void 0===i?void 0:i.qs)||void 0===r?void 0:r.adapterID,blb:null===(e=null===(o=u.additional)||void 0===o?void 0:o.qs)||void 0===e?void 0:e.adapterID,cba:Df(c),bmd:zf(c),cbd:Nf(c),athb:a.mediaType,atlb:u.mediaType})}(u,r);return u}(t,n)}))}};function Bf(t,n){var i=Yu.getState().bidsCache;if(i.cache[t]&&i.cache[t][n]&&i.cache[t][n].length){var r={typeArray:i.cache[t][n].filter((function(t){var n=(new Date).getTime(),i=t.ttl||300;return!(n-t.bidReceivedAt>=1e3*(i-0))||(Uf.publish(Wr,{detail:{bid:t,slotId:t.adUnit}}),!1)})),adUnitPath:t,type:n};Yu.dispatch(zu.setTypeCache(r))}}function Lf(t){void 0===t&&(t={});for(var n={},i=0,r=Object.keys(t);i<r.length;i++){var o=r[i];n[o]={count:0,floor:void 0}}return{counter:n,newCounter:function(t){n[t]||(n[t]={count:0,floor:void 0})},addCount:function(t){if(this.counter[t])return this.counter[t].count+=1,this.counter[t].count},getCount:function(t){if(this.counter[t])return this.counter[t].count}}}var $f=function(t,n,i){var r=new Map;!function(t,n){t.forEach((function(t){0!==t.rate&&0!==t.cpm||n.set(t,lr.RATE_ZERO)}))}(t,r);var o=t.filter((function(t){return!r.get(t)}));n&&Object.keys(n).forEach((function(t){var e=t===Lr||t===Vr;switch(t){case Lr:case Vr:case $r:case Gr:!function(t,n,i,r,o){t.forEach((function(t){var e,u=[];switch(o){case Si.PREBID:u=(null===(e=null==t?void 0:t.meta)||void 0===e?void 0:e.advertiserDomains)||[];break;case Si.AMAZON:u=[]}u.length&&u.forEach((function(o){var e=d(o),u=n.values.includes(e);n.isWhiteList?(!u||i&&Vf(o))&&r.set(t,lr.ADVERTISER_DOMAIN):!u||i&&Vf(o)||r.set(t,lr.ADVERTISER_DOMAIN)}))}))}(o,n[t],e,r,i)}}));var e=o.filter((function(t){return!r.get(t)}));return[r,e]};var Vf=function(t){var n=t;t.includes("://")&&(n=t.split("://")[1]);var i=n.split(".");return 2===i.length?null:i[0]};function Gf(t,n,i,r){var o=r.auctionRegistry,e=r.tracker,u=r.rank,a=r.count,c=i.filter((function(t){return function(t){if(!t)return!1;return Li.every((function(n){return t[n]}))}(t)}));c.length&&c.forEach((function(i){Yf(i.adUnitPath,n,i,r.errorReporter)&&Wf(e,Ri.BID,n,{auctionSlot:o.getSlot(t),bid:i,rank:u,count:a})}))}function Yf(t,n,i,r){var o=qf.addBid(i,t,n);return!o||(r(o,Vi.AUCTION,Ci.AUCTION_BIDS_CACHE),!1)}function Wf(t,n,i,r){var o,e,u;void 0===r&&(r={});var a=r.auctionSlot,c=r.bid,s=r.errorCode,f=r.auctionLoop,d=r.auctionConfigId,l=r.auctionId,v=r.rank,h=r.count,m=r.consent,b=r.cacheMeta,w={action:n,category:Fi,component:Ci.AUCTION_RUNNER,subid:Zu(i,c),il:Wu.getVisibility(),uc:m};if(l&&(w.recordid=l),a&&(w.loop=a.count,w.playerid=a.reportId,w.dheight=null===(o=document.getElementById(a.id))||void 0===o?void 0:o.offsetHeight,w.dwidth=null===(e=document.getElementById(a.id))||void 0===e?void 0:e.offsetWidth,w.pli=a.id,w.recordid=null===(u=a.auctionId)||void 0===u?void 0:u.id),w.placementtype=function(t,n,i){if(i&&t===Ri.AUCTION)return da(i.types);if(n)return n.mediaType}(n,c,a),s&&(n===Ni.ERROR?w.errorcode=Vi.AUCTION:w.errorcode=s),f&&(w.ilp=f),c&&function(t,n){var i,r,o,e,u,a,c;if(!t||!n)return;n.rate&&(t.adsourcerate=n.rate);t.cost=n.cost,n.demand&&(t.bas=n.demand);n.wrapperid&&(t.wrapperid=n.wrapperid);(n.ami||n.auctionBidId)&&(t.ami=n.ami);n.tc&&(t.tc=n.tc);n.id&&(t.adsourceid=n.id);n.bidId&&(t.cbi=n.bidId);n.ilp&&(t.ilp=n.ilp);n.fp&&(t.fp=n.fp);n.blFlowId&&(t.blf=n.blFlowId);n.adjustedFloorPrice&&(t.h2h=n.adjustedFloorPrice);n.position&&(t.position=n.position);n.creativeId&&(t.creative_id=n.creativeId);n.ttl&&(t.loadtime=n.ttl);n.type===Si.PREBID&&(t.add=null===(r=null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.advertiserDomains)||void 0===r?void 0:r.join(),t.bai=null!==(u=null===(e=null===(o=n.additional)||void 0===o?void 0:o.qs)||void 0===e?void 0:e.adapterID)&&void 0!==u?u:t.bai);n.requestId&&(t.param9=n.requestId);(null===(a=null==n?void 0:n.additional)||void 0===a?void 0:a.bl0_report)&&(t.bl0_report=null===(c=null==n?void 0:n.additional)||void 0===c?void 0:c.bl0_report)}(w,c),i&&d&&function(t,n,i){switch(n){case Si.PREBID:t.wrapperid=i;break;case Si.AMAZON:t.ami=i;break;default:;}}(w,i,d),v&&(w.rank=v),h&&(w.r3=h),b){var p=qf.getCacheMetaData(a.configId,a.auctions);try{w.sam_js_ver=JSON.stringify(p)}catch(t){w.sam_js_ver=JSON.stringify([{error:"stringify failed"}])}}t.track(w)}function Jf(t,n){switch(null==t?void 0:t.type){case Si.PREBID:case Si.AMAZON:return null==t?void 0:t.getAuctionLoopCount(n);default:return-1}}function Hf(t,n,i){var r,o,e,u,a,c=ao.DEFAULT;if(null==i?void 0:i.optimizedCoefficientMapNewV)u=null===(r=oa(i.optimizedCoefficientMapNewV,i.client_features,n))||void 0===r?void 0:r[ko],c=Mf(u)?ao.MODEL:(a=co.MODEL_ERROR,ao.ERROR);else if((null===(o=null==i?void 0:i.randomDistribution)||void 0===o?void 0:o.length)&&"string"==typeof(null==i?void 0:i.hashMacro)){var s=na(i.hashMacro,n.buyerId),f=Math.abs(Ju(s))%i.randomDistribution.length;c=(u=i.randomDistribution[f])?ao.RANDOM:(a=co.RANDOM_ERROR,ao.ERROR)}var d=null===(e=null==_i?void 0:_i[$n])||void 0===e?void 0:e[n.buyerId],l=t.toUpperCase();return{bidderCoefficient:u=d||u||mo[l],model:c,modelError:a}}function Kf(t,n){if(t){var i=t.bidderCoefficient,r=t.model,o=t.modelError;if(!n)return{rank:(null==i?void 0:i.toString())||"",modelError:co.MISSING_RANK};var e=(n=n.replace("[RANK]",null==i?void 0:i.toString())).slice(-1);return(e===ao.MODEL&&r!==ao.MODEL||e===ao.RANDOM&&r!==ao.RANDOM)&&(n+=o?ao.ERROR:ao.DEFAULT),{rank:n,modelError:o}}}var Xf;!function(t){t.RESOURCE="resource"}(Xf||(Xf={}));var Zf=function(){function t(){this.savedPerformanceMarks=new Map,this.displayTimings=!1}return Object.defineProperty(t,"Instance",{get:function(){return t.performanceTrackerInstance||(t.performanceTrackerInstance=new t),t.performanceTrackerInstance},enumerable:!1,configurable:!0}),t.prototype.init=function(t){var n=t.displayTimings;n&&(this.displayTimings=n)},t.prototype.startMeasurement=function(t){var n=this.getId(t),i=this.getMarkStartTime(n);this.savedPerformanceMarks.set(n,i)},t.prototype.getMeasureResult=function(t,n){void 0===n&&(n="");var i=this.getId(t),r=this.savedPerformanceMarks.get(i);if(!r)return null;var o=this.getMeasuredDuration(i,r,n);return this.parseDuration(o)},t.prototype.getResourceLoadTime=function(t){var n=performance.getEntriesByType(Xf.RESOURCE).find((function(n){return n.name.includes(t)}));return this.parseDuration(null==n?void 0:n.duration)},t.prototype.measureFromPageLoad=function(t){try{var n=performance.measure(t).duration;return this.parseDuration(n)}catch(t){return null}},t.prototype.getMarkStartTime=function(t){return this.displayTimings?performance.mark(t).startTime:performance.now()},t.prototype.getMeasuredDuration=function(t,n,i){if(!this.displayTimings)return performance.now()-n;try{var r=t+(i?":".concat(i):""),o=performance.measure(r,t);return performance.clearMeasures(r),o.duration}catch(t){return null}},t.prototype.parseDuration=function(t){return"number"==typeof t?Math.floor(t):null},t.prototype.getId=function(t){return"".concat("rs","::").concat(t.join("_"))},t}();const Qf=Zf.Instance;function td(t){if(!t.isConnected)return!1;var n=t.parentElement;if(!n)return!1;var i=n.getBoundingClientRect().toJSON(),r=Object.values(i).every((function(t){return 0===t})),o="fixed"===window.getComputedStyle(n).position,e=n.offsetParent;return En(n,"body")||En(e,"body")||En(n,"head")||o?!r:null!==e}function nd(t){return new Promise((function(n){return setTimeout(n,t)}))}var id=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},rd=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},od=function(t,n,i){if(i||2===arguments.length)for(var r,o=0,e=n.length;o<e;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))},ed=function(){function t(t,n,i){var r=i.tracker,o=i.errorReporter,e=i.auctionRegistry,u=i.monitorReporter;this.eventBus=Ff.getEventBus(),this.N=n,this.tracker=r,this.F=o,this.U=u,this.cacheLimit=t.cacheLimit,this.auctionQueue=new Rf(!0,10),this.auctionRegistry=e,this.dropBidsListener()}return t.prototype.runOnce=function(t,n){var i=[t,n.forcedLazy,n.earlyAuction,this.B.bind(this)];this.auctionQueue.enqueue(i,this.runAuction.bind(this))},t.prototype.isAuctionSupported=function(t){var n=this.auctionRegistry.getSlot(t),i=null;if(this.isMediaTypeSupported(n)){var r=document.getElementById(t);r&&td(r)||(i=fr)}return n||(i=sr),i?(this.L(ar,"",{errorCode:i}),!1):!!n},t.prototype.isMediaTypeSupported=function(t){var n;return!!(null===(n=null==t?void 0:t.types)||void 0===n?void 0:n.length)&&t.types.some((function(t){return zo[t]}))},t.prototype.isAuctionConfigAvailable=function(t){return!!this.auctionRegistry.getSlotByAuctionConfig(t)},t.prototype.registerAuction=function(t,n){var i=this;n.forEach((function(n){var r=i.auctionRegistry.createSlotFromAuctionConfig(t,n);if(r){for(var o=0,e=r.auctions;o<e.length;o++){var u=e[o];i.N[u]&&i.N[u].registerAdUnit(t,n)}0}}))},t.prototype.hasAuctions=function(t){return this.auctionRegistry.hasAuctions(t)},t.prototype.B=function(t){var n=this;(null==t?void 0:t.length)&&t.forEach((function(t){var i=n.auctionRegistry.getSlot(t);n.eventBus.publish(qi.AUCTION_RESULT,{adIntegrationId:i.integrationId,adSlotId:t})}))},t.prototype.runAuction=function(t,n,i,r){return id(this,void 0,void 0,(function(){var o,e,u,a,c,s,f,d,l,v,h,m;return rd(this,(function(b){switch(b.label){case 0:for(o=[],e=On(),u=0,a=t;u<a.length;u++)d=a[u],!(c=this.auctionRegistry.getSlot(d))||(null==c?void 0:c.count)>=5e3||(this.auctionRegistry.addCount(d),this.auctionRegistry.setAuctionId(d,e,!1),this.auctionRegistry.setAuctionStartState(d),i&&(this.auctionRegistry.setEarlyAuctionStartState(d),this.L(Ri.EARLY_AUCTION,"",{auctionSlot:c})),o.push(d));if(!o.length)return r(),[2];for(s=0,f=o;s<f.length;s++)d=f[s],l=this.auctionRegistry.getCount(d),Qf.startMeasurement([po.GAM_AUCTION,l,d]);for(m in v=[],h=this.groupValidSlotAuctions(o))this.addAuctionToRacePromises(v,m,h[m]);return v.length&&v.push({promise:this.startAuctionTimeout(3e3),type:fo}),[4,this.completeAuction(v,t,n)];case 1:return b.sent(),r(t),[2]}}))}))},t.prototype.groupValidSlotAuctions=function(t){var n=this,i={};return t.forEach((function(t){for(var r=n.auctionRegistry.getSlot(t),o=!1,e=0,u=r.auctions;e<u.length;e++){var a=u[e];n.canRunAuction(t,a)&&(i[a]?i[a].push(t):i[a]=[t],o=!0)}n.reportAuctionStart(r,o)})),i},t.prototype.completeAuction=function(t,n,i){return id(this,void 0,void 0,(function(){var r,o,e,u,a,c,s,f;return rd(this,(function(d){switch(d.label){case 0:return t.length?[4,Xu(Promise.race(t.map((function(t){return t.promise}))))]:[2,[]];case 1:return r=d.sent(),o=r[0],(e=r[1])?(this.F(e,Vi.AUCTION,Ci.AUCTION_RUNNER),[2,[]]):[4,this.getRemainingPromises(t)];case 2:switch(u=d.sent(),a=u.remainingAuctions,c=u.timeout,s=((null==o?void 0:o.adSlotIds)||[])[0],f=this.auctionRegistry.getSlot(s),o.status){case Qr:case to:case io:if(a.length)return[2,this.completeAuction(od(od([],a,!0),[c],!1),n,i)];break;case no:this.L(Ri.TIMEOUT,"",{auctionSlot:f})}return[2,[]]}}))}))},t.prototype.getRemainingPromises=function(t){return id(this,void 0,void 0,(function(){var n,i,r,o,e;return rd(this,(function(u){switch(u.label){case 0:n=[],r=0,o=t,u.label=1;case 1:return r<o.length?(e=o[r]).type===fo?(i=e,[3,3]):[4,Qu(e.promise)]:[3,4];case 2:u.sent()===Kr.PENDING&&n.push(e),u.label=3;case 3:return r++,[3,1];case 4:return[2,{timeout:i,remainingAuctions:n}]}}))}))},t.prototype.reportAuctionStart=function(t,n){var i=n?lo:vo;this.L(Ri.AUCTION,"",{auctionSlot:t,errorCode:i,cacheMeta:!0})},t.prototype.canRunAuction=function(t,n){var i=this.auctionRegistry.getSlot(t),r=qf.getCache(i.configId,n)||[],o=this.N[n],e=this.cacheLimit[n].value;return(null==o?void 0:o.isAdUnitSupported(t))&&r.length<e},t.prototype.startAuctionTimeout=function(t){return id(this,void 0,void 0,(function(){return rd(this,(function(n){switch(n.label){case 0:return[4,nd(t)];case 1:return n.sent(),[2,{status:no}]}}))}))},t.prototype.addAuctionToRacePromises=function(t,n,i){var r=this.N[n],o=this.requestAdRaceWrapper(r,i);t.push({promise:o,type:n})},t.prototype.requestAdRaceWrapper=function(t,n){return id(this,void 0,void 0,(function(){var i,r,o,e,u,a,c;return rd(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),i=n[0],[4,t.requestAd(n)];case 1:return o=s.sent(),r=this.auctionRegistry.getSlot(i),e={auctionLoop:Jf(t,n[0]),auctionId:null===(a=this.auctionRegistry.getAuctionId(i))||void 0===a?void 0:a.id,auctionConfigId:t.type===Si.PREBID?r.prebidId:r.amazonId},(null==o?void 0:o.length)?[2,{status:Qr,adSlotIds:n,type:t.type}]:(this.L(Ri.NO_BID,t.type,e),[2,{status:to,adSlotIds:n,type:t.type}]);case 2:return u=s.sent(),this.L(Ri.ERROR,t.type,{errorCode:Vi.AUCTION_MODULE_REQUEST,auctionLoop:Jf(t,i),auctionId:null===(c=this.auctionRegistry.getAuctionId(i))||void 0===c?void 0:c.id,auctionSlot:r}),this.U.error(Ur.MODULE.GENERAL,"auction runner auction error",{},u),[2,{status:io,adSlotIds:n,type:t.type}];case 3:return[2]}}))}))},t.prototype.L=function(t,n,i){Wf(this.tracker,t,n,i)},t.prototype.dropBidsListener=function(){var t=this;this.eventBus.subscribe(Wr,(function(n){var i,r,o,e,u,a,c;t.L(Ri.BID_DROPPED,null===(r=null===(i=null==n?void 0:n.detail)||void 0===i?void 0:i.bid)||void 0===r?void 0:r.type,{bid:null===(o=null==n?void 0:n.detail)||void 0===o?void 0:o.bid,errorCode:vr.LOW_TTL,auctionSlot:t.auctionRegistry.getSlot(null===(e=null==n?void 0:n.detail)||void 0===e?void 0:e.slotId),rank:null===(c=null===(a=null===(u=null==n?void 0:n.detail)||void 0===u?void 0:u.bid)||void 0===a?void 0:a.additional)||void 0===c?void 0:c.rank})}))},t.prototype.dispose=function(){this.auctionQueue.clear(),qf.clear();for(var t=0,n=this.auctionRegistry.getSlotIds();t<n.length;t++){var i=n[t],r=this.auctionRegistry.getSlot(i);if(this.auctionRegistry.hasAuctions(r.integrationId))for(var o=0,e=r.auctions;o<e.length;o++){var u=e[o];this.N[u]&&this.N[u].removeAdUnit(i)}}this.auctionRegistry.clear(),this.N={}},t}();const ud=ed;var ad=function(){function t(t,n){var i=n.tracker,r=n.auctionRegistry;this.gracePeriodTimeout=so,this.eventBus=Ff.getEventBus(),this.tracker=i,this.auctionRegistry=r,this.options=t,this.subscribeToBusEvents()}return t.prototype.getWinningBids=function(t){return this.getBidsFromCache(t)},t.prototype.onBidResponse=function(t,n){this.handleGraceLogic(n,t)},t.prototype.onAuctionEnd=function(t,n){var i=this.getBidsFromCache(n);this.sendAuctionResults(n,t,i)},t.prototype.shouldRunGrace=function(t){var n=this.auctionRegistry.getSlot(t);if(!n)return!1;var i=(new Date).getTime();return void 0!==n.lastAuctionTime&&i-n.lastAuctionTime<2e3},t.prototype.handleGraceLogic=function(t,n){var i,r,o=this,e=this.auctionRegistry.getSlot(t);e.receivedBidResponse||(null===(i=this.options)||void 0===i?void 0:i.disableGrace)||!this.shouldRunGrace(t)||(e.receivedBidResponse=!0,Wf(this.tracker,Mi.GRACE_PERIOD,"",{auctionSlot:e,auctionId:null===(r=e.auctionId)||void 0===r?void 0:r.id}),e.activeGraceTime=setTimeout((function(){e.activeGraceTime=null,o.onAuctionEnd(n,t)}),this.gracePeriodTimeout))},t.prototype.getBidsFromCache=function(t){for(var n=[],i=this.auctionRegistry.getSlot(t),r=0,o=i.auctions;r<o.length;r++){var e=o[r],u=this.getBidFromCacheByAuctionType(e,i,i.configId);u&&n.push(u)}return this.reportSlotBidsResults(t,n),n},t.prototype.getBidFromCacheByAuctionType=function(t,n,i){var r=qf.getCache(i,t);if(!(null==r?void 0:r.length))return null;var o=Ef(qf.getBid(i,t));return o&&(o.count=n.count),o},t.prototype.reportSlotBidsResults=function(t,n){for(var i,r,o,e=1,u=1,a=this.auctionRegistry.getSlot(t),c=function(t){var c=n.find((function(n){return n.type===t}));if(c)return Wf(s.tracker,Mi.WIN,t,{auctionSlot:a,bid:c,errorCode:String(u),rank:null===(i=null==c?void 0:c.additional)||void 0===i?void 0:i.rank,consent:null===(o=null===(r=s.options)||void 0===r?void 0:r.params)||void 0===o?void 0:o.uc,cacheMeta:!0}),u++,"continue";Wf(s.tracker,Mi.NO_WIN,t,{auctionConfigId:t===Si.PREBID?a.prebidId:a.amazonId,auctionSlot:a,errorCode:String(e)}),e++},s=this,f=0,d=a.auctions;f<d.length;f++){c(d[f])}},t.prototype.subscribeToBusEvents=function(){var t=this;this.eventBus.subscribe(Ti.BID_RESPONSE,(function(n){var i=n.adIntegrationId,r=n.adSlotId,o=t.auctionRegistry.getSlot(r),e=t.auctionRegistry.getAuctionId(r);(null==e?void 0:e.isReported)||(t.auctionRegistry.setAuctionId(r,null==e?void 0:e.id,!0),t.reportBidStatus(o)),o.isEarlyAuction&&!o.allowEarlyAuctionToEnd||t.onBidResponse(i,r)})),this.eventBus.subscribe(qi.AUCTION_RESULT,(function(n){var i=n.adIntegrationId,r=n.adSlotId,o=t.auctionRegistry.getSlot(r);o.hasAuctionEnded||(o.hasAuctionEnded=!0,o.isEarlyAuction&&!o.allowEarlyAuctionToEnd||(o.activeGraceTime&&(clearTimeout(o.activeGraceTime),o.activeGraceTime=null),t.onAuctionEnd(i,r)))}))},t.prototype.sendAuctionResults=function(t,n,i){this.eventBus.publish(Bi.AUCTION_END,{adIntegrationId:n,adSlotId:t,bids:i})},t.prototype.reportBidStatus=function(t){var n;Wf(this.tracker,Mi.AUCTION_RESPONSE,"",{auctionSlot:t,auctionId:null===(n=t.auctionId)||void 0===n?void 0:n.id})},t.prototype.unbindBusEvents=function(){this.eventBus.clearEvent(qi.AUCTION_RESULT),this.eventBus.clearEvent(Ti.BID_RESPONSE)},t.prototype.dispose=function(){this.unbindBusEvents()},t}();const cd=ad;var sd,fd=((sd={})[vi]=!0,sd),dd=function(t){var n;n=t,!function(t){var n;return null===(n=nn.getBrowser().name)||void 0===n?void 0:n.toLowerCase().includes(t)}(Oo.CHROME)&&fd[n]&&(Yu.dispatch($u.setIsIntentShouldRun(!0)),Yu.dispatch($u.setIntentObjectName(ji[t].script)))},ld=function(){return Yu.getState().intentIqState.isIntentShouldRun},vd=function(t){Yu.dispatch($u.setIntentStatus(t))},hd=function(){return Yu.getState().intentIqState.status};const md=function(t){return"string"==typeof t||!Bc(t)&&Dc(t)&&"[object String]"==qa(t)};function bd(t,n,i){var r=n.name,o=n.timeout,e=n.abortSignal,u="controlledAsyncExecution() '".concat(r,"' was aborted"),a="controlledAsyncExecution() '".concat(r,"' timeout reached after ").concat(o,"ms");return new Promise((function(n,c){var s=function(){c(new Error(u))};if(null==e?void 0:e.aborted)s();else{var f=setTimeout((function(){c(new Error(a))}),o),d=function(){clearTimeout(f),e&&e.removeEventListener("abort",s)};t.apply(void 0,i).then((function(t){d(),n(t)})).catch((function(t){var n;d(),t instanceof Error&&(n=t.message||t.name),t instanceof Event&&(n="Event type ".concat(t.type)),md(t)&&(n=t),c(new Error("controlledAsyncExecution() '".concat(r,"' was rejected due to ").concat(n||"unknown reason")))})),e&&e.addEventListener("abort",s)}}))}var wd=function(t,n){return new Promise((function(i){var r=Yu.subscribe((function(){var o=Yu.getState(),e=t(o);n(e)&&(r(),i(e))}))}))},pd=function(){return Yu.getState().intentIqState.intentObjectName},yd=hd,gd=ld,kd=vd,_d=function(t,n){var i={ids:t,abGroup:n};Yu.dispatch($u.setIntentData(i))};function jd(t,n,i,r){var o;if(gd()&&yd()!==xo.FAILED&&(null===(o=ji[t])||void 0===o?void 0:o.script)){var e=0,u=function(){if(!window.IntentIqObject&&e++<10)yd()!==xo.FAILED&&setTimeout(u,50);else{r.warn(Ur.MODULE.PREBID,"IntentIqObject is undefined, intentIq status - ".concat(hd()));try{kd(xo.CREATION),window[pd()]=new window.IntentIqObject({partner:ji[t].partner,pbjs:n,callback:function(t,n){var r,o;kd(xo.SUCCEED),_d(t,n),i(Ri.INTENT_IQ_ID_FETCHED,"",void 0,{param3:++e});var u=function(t){var n;if(md(t))try{n=JSON.parse(t)}catch(t){return null}else n=t;try{for(var i=0,r=n.eids;i<r.length;i++){var o=r[i];if(o.source===ni.INTENT_IQ)for(var e=0,u=o.uids;e<u.length;e++){var a=u[e];if(a.ext.stype===ii.PPUID)return a.id}}}catch(t){return null}return null}(t);md(u)&&(null===(o=null===(r=window.googletag)||void 0===r?void 0:r.pubads())||void 0===o||o.setPublisherProvidedId(u))},timeoutInMillis:400,abPercentage:95,manualWinReportEnabled:!0,domainName:window.location.host,vrBrowserBlackList:["chrome"]})}catch(t){kd(xo.FAILED),r.warn(Ur.MODULE.PREBID,"create intentIqObject failed",{},t)}}};u()}}const Od=function(t){return null==t};var xd=Object.prototype.hasOwnProperty;const Id=function(t){if(null==t)return!0;if(vs(t)&&(Bc(t)||"string"==typeof t||"function"==typeof t.splice||Yc(t)||os(t)||qc(t)))return!t.length;var n=nf(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(cs(t))return!ls(t).length;for(var i in t)if(xd.call(t,i))return!1;return!0};function Sd(){return t("https://c.amazon-adsystem.com/aax2/apstag.js",{onFailed:function(){}})}var Ad,Ed=function(){return Ed=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Ed.apply(this,arguments)},Td="https://staging-sdk.streamrail.com/wrapper",Pd="https://sdk.streamrail.com/wrapper",Cd="v9";function Rd(n){return function(n){var i=Md(Ed(Ed({},n),{domainAsset:!0})),r=Md(Ed(Ed({},n),{domainAsset:!1})),o=mr;return t(i,{id:o}).catch((function(){return t(r,{id:o})}))}(n)}function Md(t){var n=t.organizationId,i=t.sdkId,r=t.loadStaging,o=t.domainAsset;var e=r?Td:Pd,u=o?"/".concat($n,".js"):".js";return"".concat(e,"/").concat(Cd,"/").concat(n,"/").concat(i).concat(u)}var Dd=mn(1),zd=((Ad={})[Si.AMAZON]=function(){return bd(Sd,{name:Si.AMAZON,timeout:Dd},[])},Ad[Si.PREBID]=function(t){return bd((function(){return Rd(t)}),{name:Si.PREBID,timeout:Dd},[])},Ad),Nd=new Map;function Fd(t,n){var i=[];return t.forEach((function(t){i.push(function(t,n){if(Nd.has(t))return Nd.get(t);var i=zd[t](n);return Nd.set(t,i),i}(t,n))})),i}function Ud(t){if(Nd.has(t))return Nd.get(t);throw new Error("There in no promise for ".concat(t))}var qd=5,Bd=2;function Ld(t){try{if(!t.isConnected)return $d();var n=function(t){var n=t.ownerDocument.defaultView,i=t.getBoundingClientRect(),r={top:i.y+n.scrollY,bottom:i.y+i.height+n.scrollY,left:i.x+n.scrollX,right:i.x+i.width+n.scrollX,width:i.width,height:i.height},o=0;for(;h(n)&&o++<qd;){var e=n.frameElement.getBoundingClientRect();n=n.parent,r={top:e.y+n.scrollY+r.top,bottom:e.y+e.height+n.scrollY-(e.height-r.bottom),left:e.x+n.scrollX+r.left,right:e.x+e.width+n.scrollX-(e.width-r.right),width:r.width,height:r.height}}if(h(n))throw new Error("Is in iframe scope after ".concat(qd," iterations"));var u={top:n.scrollY,bottom:n.scrollY+n.innerHeight,left:n.scrollX,right:n.scrollX+n.innerWidth};return[r,u]}(t),i=n[0],r=n[1];if(function(t,n){return n.top>t.bottom||n.bottom<t.top||n.left>t.right||n.right<t.left}(i,r))return $d();if(function(t,n){return n.top<t.top&&n.bottom>t.bottom&&n.left<t.left&&n.right>t.right}(i,r))return $d(1,1);var o=function(t,n){var i=t.height,r=i;t.top<n.top&&(r=i-(n.top-t.top));t.bottom>n.bottom&&(r-=t.bottom-n.bottom);return r}(i,r),e=i.height>0?o/i.height:0,u=function(t,n){var i=t.width,r=i;t.left<n.left&&(r=i-(n.left-t.left));t.right>n.right&&(r-=t.right-n.right);return r}(i,r);return $d(i.width>0?u/i.width:0,e)}catch(t){return $d()}}function $d(t,n){return void 0===t&&(t=0),void 0===n&&(n=0),{horizontal:Vd(t),vertical:Vd(n),total:Vd(t*n)}}function Vd(t){var n=parseFloat(t.toFixed(Bd));return isNaN(n)?0:n}var Gd=Function.prototype,Yd=Object.prototype,Wd=Gd.toString,Jd=Yd.hasOwnProperty,Hd=Wd.call(Object);const Kd=function(t){if(!Dc(t)||"[object Object]"!=qa(t))return!1;var n=Ms(t);if(null===n)return!0;var i=Jd.call(n,"constructor")&&n.constructor;return"function"==typeof i&&i instanceof i&&Wd.call(i)==Hd};const Xd=function(t){return!0===t||!1===t||Dc(t)&&"[object Boolean]"==qa(t)};function Zd(t,n){return void 0===n&&(n=[]),Kd(t)?Zd(Object.values(t),n):(Bc(t)?t.forEach((function(t){return Zd(t,n)})):(md(t)||Mf(t)&&!isNaN(t)||Xd(t))&&n.push(t),n)}var Qd,tl,nl=((Qd={})[di]=!0,Qd),il=["rise"];var rl=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},ol=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},el=function(){function t(t,n){var i,r,o=n.tracker,e=n.params,u=n.monitorReporter,a=n.auctionRegistry,c=n.errorReporter,s=n.consent;this.adUnitMap={},this.coefficientMap={},this.eventBus=Ff.getEventBus(),this.settings=t,this.type=this.settings.type,this.prebidRemoteConfig=this.settings.config,this.prebidJS=window[this.prebidRemoteConfig.pbjsAlias],this.tracker=o,this.errorReporter=c,this.params=e,this.consent=s,this.monitorReporter=u,this.adUnits=[],this.bidMap={},this.adUnitRevShareMap={},this.eventHandlers={},this.adUnitLoopCounter=Lf(),this.auctionRegistry=a;var f=null===(r=null===(i=this.prebidRemoteConfig)||void 0===i?void 0:i.revModel)||void 0===r?void 0:r.revValue;if(!f&&0!==f){var d=new Error("rev value is not gotten from client");this.monitorReporter.error(Ur.MODULE.PREBID,"Prebid did not receive a revValue from server",this.prebidRemoteConfig,d)}this.$()}return Object.defineProperty(t.prototype,"spoMap",{get:function(){var t,n,i=(null!==(t=this.prebidRemoteConfig)&&void 0!==t?t:{}).spoData;return null!==(n=null==i?void 0:i.blockedBiddersMapNewV)&&void 0!==n?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spoClientFeatures",{get:function(){var t,n,i=(null!==(t=this.prebidRemoteConfig)&&void 0!==t?t:{}).spoData;return null!==(n=null==i?void 0:i.client_features)&&void 0!==n?n:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spoBl0Report",{get:function(){var t,n,i;return null!==(i=null===(n=null===(t=this.prebidRemoteConfig)||void 0===t?void 0:t.spoData)||void 0===n?void 0:n.bl0_report)&&void 0!==i?i:""},set:function(t){this.prebidRemoteConfig.spoData||(this.prebidRemoteConfig.spoData={}),this.prebidRemoteConfig.spoData.bl0_report=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multiRankReport",{get:function(){var t,n,i;return null!==(i=null===(n=null===(t=this.prebidRemoteConfig)||void 0===t?void 0:t.bidCoefficientData)||void 0===n?void 0:n.rankReport)&&void 0!==i?i:""},enumerable:!1,configurable:!0}),t.loadModule=function(n,i){return new Promise((function(r,o){n.type===Si.PREBID?Ud(Si.PREBID).then((function(){if(window[null==n?void 0:n.config.pbjsAlias]){var e=new t(n,i);r(e)}else o("miss match prebid bundle name to prebidAlias")})).catch((function(t){o(t)})):o("Incorrect integration type")}))},t.prototype.requestAd=function(t){return rl(this,void 0,void 0,(function(){var n,i,r,o,e,u,a,c,s,f,d=this;return ol(this,(function(l){switch(l.label){case 0:return n=[],t.forEach((function(t){d.setNextAuction(t);var i=d.adUnitLoopCounter.getCount(t);Qf.startMeasurement([d.type,i,t]);var r=d.prebidJS.adUnits.find((function(n){return fa(n.code)===t}));if(r){var o=Ef(r);d.settings.config.generateDynamicCode&&(o.adUnitCode=function(t,n){void 0===n&&(n="__");var i=null==t?void 0:t.split(n),r=parseInt(null==i?void 0:i[1],10)||0;return"".concat(null==i?void 0:i[0]).concat(n).concat(r+1)}(r.adUnitCode),o.code=o.adUnitCode),d.updatePrebidAdUnit(r.adUnitCode,o),n.push(o.adUnitCode)}})),[4,this.prebidJS.requestBids({adUnitCodes:n})];case 1:if(i=l.sent(),r=null==i?void 0:i.bids,o=[],!Object.keys(r).length)return[2,o];for(e=0,u=Object.keys(r);e<u.length;e++)a=u[e],c=$f(r[a].bids,null===(f=null===(s=this.settings)||void 0===s?void 0:s.config)||void 0===f?void 0:f.targeting,Si.PREBID),c[1].length&&o.push({auctionSlotId:fa(a),bids:r[a].bids.map((function(t){return t.adUnitCode=fa(t.adUnitCode),t}))});return[2,o]}}))}))},t.prototype.processBidResponse=function(t,n){var i=this;Array.from(t.keys()).forEach((function(n){var r,o,e=Kf(null===(o=null===(r=i.coefficientMap)||void 0===r?void 0:r[n.adUnitCode])||void 0===o?void 0:o[n.bidder],i.multiRankReport),u=e.rank,a=e.modelError;i.V(Wi.bidRejected,n.adUnitCode,n,{errorCode:t.get(n),rank:u,modelError:a}),i.prebidJS.markWinningBidAsUsed({adId:n.adId})})),n.forEach((function(t){var n,r,o=Kf(null===(r=null===(n=i.coefficientMap)||void 0===n?void 0:n[t.adUnitCode])||void 0===r?void 0:r[t.bidder],i.multiRankReport),e=o.rank,u=o.modelError;i.V(Wi.bid,t.adUnitCode,t,{rank:e,consent:i.params.uc,modelError:u})}))},t.prototype.setNextAuction=function(t){this.adUnitLoopCounter.addCount(t),this.applyModelsOnPrebidAdUnit(t)},t.prototype.isAdUnitSupported=function(t){return this.prebidJS.adUnits.some((function(n){return fa(n.adUnitCode)===t}))},t.prototype.registerAdUnit=function(t,n){var i=this.settings.adUnits.find((function(n){return n.configId===t}));if(i){var r=Ef(i);r.id=n,this.adUnits.push(r),this.adUnitMap[n]||(this.adUnitMap[n]=r),this.bidMap[n]=this.G(r.config.bids),this.adUnitLoopCounter.newCounter(n);for(var o=Ef(this.generateAdUnit(r)),e=0,u=r.config.bids;e<u.length;e++){var a=u[e];!a.isNetRevenue&&a.revShare&&(this.adUnitRevShareMap[n]||(this.adUnitRevShareMap[n]={}),this.adUnitRevShareMap[n][a.bidder]=a.revShare)}this.prebidJS.addAdUnits([o])}},t.prototype.$=function(){this.monitorReporter.info(Ur.MODULE.PREBID,"Prebid module init"),this.Y(),this.W(),this.createAliasBidders(),this.J(),this.H(),this.setConfig(),this.prebidJS.bidderSettings=this.K(),jd(this.params.org,this.prebidJS,this.V.bind(this),this.monitorReporter),this.validateSpo(),this.V(Wi.init)},t.prototype.X=function(){return Object.values(this.settings.adUnits)},t.prototype.Z=function(t){return t.id},t.prototype.tt=function(t,n){var i=n.type===wr.MRKT;return this.isInHouseBidder(t.bidder)?0:i?t.cpm*(1-this.prebidRemoteConfig.marginOverride):this.nt(t.cpm)},t.prototype.isInHouseBidder=function(t){return(null==jr?void 0:jr[t])||this.isInHouseBidderAlias(t)},t.prototype.isInHouseBidderAlias=function(t){var n=this;return Object.keys(jr).some((function(i){var r,o;return(null===(o=null===(r=n.prebidRemoteConfig)||void 0===r?void 0:r.aliasBidders)||void 0===o?void 0:o[i])===t}))},t.prototype.nt=function(t){var n=this.prebidRemoteConfig,i=n.revModel,r=n.revShare;return i.revType===pr?i.revValue:t*(i.revType===yr?i.revValue/100:r/100)},t.prototype.it=function(){for(var t={},n=0,i=this.adUnits;n<i.length;n++){var r=i[n];t[this.Z(r)]=this.G(r.config.bids)}return t},t.prototype.W=function(){this.prebidJS.adUnits=[];for(var t=0,n=Object.values(this.settings.adUnits);t<n.length;t++){var i=n[t];this.registerAdUnit(i.configId,i.id)}},t.prototype.createAliasBidders=function(){var t=this,n=this.prebidRemoteConfig,i=n.aliasBidders,r=n.aliasBiddersV2;if(i||r)for(var o=r||i,e=function(n,i){Array.isArray(i)?i.forEach((function(i){return t.prebidJS.aliasBidder(n,i)})):u.prebidJS.aliasBidder(n,i)},u=this,a=0,c=Object.entries(o);a<c.length;a++){var s=c[a];e(s[0],s[1])}},t.prototype.setConfig=function(){var t={floorsSchemaVersion:1,debug:!1,floors:this.getFloorData(),pageUrl:this.prebidRemoteConfig.pageUrl,sendBidsControl:{bidLimit:1},priceGranularity:this.getPriceGranularity(),enableTIDs:!0};this.prebidRemoteConfig.userSync&&(t.userSync=this.prebidRemoteConfig.userSync),this.prebidRemoteConfig.cacheUrl&&(t.cache={url:this.prebidRemoteConfig.cacheUrl,ignoreBidderCacheKey:!0}),this.prebidRemoteConfig.consentManagement&&(t.consentManagement=this.prebidRemoteConfig.consentManagement),"1"===this.params.coppa&&(t.coppa=!0),this.setDataProviders(t),this.addCustomSettings(t),this.rt(t),this.prebidJS.setConfig(t)},t.prototype.ot=function(t,n){return this.bidMap[n].find((function(n){return n.bidder===t}))},t.prototype.et=function(t,n){var i,r,o,e={},u=this.ot(t.bidder,n);if(!u)return e;u.qs&&(e.qs=u.qs),u.p&&(e.p=u.p),u.customKeys&&(e.customKeys=u.customKeys),u.type&&(e.type=u.type),this.prebidRemoteConfig.marginOverride&&(e.marginOverride=this.prebidRemoteConfig.marginOverride),e.targeting=t.adserverTargeting;var a=null===(r=null===(i=this.coefficientMap)||void 0===i?void 0:i[n])||void 0===r?void 0:r[u.bidder];return e.rank=null===(o=Kf(a,this.multiRankReport))||void 0===o?void 0:o.rank,e.bl0_report=this.spoBl0Report,e},t.prototype.getCustomSchainConfig=function(){for(var t=window.location.host,n=0,i=So;n<i.length;n++){var r=i[n],o=r.domain;if(t.includes(o))return r}},t.prototype.rt=function(t){var n;if(this.prebidRemoteConfig.schain){var i=this.getCustomSchainConfig();if(!i)return;t.schain={validation:i.validation,config:{ver:"1.0",complete:1,nodes:[{asi:null===(n=this.prebidRemoteConfig.schain)||void 0===n?void 0:n.publisherDomain,sid:i.sid,hp:1}]}};var r=new Set(this.adUnits.flatMap((function(t){return t.config.bids.map((function(t){return t.bidder}))}))),o=Io.filter((function(t){return r.has(t)}));o.length&&this.prebidJS.setBidderConfig({bidders:o,config:{schain:{}}},!0)}},t.prototype.J=function(){var t;this.prebidRemoteConfig.userSync||(this.prebidRemoteConfig.userSync={}),(null===(t=this.settings.cp)||void 0===t?void 0:t.state)!==bo.NO_CONSENT?(this.setAuctionDelayPerDomain(),this.prebidRemoteConfig.userSync.aliasSyncEnabled=!0,this.prebidRemoteConfig.userSync.syncsPerBidder=0,this.prebidRemoteConfig.userSync.userIds=[{name:"criteo"},{name:"sharedId",storage:{type:"html5",name:"_pubcid",expires:30}},{name:"idx"},{name:"lotamePanoramaId",params:{clientId:"17754"}},{name:"uid2"},{name:"pubProvidedId"},{name:"liveIntentId",params:{}}],this.setOrgSpecificUserSyncs()):this.prebidRemoteConfig.userSync.syncEnabled=!1},t.prototype.setAuctionDelayPerDomain=function(){for(var t=Object.keys(yi),n=window.location.host,i=50,r=0,o=t;r<o.length;r++){var e=o[r];if(n.includes(e)){i=yi[e];break}}this.prebidRemoteConfig.userSync.auctionDelay=i},t.prototype.setHashedIds=function(t){var n,i=null===(n=bi[this.params.org])||void 0===n?void 0:n[t.name];if(i){var r;try{r=i.getId()}catch(t){this.errorReporter(t,Vi.PREBID_HASHED_ID_FAIL,Ci.AUCTION_MODULE)}r&&(t.params[i.paramName]=r)}},t.prototype.setOrgSpecificUserSyncs=function(){var t,n,i=this;Object.values(null!==(n=wi[null===(t=this.params)||void 0===t?void 0:t.org])&&void 0!==n?n:{}).forEach((function(t){i.setHashedIds(t),i.prebidRemoteConfig.userSync.userIds.push(t)}))},t.prototype.H=function(){var t,n,i,r,o,e;switch(null===(n=null===(t=this.settings)||void 0===t?void 0:t.cp)||void 0===n?void 0:n.state){case bo.GDPR_CONSENT:this.prebidRemoteConfig.consentManagement||(this.prebidRemoteConfig.consentManagement={}),this.prebidRemoteConfig.consentManagement.gdpr={cmpApi:"static",consentData:{getTCData:{tcString:null===(i=this.consent)||void 0===i?void 0:i.gdprConsent,gdprApplies:null===(r=this.consent)||void 0===r?void 0:r.gdprApplies,vendor:null===(o=this.consent)||void 0===o?void 0:o.gdprVendor,purpose:null===(e=this.consent)||void 0===e?void 0:e.gdprPurpose}}};break;case bo.CCPA_CONSENT:this.prebidRemoteConfig.consentManagement||(this.prebidRemoteConfig.consentManagement={}),this.prebidRemoteConfig.consentManagement.usp={cmpApi:"iab",timeout:3e3}}},t.prototype.K=function(){var t=this,n={standard:{storageAllowed:!0,bidCpmAdjustment:function(n,i){var r,o,e=null===(o=null===(r=t.adUnitRevShareMap)||void 0===r?void 0:r[fa(i.adUnitCode)])||void 0===o?void 0:o[i.adapterCode];return e?n*(1-e/100):n},inverseBidAdjustment:function(n,i){var r,o,e=null===(o=null===(r=t.adUnitRevShareMap)||void 0===r?void 0:r[fa(i.adUnitCode)])||void 0===o?void 0:o[i.bidder],u=i.dfl?n*(100+i.dfl)/100:n;return e?u*(100/(100-e)):u}}};return this.settings.config.pbjsAlias!==ho&&this.setCustomKeyValueTargeting(n,this.settings.config.pbjsAlias),n},t.prototype.setCustomKeyValueTargeting=function(t,n){var i=this;t.standard||(t.standard={}),t.standard.adserverTargeting=[{key:"".concat(n,"_bidder"),val:function(t){return t.bidderCode}},{key:"".concat(n,"_adid"),val:function(t){return t.adId}},{key:"".concat(n,"_size"),val:function(t){return t.size}},{key:"".concat(n,"_source"),val:function(t){return t.source}},{key:"".concat(n,"_format"),val:function(t){return t.mediaType}},{key:"".concat(n,"_pb"),val:function(t){var n=i.prebidJS.getConfig().priceGranularity||Zr;return t[Xr[n]]}}]},t.prototype.generateMediaTypes=function(t){for(var n,i,r,o={},e=null!==(i=null===(n=t.config)||void 0===n?void 0:n.position)&&void 0!==i?i:1,u=null===(r=t.config)||void 0===r?void 0:r.sizeConfig,a=0,c=Object.keys(t.mediaTypes);a<c.length;a++){var s=c[a];switch(s){case Ki.BANNER:o[s]=this.generateBannerMediaType(t.mediaTypes[s],e,u);break;case Ki.NATIVE:o[s]=this.generateNativeMediaType(t.mediaTypes[s])}}return o},t.prototype.generateAdUnit=function(t){return{code:t.id,adUnitCode:t.id,bids:t.config.bids,mediaTypes:this.generateMediaTypes(t)}},t.prototype.generateBannerMediaType=function(t,n,i){return{sizes:t.sizes,pos:n,sizeConfig:i}},t.prototype.generateNativeMediaType=function(t){return{ortb:t.ortb}},t.prototype.getMinFloorPrice=function(t){return Ki.BANNER,br},t.prototype.Y=function(){var t=this;this.prebidJS&&(this.eventHandlers={},Object.keys(dr).forEach((function(n){t.eventHandlers[n]=t.ut.bind(t,n),t.prebidJS.onEvent(n,t.eventHandlers[n])})))},t.prototype.ct=function(){var t=this;this.prebidJS&&Object.keys(dr).forEach((function(n){t.prebidJS.offEvent(n,t.eventHandlers[n])}))},t.prototype.ut=function(t,n){var i,r,o,e,u,a,c=this;switch(t){case dr.auctionInit:n.adUnitCodes.forEach((function(t){var n,i=fa(t),r=null===(n=c.adUnitMap[i])||void 0===n?void 0:n.mediaTypes;c.V(Wi.auctionStart,i,null,{mediaType:la(r)})}));break;case dr.auctionEnd:var s=n;this.reportGroupedBid(s.noBids,Wi.noBid);break;case dr.bidTimeout:n.forEach((function(t){var n,i,r,o=null===(r=Kf(null===(i=null===(n=c.coefficientMap)||void 0===n?void 0:n[fa(t.adUnitCode)])||void 0===i?void 0:i[t.bidder],c.multiRankReport))||void 0===r?void 0:r.rank;c.st(Wi.bidTimeout,[t],fa(t.adUnitCode),{rank:o})}));break;case dr.bidRejected:var f=n,d=this.getRejectedBidErrorCode(f),l=Kf(null===(r=null===(i=this.coefficientMap)||void 0===i?void 0:i[fa(f.adUnitCode)])||void 0===r?void 0:r[f.bidder],this.multiRankReport),v=l.rank,h=l.modelError;this.V(Wi.bidRejected,fa(f.adUnitCode),f,{errorCode:d,rank:v,modelError:h}),this.monitorReporter.info(Ur.MODULE.PREBID,"prebid ".concat(Wi.bidRejected),{bidResponseRejected:f});break;case dr.bidRequested:var m=n;this.reportGroupedBid(m.bids,Wi.bidRequest);break;case dr.bidResponse:var b=n;b.adUnitCode=fa(b.adUnitCode);var w=this.auctionRegistry.getSlot(b.adUnitCode),p=$f([b],null===(e=null===(o=this.settings)||void 0===o?void 0:o.config)||void 0===e?void 0:e.targeting,Si.PREBID),y=p[0],g=p[1];if(this.processBidResponse(y,g),!g.length)break;var k=fa(b.adUnitCode),_=this.ft([b],k)[0];if(!w.types.includes(_.mediaType)){0,this.V(Wi.invalidFormat,b.adUnitCode,b);break}var j=null===(u=this.coefficientMap)||void 0===u?void 0:u[b.adUnitCode][b.bidder];Gf(b.adUnitCode,Si.PREBID,[_],{tracker:this.tracker,auctionRegistry:this.auctionRegistry,errorReporter:this.errorReporter,rank:null===(a=Kf(j,this.multiRankReport))||void 0===a?void 0:a.rank}),this.eventBus.publish(Ti.BID_RESPONSE,{adIntegrationId:w.integrationId,adSlotId:w.id})}},t.prototype.st=function(t,n,i,r){var o=this;if(n&&n.length){if(t===Wi.bidRequest){r.consent=this.params.uc;var e=document.getElementById(i);e&&(r.vwb=Ld(e).total)}n.forEach((function(n){o.V(t,i,n,r),o.monitorReporter.info(Ur.MODULE.PREBID,"Prebid ".concat(t),{event:t,adUnitCode:i,bid:n})}))}},t.prototype.V=function(t,n,i,r){var o,e,u,a,c,s,f,d,l,v,h,m;void 0===r&&(r={});var b,w,p,y=r.rank,g=r.count,k=r.consent,_=r.errorCode,j=r.param3,O=r.vwb,x=r.mediaType,I=r.adapterId,S=r.multiBlFlowIdReport,A=r.multiPricesReport,E=r.modelError,T=r.bl0,P={action:t,category:Ui,component:Ci.AUCTION_MODULE,subid:Gi.PREBID,adsourceid:this.settings.config.as,tc:this.settings.config.tc,il:Wu.getVisibility(),bl0_report:null!=T?T:this.spoBl0Report,uc:k,vwb:O};if(n&&(P.loop=this.auctionRegistry.getCount(n),P.wrapperid=this.lt(n),P.recordid=null===(o=this.auctionRegistry.getAuctionId(n))||void 0===o?void 0:o.id,b=this.adUnitMap[n],P.playerid=b.reportId,P.ilp=this.adUnitLoopCounter.getCount(b.id),P.pli=b.id),i){w=i.mediaTypes?la(i.mediaTypes):i.mediaType;var C=this.getLoopFloorPrice(b.id,i.bidder,w),R=null!==(u=null===(e=i.floorData)||void 0===e?void 0:e.floorValue)&&void 0!==u?u:C.modelVal,M=null!==(c=null===(a=i.floorData)||void 0===a?void 0:a.cpmAfterAdjustments)&&void 0!==c?c:sa(i);P.blf=null!=S?S:ua(null===(s=this.prebidRemoteConfig)||void 0===s?void 0:s.fpoData,M,C.model),P.fp=null!==(f=i.fp)&&void 0!==f?f:R,P.h2h=null!=A?A:M.toString();var D=this.ot(i.bidder,n),z=(null==D?void 0:D.type)||(null==i?void 0:i.type),N=z===wr.MRKT;if(N&&(P.subid=_r),P.adsourcerate=i.cpm,P.bas=this.vt(i.bidder,z),P.cost=i.bidCost,P.loadtime=i.ttl,P.cbi=i.adId,P.creative_id=i.creativeId,i.mediaType===Ki.BANNER){var F=b.mediaTypes[Ki.BANNER];P.dwidth=F.sizes[0][0],P.dheight=F.sizes[0][1]}i.requestId&&(P.param9=i.requestId),N&&this.isInHouseBidder(i.bidder)&&(P.bas=null);var U=(null===(d=null==i?void 0:i.meta)||void 0===d?void 0:d.primaryCatId)||"",q=(null===(l=null==i?void 0:i.meta)||void 0===l?void 0:l.secondaryCatIds)?"".concat(U,"_").concat(i.meta.secondaryCatIds.join()):U;q&&(P.param9=q),P.add=null===(h=null===(v=null==i?void 0:i.meta)||void 0===v?void 0:v.advertiserDomains)||void 0===h?void 0:h.join(),p=null===(m=null==D?void 0:D.qs)||void 0===m?void 0:m.adapterID}P.placementtype=x||w,P.bai=I||p;var B=this.getActionDuration(t,n,i);"number"==typeof B&&(P.du=B),_&&(P.errorcode=_),y&&(P.rank=y),E&&(P.cr=E),g&&(P.r3=g),j&&(P.param3=j),this.tracker.track(P)},t.prototype.getActionDuration=function(t,n,i){var r=[t],o=this.adUnitLoopCounter.getCount(n);return(null==i?void 0:i.bidder)&&r.push(i.bidder),Qf.getMeasureResult([this.type,o,n],r.join("_"))},t.prototype.applyModelsOnPrebidAdUnit=function(t){var n,i,r,o=this,e=this.prebidJS.adUnits.find((function(n){return fa(n.code)===t}));if(e){var u=Ef(e),a=[],c=null===(i=null===(n=this.adUnitMap[t])||void 0===n?void 0:n.config)||void 0===i?void 0:i.bids,s=this.adUnitLoopCounter.getCount(t),f=null===(r=this.adUnitMap[t])||void 0===r?void 0:r.reportId;c.forEach((function(n){var i,r,e,c,d=o.getAdapterId(t,n.bidder),l={buyerId:d,playerId:f},v=function(t,n){return ia(t,n)||!1}(oa(o.spoMap,o.spoClientFeatures,l),s);o.coefficientMap[t]||(o.coefficientMap[t]={});var h=o.coefficientMap[t];h[n.bidder]||(h[n.bidder]=Hf(Si.PREBID,l,null===(i=o.prebidRemoteConfig)||void 0===i?void 0:i.bidCoefficientData));var m=h[n.bidder],b=la(u.mediaTypes);if(v){var w=Kf(m,o.multiRankReport),p=w.rank,y=w.modelError,g=m.bidderCoefficient,k=o.params.uc;o.V(Wi.bidBlocked,t,null,{rank:p,count:g,consent:k,mediaType:b,adapterId:d,modelError:y})}else for(var _=m.bidderCoefficient,j=null===(r=o.settings.config.fpoData)||void 0===r?void 0:r.dynamic_fp,O=null===(c=null===(e=o.prebidRemoteConfig)||void 0===e?void 0:e.fpoData)||void 0===c?void 0:c.optimizedFloorsMapNewV,x=function(t,n,i){var r,o,e=Ef(n);if(!nl[i]||!il.includes(n.bidder))return e;if(!tl){if(!(null===(o=null===(r=window.browsitag)||void 0===r?void 0:r.data)||void 0===o?void 0:o.get))return e;tl=window.browsitag}return e.params.placementId=JSON.stringify(tl.data.get(t)),e}(t,n,o.params.org),I=0;I<_;I++){var S=Ef(x);O&&j&&_>1&&(S.dfl=j/(_-1)*I),a.push(S)}})),u.bids=a,this.updatePrebidAdUnit(u.adUnitCode,u)}},t.prototype.getYahooConfig=function(){return{mode:"all"}},t.prototype.addCustomSettings=function(t){for(var n=this,i=0,r=this.adUnits;i<r.length;i++)for(var o=0,e=r[i].config.bids;o<e.length;o++){var u=e[o];u.bidder===gr?t.yahoossp&&t.yahoossp.mode||(t.yahoossp=this.getYahooConfig()):u.bidder===kr&&(t.yahooads&&t.yahooads.mode||(t.yahooads=this.getYahooConfig()))}this.params.org===li&&(t.criteo={fastBidVersion:"latest"}),this.settings.config.generateDynamicCode&&(t.gptPreAuction={enabled:!0,useDefaultPreAuction:!1,customPreAuction:function(t){var i=n.adUnitMap[fa(t.adUnitCode)];return i?"".concat(i.configId,"#").concat(t.adUnitCode):"".concat(t.adUnitCode)}})},t.prototype.vt=function(t,n){return n===wr.MRKT?"".concat(_r,"-").concat(t):"".concat(Gi.PREBID,"-").concat(t)},t.prototype.G=function(t){var n=this;return void 0===t&&(t=[]),t.forEach((function(t){n.isInHouseBidder(t.bidder)&&t.params&&(t.params.sessionId=n.settings.config.sessionId,t.params.isWrapper=!0)})),t},t.prototype.lt=function(t){var n,i;return null===(i=null===(n=this.adUnits.filter((function(n){return n.id===t}))[0])||void 0===n?void 0:n.config)||void 0===i?void 0:i.prebidId},t.prototype.ft=function(t,n){var i=this,r=[],o=(new Date).getTime();return t.forEach((function(t){var e,u,a,c,s,f,d,l,v,h=i.et(t,n),m=i.tt(t,h);t.bidCost=m;var b=i.getLoopFloorPrice(n,t.bidder,t.mediaType),w=null!==(u=null===(e=t.floorData)||void 0===e?void 0:e.floorValue)&&void 0!==u?u:b.modelVal,p=i.adUnitMap[n],y=null!==(c=null===(a=t.floorData)||void 0===a?void 0:a.cpmAfterAdjustments)&&void 0!==c?c:sa(t),g={auctionBidId:On(),adUnitPath:p.configId,id:i.settings.config.as,bidReceivedAt:o,rate:t.cpm,originalCpm:t.originalCpm,currency:t.currency,originalCurrency:t.originalCurrency,bidderCode:t.bidderCode,cost:m,type:i.type,adUnit:n,demand:i.vt(t.bidder,null==h?void 0:h.type),additional:h,tc:null===(s=i.settings.config)||void 0===s?void 0:s.tc,ttl:t.ttl,wrapperid:i.lt(t.adUnitCode),bidId:t.adId,ilp:i.adUnitLoopCounter.getCount(n),fp:w,blFlowId:ua(null===(f=i.prebidRemoteConfig)||void 0===f?void 0:f.fpoData,y,b.model),adjustedFloorPrice:y.toString(),position:null===(l=null===(d=i.adUnitMap[n].config)||void 0===d?void 0:d.position)||void 0===l?void 0:l.toString(),creativeId:t.creativeId,meta:t.meta,requestId:t.requestId,auctionId:null===(v=i.auctionRegistry.getAuctionId(n))||void 0===v?void 0:v.id,mediaType:t.mediaType,size:t.size};r.push(g)})),r},t.prototype.removeAdUnit=function(t){t&&(this.prebidJS.removeAdUnit(t),this.adUnits=this.adUnits.filter((function(n){return n.id!==t})))},t.prototype.updatePrebidAdUnit=function(t,n){this.prebidJS.removeAdUnit(t),this.prebidJS.addAdUnits([n])},t.prototype.dispose=function(){this.ct();var t=document.getElementById(mr);t.parentElement.removeChild(t),delete window[this.prebidRemoteConfig.pbjsAlias]},t.prototype.getRejectedBidErrorCode=function(t){return t.rejectionReason===Hr?hr.FLOOR_NOT_MET:hr.OTHERS},t.prototype.getFloorData=function(){var t=this,n=this.getMapForPrebidFloors();Od(this.prebidRemoteConfig.globalFloorPrice)||(n[this.prebidRemoteConfig.globalFloorPrice]=this.prebidRemoteConfig.globalFloorPrice);var i=this.getMinFloorPrice(Ki.BANNER);return n[i]=i,{data:{values:n,schema:{fields:["riseFloors"]}},additionalSchemaFields:{riseFloors:function(n){var i,r=n.mediaTypes?la(n.mediaTypes):n.mediaType;return null===(i=t.getLoopFloorPrice(fa(n.adUnitCode),n.bidder,r))||void 0===i?void 0:i.modelVal.toString()}}}},t.prototype.getPriceGranularity=function(){var t,n=this.prebidRemoteConfig.priceGranularity;return n===Jr.CUSTOM&&(n=null===(t=pi[this.params.org])||void 0===t?void 0:t.priceGranularity),null!=n?n:Jr.MEDIUM},t.prototype.getMapForPrebidFloors=function(){var t,n={},i=(null===(t=this.prebidRemoteConfig)||void 0===t?void 0:t.fpoData)||{},r=i.optimizedFloorsMapNewV,o=i.randomDistribution;return r?(Zd(r).filter(Mf).forEach((function(t){return n[t.toString()]=t})),n):(o&&o.forEach((function(t){return n[t.toString()]=t})),n)},t.prototype.getLoopFloorPrice=function(t,n,i){var r=this.adUnitLoopCounter.getCount(t),o=this.adUnits.find((function(n){return n.id===t})),e={buyerId:this.getAdapterId(t,n),playerId:o.reportId};return ea(this.prebidRemoteConfig.fpoData,r,e,this.getMinFloorPrice(i),this.prebidRemoteConfig.globalFloorPrice)},t.prototype.getAuctionLoopCount=function(t){return this.adUnitLoopCounter.getCount(t)},t.prototype.getAuctionConfigId=function(t){return this.lt(t)},t.prototype.reportGroupedBid=function(t,n){var i,r,o,e,u=ta(t,"adUnitCode");u=Object.keys(u).reduce((function(t,n){return t[fa(n)]=u[n],t}),{});for(var a=0,c=Object.entries(u);a<c.length;a++)for(var s=c[a],f=s[0],d=ta(s[1],"bidder"),l=0,v=Object.entries(d);l<v.length;l++){var h=v[l][1],m=h[0],b=this.getLoopFloorPrice(f,m.bidder,m.mediaType),w=null===(r=null===(i=this.coefficientMap)||void 0===i?void 0:i[f])||void 0===r?void 0:r[m.bidder],p={};p.multiBlFlowIdReport=aa(null===(o=this.prebidRemoteConfig)||void 0===o?void 0:o.fpoData,h,b),p.rank=null===(e=Kf(w,this.multiRankReport))||void 0===e?void 0:e.rank,p.count=h.length,p.multiPricesReport=ca(h),this.st(n,[m],f,p)}},t.prototype.getAdapterId=function(t,n){var i,r=this.bidMap[t];if(r){var o=r.find((function(t){return t.bidder===n}));if(null===(i=null==o?void 0:o.qs)||void 0===i?void 0:i.adapterID)return o.qs.adapterID}return""},t.prototype.validateSpo=function(){var t=this.spoBl0Report.slice(-1),n=[];t!==ao.ERROR&&(t||n.push(co.MISSING_RANK),t===ao.MODEL&&(Id(this.spoMap)&&n.push(co.MISSING_BLOCKED_MAP),Id(this.spoClientFeatures)&&n.push(co.MISSING_CLIENT_FEATURES)),Id(n)||(this.spoBl0Report=this.spoBl0Report+ao.ERROR,this.V(Do,void 0,void 0,{modelError:n.join()})))},t.prototype.setDataProviders=function(t){var n,i,r;Oi[null===(n=this.params)||void 0===n?void 0:n.org]&&!t.realTimeData&&(t.realTimeData={dataProviders:[]}),Object.values(null!==(r=Oi[null===(i=this.params)||void 0===i?void 0:i.org])&&void 0!==r?r:{}).forEach((function(n){t.realTimeData.dataProviders.push(n)}))},t}();const ul=el;var al=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},cl=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},sl=function(){function t(t,n){var i=n.tracker,r=n.params,o=n.monitorReporter,e=n.auctionRegistry,u=n.errorReporter;this.eventBus=Ff.getEventBus(),this.adUnitMap={},this.settings=t,this.type=this.settings.type,this.ht=window.apstag,this.bt=this.settings.config.pubId,this.bidCoefficientData=this.settings.config.bidCoefficientData,this.wt=Or,this.tracker=i,this.monitorReporter=o,this.params=r,this.auctionRegistry=e,this.reporterArguments={tracker:i,auctionRegistry:e,errorReporter:u},this.yt=[],this.gt=Lf(),this.$()}return t.loadModule=function(n,i){return new Promise((function(r,o){var e=i.params,u=i.monitorReporter;return"1"===e.coppa?(u.warn(Ur.MODULE.AMAZON,"Amazon module COPPA reject"),void o("Module is not supported on COPPA compliant pages")):n.type!==Si.AMAZON?(u.warn(Ur.MODULE.AMAZON,"Amazon module Incorrect integration type"),void o("Incorrect integration type")):void Ud(Si.AMAZON).then((function(){if(window.apstag){var e=new t(n,i);r(e)}else o("APS script is not accessible")})).catch((function(t){o(t)}))}))},t.prototype.isAdUnitSupported=function(t){return!!this.adUnitMap[t]},t.prototype.requestAd=function(t){return al(this,void 0,void 0,(function(){var n,i,r,o,e,u,a,c,s,f,d,l,v,h,m,b,w,p,y,g,k,_,j,O,x,I,S,A=this;return cl(this,(function(E){switch(E.label){case 0:return n={},i=[],t.forEach((function(t){var r,o=A.adUnitMap[t];if(o){A.gt.addCount(t);var e=A.getLoopFloorPrice(t);A.reportEvent(Tr,t,null,{floorPrice:e.modelVal,mediaType:la(o.mediaTypes)});var u=A.gt.getCount(t);Qf.startMeasurement([A.type,u,t]),A.monitorReporter.info(Ur.MODULE.AMAZON,"Amazon request ad start",{event:Tr,adUnitId:t,currentFloor:e.modelVal}),n[t]={floorPrice:e.modelVal,dynamic_fp:null===(r=A.settings.config.fpoData)||void 0===r?void 0:r.dynamic_fp},i.push(o)}})),[4,Xu(this.kt(i,n))];case 1:if(r=E.sent(),o=r[0],e=r[1])return this.reportEvent(Dr),this.monitorReporter.error(Ur.MODULE.AMAZON,"Amazon request ad failed",{event:Dr,adUnits:t.join()},e),[2,[]];if(this.params.org===hi&&(window.apstabBids||(window.apstabBids=[]),o.forEach((function(t){return window.apstabBids.push(t)}))),u=o.filter((function(t){return"0x0"!=t.size})),a=ta(u,"slotID"),c={},s={},f=[],d=(new Date).getTime(),t.forEach((function(t){var i=A.adUnitMap[t],r=n[t].floorPrice;c[t]=A._t(i,t,a[t],r),c[t].forEach((function(t){var r,o,e,u,a,c,l=n[t.adUnitId].floorPrice,v=t.adUnitId,h=A.getLoopFloorPrice(v),m={playerId:A.getAmazonAdUnitReportId(v),buyerId:A.getAuctionConfigId(v)},b=null===(o=Kf(Hf(Si.AMAZON,m,A.bidCoefficientData),null===(r=A.bidCoefficientData)||void 0===r?void 0:r.rankReport))||void 0===o?void 0:o.rank;s[v]||(s[v]=[]);var w={auctionBidId:On(),adUnitPath:i.configId,id:A.settings.config.adSource,bidReceivedAt:d,additional:{targeting:t.targeting,rank:b},rate:t.rate,cost:t.cost,adUnit:v,demand:Ar,mediaType:t.mediaType,type:A.type,ami:null===(e=A.adUnitMap[v])||void 0===e?void 0:e.config.amazonId,bidId:t.bidId,ilp:A.gt.getCount(v),fp:l,blFlowId:ua(A.settings.config.fpoData,l,h.model),position:null===(c=null===(a=null===(u=A.adUnitMap[v])||void 0===u?void 0:u.config)||void 0===a?void 0:a.position)||void 0===c?void 0:c.toString(),ttl:t.ttl,rateSort:A.getSortedRate(t.rate),auctionId:t.auctionId,size:t.size};s[v].push(w),f.push(w)}))})),l=[],Object.keys(s).length){for(v=0,h=Object.entries(s);v<h.length;v++)m=h[v],b=m[0],w=m[1],p=this.getAmazonAdUnitReportId(b),y=this.getAuctionConfigId(b),g={playerId:p,buyerId:y},k=Hf(Si.AMAZON,g,this.bidCoefficientData),this.reporterArguments.rank=null===(S=Kf(k,null===(I=this.bidCoefficientData)||void 0===I?void 0:I.rankReport))||void 0===S?void 0:S.rank,Gf(b,Si.AMAZON,w,this.reporterArguments),l.push({auctionSlotId:b,bids:w});for(_=0,j=f;_<j.length;_++)O=j[_],x=this.auctionRegistry.getSlot(O.adUnit),this.eventBus.publish(Ti.BID_RESPONSE,{adIntegrationId:x.integrationId,adSlotId:x.id})}return[2,l]}}))}))},t.prototype.getSortedRate=function(t){return this.settings.config.sorted?this.settings.config.sorted[decodeURIComponent(window.btoa(t))]:(this.reportEvent(Dr),this.monitorReporter.error(Ur.MODULE.AMAZON,"Amazon sort bids failed",{settings:this.settings},new Error("cannot sort amazon bids")),null)},t.prototype.registerAdUnit=function(t,n){var i=this.settings.adUnits.find((function(n){return n.configId===t}));if(i){var r=Ef(i);r.id=n,this.adUnitMap[n]=r,this.yt.push(r),this.gt.newCounter(n)}else this.monitorReporter.warn(Ur.MODULE.AMAZON,"Amazon no ad unit config",{adUnitConfigId:t,newAdUnitId:n})},t.prototype.$=function(){this.jt(),this.Ot()},t.prototype.jt=function(){for(var t=0,n=this.settings.adUnits;t<n.length;t++){var i=n[t],r=this.Z(i);this.registerAdUnit(i.configId,r)}},t.prototype.Ot=function(){var t={deals:!0,pubID:this.bt,adServer:xr,simplerGPT:!0};this.params.us_privacy&&"CA"===this.params.stat&&(t.params={us_privacy:this.params.us_privacy}),this.ht.init(t),this.reportEvent(Er),this.monitorReporter.info(Ur.MODULE.AMAZON,"Amazon module init",{action:Er})},t.prototype.kt=function(t,n){var i=this,r=function(t){var n,i;void 0===t&&(t=b());try{n=Math.max(t.document.documentElement.clientWidth||0,t.innerWidth||0),i=Math.max(t.document.documentElement.clientHeight||0,t.innerHeight||0)}catch(t){return[0,0]}return[n,i]}(),o={slots:[],timeout:this.wt};return t.forEach((function(t){var e,u,a=t.mediaTypes[Ki.BANNER];if(a.sizeConfig){var c=function(t,n){var i={};return t.sort((function(t,n){return t.minViewPort[0]-n.minViewPort[0]})).forEach((function(t){n[0]>=t.minViewPort[0]&&n[1]>=t.minViewPort[1]&&(i=t)})),i}(a.sizeConfig,r);if(Id(c.sizes))return void i.reportEvent(Pr,t.id);a.sizes=c.sizes}for(var s={slotID:t.id,slotName:t.configId,sizes:a.sizes},f={playerId:i.getAmazonAdUnitReportId(t.id),buyerId:t.config.amazonId},d=Hf(Si.AMAZON,f,i.bidCoefficientData).bidderCoefficient,l=n[t.id],v=l.floorPrice,h=l.dynamic_fp,m=!!(null===(u=null===(e=i.settings.config)||void 0===e?void 0:e.fpoData)||void 0===u?void 0:u.optimizedFloorsMapNewV),b=0;b<d;b++){var w=v;m&&h&&v&&d>1&&(w+=h/(d-1)*b/100*v);var p=Ef(s);p.floor={value:Math.floor(100*w),currency:Sr},o.slots.push(p)}})),new Promise((function(r){i.ht.fetchBids(o,r),t.forEach((function(t){var r,o={playerId:i.getAmazonAdUnitReportId(t.id),buyerId:t.config.amazonId},e=Hf(Si.AMAZON,o,i.bidCoefficientData),u=Kf(e,null===(r=i.bidCoefficientData)||void 0===r?void 0:r.rankReport),a=u.rank,c=u.modelError,s={count:e.bidderCoefficient,rank:a,modelError:c,floorPrice:n[t.id].floorPrice,consent:i.params.uc,mediaType:la(t.mediaTypes)},f=document.getElementById(t.id);f&&(s.vwb=Ld(f).total),i.reportEvent(Cr,t.id,null,s),i.monitorReporter.info(Ur.MODULE.AMAZON,"Amazon bid request",{adUnitId:t.id})}))}))},t.prototype._t=function(t,n,i,r){var o,e=this;void 0===i&&(i=[]);var u=t.id,a=this.gt.getCount(n),c=Qf.getMeasureResult([this.type,a,n],"auction-end"),s={playerId:this.getAmazonAdUnitReportId(n),buyerId:t.config.amazonId},f=Hf(Si.AMAZON,s,this.bidCoefficientData),d=f.bidderCoefficient,l=Kf(f,null===(o=this.bidCoefficientData)||void 0===o?void 0:o.rankReport),v=l.rank,h=l.modelError;if(i.length<d){var m=d-i.length;this.reportEvent(Mr,n,null,{count:m,duration:c,floorPrice:r,rank:v,modelError:h,mediaType:la(t.mediaTypes)}),Array.from({length:m}).forEach((function(){e.monitorReporter.info(Ur.MODULE.AMAZON,"Amazon no bid for ad unit",{adUnitId:n})}))}if(!i.length)return[];var b=[];return i.forEach((function(t){t&&t.slotID!==u?e.monitorReporter.warn(Ur.MODULE.AMAZON,"Amazon bid aborted. Ad unit Id mismatch",{bid:t,slotId:u}):(b.push(e.xt(t,n)),e.reportEvent(Rr,n,t,{consent:e.params.uc,duration:c,floorPrice:r,rank:v,modelError:h}))})),b},t.prototype.xt=function(t,n){var i,r,o,e,u,a;this.monitorReporter.info(Ur.MODULE.AMAZON,"Amazon bid",{action:Rr,adUnitId:n,bid:t});var c=(null==t?void 0:t.amznbid)||(null===(i=null==t?void 0:t.targeting)||void 0===i?void 0:i.amznbid),s=(null==t?void 0:t.amzniid)||(null===(r=null==t?void 0:t.targeting)||void 0===r?void 0:r.amzniid),f=(null==t?void 0:t.size)||(null===(o=null==t?void 0:t.targeting)||void 0===o?void 0:o.amznsz),d=(null==t?void 0:t.amznp)||(null===(e=null==t?void 0:t.targeting)||void 0===e?void 0:e.amznp),l=t.targeting||{amzniid:s,amznbid:c,amznsz:f,amznp:d};return{adsourceid:this.settings.config.adSource,rate:c,ttl:t.to||Ir,cost:null,ilp:this.gt.getCount(n),tc:null===(u=this.settings.config)||void 0===u?void 0:u.trafficChannel,bidId:s,mediaType:Qi[t.mediaType],targeting:l,adUnitId:n,auctionId:null===(a=this.auctionRegistry.getAuctionId(n))||void 0===a?void 0:a.id,size:t.size}},t.prototype.getLoopFloorPrice=function(t){var n=this.gt.getCount(t),i=this.adUnitMap[t],r=this.settings.config.globalFloorPrice,o={buyerId:i.config.amazonId,playerId:i.reportId};return ea(this.settings.config.fpoData,n,o,br,r)},t.prototype.reportEvent=function(t,n,i,r){var o,e,u,a,c,s,f,d,l,v;void 0===r&&(r={});var h={action:t,category:Ui,component:Ci.AUCTION_MODULE,subid:Gi.AMAZON,adsourceid:this.settings.config.adSource,tc:this.settings.config.trafficChannel,bas:Ar,ami:null===(o=this.adUnitMap[n])||void 0===o?void 0:o.config.amazonId,pli:n,il:Wu.getVisibility(),uc:r.consent,vwb:r.vwb};if(n){var m=this.adUnitMap[n];h.loop=this.auctionRegistry.getCount(n),h.playerid=m.reportId,h.position=null===(u=null===(e=m.config)||void 0===e?void 0:e.position)||void 0===u?void 0:u.toString(),h.recordid=null===(a=this.auctionRegistry.getAuctionId(n))||void 0===a?void 0:a.id;var b=m.mediaTypes[Ki.BANNER];b&&(null===(c=null==b?void 0:b.sizes)||void 0===c?void 0:c.length)&&(h.dwidth=b.sizes[0][0],h.dheight=b.sizes[0][1]);var w=r.floorPrice;if(w){var p=this.getLoopFloorPrice(n);h.blf=ua(this.settings.config.fpoData,w,p.model),h.fp=w,h.cr=null!==(s=p.modelError)&&void 0!==s?s:h.cr}"number"==typeof r.duration&&(h.du=r.duration),h.ilp=this.gt.getCount(n),h.r3=null!==(f=r.count)&&void 0!==f?f:h.r3,h.rank=null!==(d=r.rank)&&void 0!==d?d:h.rank,h.cr=r.modelError}i&&(h.adsourcerate=i.amznbid||(null===(l=null==i?void 0:i.targeting)||void 0===l?void 0:l.amznbid),h.loadtime=i.to,h.cbi=i.amzniid||(null===(v=null==i?void 0:i.targeting)||void 0===v?void 0:v.amzniid)),h.placementtype=(null==r?void 0:r.mediaType)||Qi[null==i?void 0:i.mediaType]||(null==i?void 0:i.mediaType),this.tracker.track(h)},t.prototype.Z=function(t){return t.id},t.prototype.removeAdUnit=function(t){var n=this;this.yt=this.yt.filter((function(i){return n.Z(i)!==t})),delete this.adUnitMap[t],this.monitorReporter.info(Ur.MODULE.AMAZON,"Amazon ad unit removed",{adUnitId:t})},t.prototype.dispose=function(){this.yt=[],this.adUnitMap={}},t.prototype.getAuctionLoopCount=function(t){return this.gt.getCount(t)},t.prototype.getAuctionConfigId=function(t){var n;return null===(n=this.adUnitMap[t])||void 0===n?void 0:n.config.amazonId},t.prototype.getAmazonAdUnitReportId=function(t){var n;return null===(n=this.adUnitMap[t])||void 0===n?void 0:n.reportId},t}();const fl=sl;function dl(t){switch(t){case Si.AMAZON:return fl;case Si.PREBID:return ul;default:return null}}var ll;!function(t){t.DISABLE_INITIAL_LOAD_SUCCESS="dils",t.DISABLE_INITIAL_LOAD_ALREADY="dila",t.ENABLE_SINGLE_REQUEST_SUCCESS="esrs",t.ENABLE_SINGLE_REQUEST_ALREADY="esra",t.ENABLE_SERVICES_SUCCESS="ess",t.ENABLE_SERVICES_ALREADY="esa",t.FULL_GAM_INIT="fgi",t.PARTIAL_GAM_INIT="pgi"}(ll||(ll={}));var vl=function(){function t(t,n){var i=n.tracker,r=n.monitorReporter,o=n.errorReporter,e=n.config;this.adSlotMap=new Map,this.config=e,this.tracker=i,this.monitorReporter=r,this.errorReporter=o,this.gamInstance=window.googletag,this.monitorReporter=r,this.init(t)}return t.prototype.init=function(t){var n,i,r,o;if((null===(n=this.config)||void 0===n?void 0:n.targeting)&&this.setGlobalTargetingMap(this.config.targeting),null===(r=null===(i=this.config)||void 0===i?void 0:i.init)||void 0===r?void 0:r.initializeGoogletag){var e=!0;this.gamInstance.pubads().isInitialLoadDisabled()?(e=!1,Wf(this.tracker,ll.DISABLE_INITIAL_LOAD_ALREADY,"")):(this.gamInstance.pubads().disableInitialLoad(),Wf(this.tracker,ll.DISABLE_INITIAL_LOAD_SUCCESS,"")),(null===(o=this.gamInstance.pubads())||void 0===o?void 0:o.isSRA())?(e=!1,Wf(this.tracker,ll.ENABLE_SINGLE_REQUEST_ALREADY,"")):(this.gamInstance.pubads().enableSingleRequest(),Wf(this.tracker,ll.ENABLE_SINGLE_REQUEST_SUCCESS,"")),this.gamInstance.pubadsReady?(e=!1,Wf(this.tracker,ll.ENABLE_SERVICES_ALREADY,"")):(this.gamInstance.enableServices(),Wf(this.tracker,ll.ENABLE_SERVICES_SUCCESS,""));var u=e?ll.FULL_GAM_INIT:ll.PARTIAL_GAM_INIT;Wf(this.tracker,u,"")}this.setSlots(t)},t.prototype.create=function(t,n,i){var r;if(document.getElementById(t)){var o=null===(r=this.gamInstance.defineSlot(i,n,t))||void 0===r?void 0:r.addService(this.gamInstance.pubads());if(o)return this.gamInstance.display(t),this.adSlotMap.set(t,o),o;0}},t.prototype.refresh=function(t){this.gamInstance.pubads().refresh([this.getSlot(t)])},t.prototype.destroy=function(t){var n=this.getSlot(t);n&&(this.gamInstance.destroySlots([n]),this.adSlotMap.delete(t))},t.prototype.getSlot=function(t){return this.adSlotMap.get(t)},t.prototype.getAllSlots=function(){return this.gamInstance.pubads().getSlots()},t.prototype.clearTargeting=function(t,n){var i,r=this.getSlot(t);if(r&&(null==n?void 0:n.length))for(var o=0,e=n;o<e.length;o++){var u=e[o];(null===(i=r.getTargeting(u))||void 0===i?void 0:i.length)&&r.clearTargeting(u)}},t.prototype.setTargeting=function(t,n,i){var r=this.getSlot(t);r&&(null==i?void 0:i.length)&&r.setTargeting(n,i.filter((function(t){return t})))},t.prototype.setSlotTargetingMap=function(t,n){var i=this.getSlot(t);i&&Object.entries(n).forEach((function(t){var n=t[0],r=t[1];i.setTargeting(n,r)}))},t.prototype.setGlobalTargetingMap=function(t){var n=this;Object.entries(t).forEach((function(t){var i=t[0],r=t[1];n.gamInstance.pubads().setTargeting(i,r)}))},t.prototype.getTargeting=function(t,n){var i=this.getSlot(t);return i?i.getTargeting(n):[]},t.prototype.getSlotTargetingMap=function(t){var n={},i=this.getSlot(t);return i?(i.getTargetingKeys().forEach((function(t){n[t]=i.getTargeting(t)})),n):{}},t.prototype.registerSlot=function(t,n){var i=this;this.gamInstance.pubads().getSlots().forEach((function(r){r.getSlotElementId()===t&&r.getAdUnitPath()===n&&i.adSlotMap.set(t,r)}))},t.prototype.on=function(t,n){this.gamInstance.pubads().addEventListener(t,(function(t){n(t)}))},t.prototype.off=function(t,n){this.gamInstance.pubads().removeEventListener(t,n)},t.prototype.setSlots=function(t){var n=this,i=t.reduce((function(t,n){return t[n.slotId]||(t[n.slotId]=1),t}),{});this.gamInstance.pubads().getSlots().forEach((function(t){var r=t.getSlotElementId();i[r]&&n.adSlotMap.set(r,t)}))},t.prototype.exists=function(t){var n=!1;return this.gamInstance.pubads().getSlots().forEach((function(i){if(i.getSlotElementId()==t)return n=!0})),n},t}();const hl=vl;var ml=function(){function t(t,n){var i,r,o=n.googletag,e=n.monitorReporter,u=n.enterObserver,a=n.tracker,c=n.auctionRegistry;if(this.deleted=!1,this.rendered=!1,this.slotDone=!1,this.viewed=!1,this.bids=[],this.lastAuctionTime=null,this.refreshCounter=0,this.listenToSlotRenderEnded=!1,this.lazyEnabled=!1,this.isInAuctionRange=!1,this.canDelete=!1,this.slotRefreshEnabled=!1,this.startedAuctionProcess=!1,this.forceFirstLazyAuction=!0,this.refreshOnce=!0,this.wasRefreshAlreadyFired=!1,this.refreshLimit=1/0,this.eventBus=Ff.getEventBus(),!o)throw new Error("missing googletag module");if(this.googletag=o,!u)throw new Error("missing observer module");this.config=t.config,this.looseObserver=u,this.monitorReporter=e,this.track=a,this.auctionRegistry=c,this.id=t.slotId,this.reportId=t.reportId,this.mode=t.mode,this.adSlotPath=t.auctionConfigId,this.sizes=t.sizes,this.customTargeting=null!==(i=t.targeting)&&void 0!==i?i:{},this.lazyEnabled=this.mode===or.LAZY_LOAD||(null===(r=this.config)||void 0===r?void 0:r.lazyLoad),this.slotRefreshEnabled=!!t.enableRefreshInterval,t.maxAllowedRefreshes&&(this.refreshLimit=t.maxAllowedRefreshes),this.slotRefreshInterval=function(t,n){return t.enableRefreshInterval&&t.refreshInterval?1e3*t.refreshInterval:n}(t,3e4)}return Object.defineProperty(t.prototype,"loop",{get:function(){return this.auctionRegistry.getCount(this.id)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"auctionSlot",{get:function(){return this.auctionRegistry.getSlot(this.id)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldWaitForViewableImpression",{get:function(){var t;return(null===(t=this.config)||void 0===t?void 0:t.waitForViewableImpression)&&this.lazyEnabled},enumerable:!1,configurable:!0}),t.prototype.setAuctionInitialState=function(){this.lastAuctionTime=(new Date).getTime(),this.wasRefreshAlreadyFired=!1},t.prototype.isSlotEligible=function(){if(this.slotDone||this.deleted||!this.slotRefreshEnabled)return!1;if(function(t,n,i,r,o){return t>=n&&(r||o.publish(Ei.UNIT_DONE,{adSlotId:i,errorCode:cr}),!0)}(this.refreshCounter,this.refreshLimit,this.id,this.slotDone,this.eventBus))return this.slotDone=!0,!1;var t=document.getElementById(this.id);return!(!t||!td(t))&&(this.mode===or.DEFAULT||this.mode===or.INFINITE_SCROLL&&!this.lazyEnabled||this.isInAuctionRange||this.forceFirstLazyAuction)},t.prototype.getRegisteredBids=function(){return this.bids},t.prototype.onAuctionEnd=function(t){var n;if(void 0===t&&(t=[]),(this.slotRefreshEnabled||this.refreshOnce)&&!this.wasRefreshAlreadyFired){this.bids=t,this.shouldWaitForViewableImpression&&(this.stopLazyObserver(),this.isInAuctionRange=!1),this.eventBus.publish(Ei.BEFORE_SLOT_REFRESH,{slot:this.googletag.getSlot(this.id)}),this.googletag.refresh(this.id),this.listenToSlotRenderEnded=!0;var i=this.auctionSlot,r=this.loop;Wf(this.track,Ri.BANNER_REFRESH,"",{auctionSlot:i,auctionId:null===(n=i.auctionId)||void 0===n?void 0:n.id,auctionLoop:r}),this.wasRefreshAlreadyFired=!0,this.forceFirstLazyAuction&&(this.forceFirstLazyAuction=!1),this.refreshOnce=!1,this.canDelete=!0,this.refreshCounter++}},t.prototype.deleteBid=function(){this.rendered=!1,this.viewed=!1,this.bids=[],this.winningBid=null},t.prototype.start=function(){var t=this;if(!this.startedAuctionProcess&&(this.startedAuctionProcess=!0,this.lazyEnabled)){if(this.forceFirstLazyAuction&&this.eventBus.publish(Ei.ON_LAZY_ENTER,{adSlotId:this.id,forcedLazy:!0}),this.shouldWaitForViewableImpression)return void this.eventBus.subscribe(Ei.VIEWABLE_IMPRESSION,(function(n){n.adSlotId===t.id&&t.startLazyObserver()}));this.startLazyObserver()}},t.prototype.startLazyObserver=function(){this.looseObserver.register(this.id,this.onLooseEnter.bind(this),this.onLooseExit.bind(this))},t.prototype.stopLazyObserver=function(){this.looseObserver.unregister(this.id)},t.prototype.onLooseEnter=function(){this.googletag.exists(this.id)||this.createGoogleAdUnit(),this.isInAuctionRange=!0,this.lazyEnabled&&this.eventBus.publish(Ei.ON_LAZY_ENTER,{adSlotId:this.id}),this.shouldWaitForViewableImpression&&this.stopLazyObserver()},t.prototype.onLooseExit=function(){var t;this.canDelete&&(null===(t=this.config)||void 0===t?void 0:t.destroy)&&this.destroyGoogleAdUnit(),this.isInAuctionRange=!1,this.canDelete=!1,this.refreshOnce=!0},t.prototype.destroyGoogleAdUnit=function(){this.googletag.destroy(this.id),this.deleted=!0},t.prototype.createGoogleAdUnit=function(){this.googletag.create(this.id,this.sizes,this.adSlotPath),this.deleted=!1},t}();const bl=ml;const wl=function(t,n,i){(void 0!==i&&!ma(t[n],i)||void 0===i&&!(n in t))&&Tc(t,n,i)};const pl=function(t){return function(n,i,r){for(var o=-1,e=Object(n),u=r(n),a=u.length;a--;){var c=u[t?a:++o];if(!1===i(e[c],c,e))break}return n}};const yl=pl();const gl=function(t){return Dc(t)&&vs(t)};const kl=function(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]};const _l=function(t){return Rc(t,ys(t))};const jl=function(t,n,i,r,o,e,u){var a=kl(t,i),c=kl(n,i),s=u.get(c);if(s)wl(t,i,s);else{var f=e?e(a,c,i+"",t,n,u):void 0,d=void 0===f;if(d){var l=Bc(c),v=!l&&Yc(c),h=!l&&!v&&os(c);f=c,l||v||h?Bc(a)?f=a:gl(a)?f=Is(a):v?(d=!1,f=xs(c,!0)):h?(d=!1,f=vf(c,!0)):f=[]:Kd(c)||qc(c)?(f=a,qc(a)?f=_l(a):Ba(a)&&!La(a)||(f=wf(c))):d=!1}d&&(u.set(c,f),o(f,c,r,e,u),u.delete(c)),wl(t,i,f)}};const Ol=function t(n,i,r,o,e){n!==i&&yl(i,(function(u,a){if(e||(e=new Ic),Ba(u))jl(n,i,a,r,t,o,e);else{var c=o?o(kl(n,a),u,a+"",n,i,e):void 0;void 0===c&&(c=u),wl(n,a,c)}}),ys)};const xl=function(t){return t};const Il=function(t,n,i){switch(i.length){case 0:return t.call(n);case 1:return t.call(n,i[0]);case 2:return t.call(n,i[0],i[1]);case 3:return t.call(n,i[0],i[1],i[2])}return t.apply(n,i)};var Sl=Math.max;const Al=function(t,n,i){return n=Sl(void 0===n?t.length-1:n,0),function(){for(var r=arguments,o=-1,e=Sl(r.length-n,0),u=Array(e);++o<e;)u[o]=r[n+o];o=-1;for(var a=Array(n+1);++o<n;)a[o]=r[o];return a[n]=i(u),Il(t,this,a)}};const El=function(t){return function(){return t}};var Tl=Ec?function(t,n){return Ec(t,"toString",{configurable:!0,enumerable:!1,value:El(n),writable:!0})}:xl;const Pl=Tl;var Cl=Date.now;const Rl=function(t){var n=0,i=0;return function(){var r=Cl(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}};const Ml=Rl(Pl);const Dl=function(t,n){return Ml(Al(t,n,xl),t+"")};const zl=function(t,n,i){if(!Ba(i))return!1;var r=typeof n;return!!("number"==r?vs(i)&&Jc(n,i.length):"string"==r&&n in i)&&ma(i[n],t)};const Nl=function(t){return Dl((function(n,i){var r=-1,o=i.length,e=o>1?i[o-1]:void 0,u=o>2?i[2]:void 0;for(e=t.length>3&&"function"==typeof e?(o--,e):void 0,u&&zl(i[0],i[1],u)&&(e=o<3?void 0:e,o=1),n=Object(n);++r<o;){var a=i[r];a&&t(n,a,r,e)}return n}))}((function(t,n,i){Ol(t,n,i)}));const Fl=function(){return Ta.Date.now()};var Ul=/\s/;const ql=function(t){for(var n=t.length;n--&&Ul.test(t.charAt(n)););return n};var Bl=/^\s+/;const Ll=function(t){return t?t.slice(0,ql(t)+1).replace(Bl,""):t};const $l=function(t){return"symbol"==typeof t||Dc(t)&&"[object Symbol]"==qa(t)};var Vl=/^[-+]0x[0-9a-f]+$/i,Gl=/^0b[01]+$/i,Yl=/^0o[0-7]+$/i,Wl=parseInt;const Jl=function(t){if("number"==typeof t)return t;if($l(t))return NaN;if(Ba(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Ba(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Ll(t);var i=Gl.test(t);return i||Yl.test(t)?Wl(t.slice(2),i?2:8):Vl.test(t)?NaN:+t};var Hl=Math.max,Kl=Math.min;const Xl=function(t,n,i){var r,o,e,u,a,c,s=0,f=!1,d=!1,l=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(n){var i=r,e=o;return r=o=void 0,s=n,u=t.apply(e,i)}function h(t){var i=t-c;return void 0===c||i>=n||i<0||d&&t-s>=e}function m(){var t=Fl();if(h(t))return b(t);a=setTimeout(m,function(t){var i=n-(t-c);return d?Kl(i,e-(t-s)):i}(t))}function b(t){return a=void 0,l&&r?v(t):(r=o=void 0,u)}function w(){var t=Fl(),i=h(t);if(r=arguments,o=this,c=t,i){if(void 0===a)return function(t){return s=t,a=setTimeout(m,n),f?v(t):u}(c);if(d)return clearTimeout(a),a=setTimeout(m,n),v(c)}return void 0===a&&(a=setTimeout(m,n)),u}return n=Jl(n)||0,Ba(i)&&(f=!!i.leading,e=(d="maxWait"in i)?Hl(Jl(i.maxWait)||0,n):e,l="trailing"in i?!!i.trailing:l),w.cancel=function(){void 0!==a&&clearTimeout(a),s=0,r=c=o=a=void 0},w.flush=function(){return void 0===a?u:b(Fl())},w};var Zl={rootMargin:"200px 0px 200px 0px",threshold:0,includeTabViewability:!1,delayOutOfViewTime:0},Ql=function(){function t(t){void 0===t&&(t=Zl);var n=this;this.observedElementsData=new Map,this.intersectingElements=new Set,this.unsubscribeTabViewabilityListener=null,this.options=Nl({},Zl,t);this.intersectionObserver=new IntersectionObserver((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i],e=o.target.id,u=n.observedElementsData.get(e);if(!u)return;var a=u.onEnter,c=u.onExit,s=u.onExitDebounce;o.isIntersecting?(n.intersectingElements.add(e),s.cancel(),null==a||a(e)):(n.intersectingElements.delete(e),n.shouldDelayOutOfView?s(e):null==c||c(e))}}),this.options),t.includeTabViewability&&(this.unsubscribeTabViewabilityListener=Gu.startListening({actionCreator:qu.setVisibility,effect:function(t){var i="visible"===t.payload;n.observedElementsData.forEach((function(t,r){var o=t.onEnter,e=t.onExit,u=t.onExitDebounce;n.intersectingElements.has(r)&&(i?(u.cancel(),null==o||o(r)):n.shouldDelayOutOfView?u(r):null==e||e(r))}))}}))}return Object.defineProperty(t.prototype,"shouldDelayOutOfView",{get:function(){var t=this.options.delayOutOfViewTime;return Mf(t)&&t>0},enumerable:!1,configurable:!0}),t.prototype.register=function(t,n,i){var r=document.getElementById(t);r&&!this.observedElementsData.has(t)&&(this.observedElementsData.set(t,{onEnter:n,onExit:i,onExitDebounce:Xl((function(t){return null==i?void 0:i(t)}),this.options.delayOutOfViewTime)}),this.intersectionObserver.observe(r))},t.prototype.unregister=function(t){this.observedElementsData.get(t)&&(this.observedElementsData.delete(t),this.intersectionObserver.unobserve(document.getElementById(t))),this.intersectingElements.delete(t)},t.prototype.dispose=function(){var t;null===(t=this.unsubscribeTabViewabilityListener)||void 0===t||t.call(this),this.unsubscribeTabViewabilityListener=null,this.intersectionObserver.disconnect(),this.observedElementsData.forEach((function(t){var n;return null===(n=t.onExitDebounce)||void 0===n?void 0:n.cancel()})),this.observedElementsData.clear(),this.intersectingElements.clear()},t}();const tv=Ql;var nv;!function(t){t.SLOT_DEFINED_SUCCESSFULLY="sds",t.SLOT_DEFINED_ALREADY="sda",t.SLOT_DEFINED_ERROR="sde"}(nv||(nv={}));var iv=function(){function t(t,n){var i;this.auctionIntervalId=null,this.slotScannerId=null,this.adSlotMap=new Map,this.started=!1;var r=n.tracker,o=n.monitorReporter,e=n.errorReporter,u=n.params,a=n.googletag,c=n.reportEvent,s=n.auctionRegistry;this.tracker=r,this.params=u,this.options=t,this.monitorReporter=o,this.errorReporter=e,this.googletag=a,this.reportEvent=c,this.auctionRegistry=s,this.auctionInterval=(null===(i=this.params)||void 0===i?void 0:i.org)===vi?5e3:4e3,this.looseObserver=new tv(t.config.observerConfig),this.initAdSlotWrappers(),this.eventBus=Ff.getEventBus(),(window.RISE_GAM_AUTO_SCAN||this.options.config.scan)&&this.listenToNewAdSlots(),this.subscribeToAdSlotEvents()}return t.prototype.subscribeToAdSlotEvents=function(){var t=this;this.eventBus.subscribe(Ei.ON_LAZY_ENTER,(function(n){var i=n.adSlotId,r=n.forcedLazy,o=t.adSlotMap.get(i),e=(new Date).getTime();o&&t.canRunAuction(o,e)&&(o.setAuctionInitialState(),t.startAuction([i],r))})),this.eventBus.subscribe(Ei.UNIT_DONE,(function(n){var i=n.errorCode,r=n.adSlotId,o=t.adSlotMap.get(r);t.reportEvent(er,o,null,{errorCode:i})}))},t.prototype.start=function(){this.adSlotMap.forEach((function(t){t.start()})),this.startAuctionInterval(),this.started=!0},t.prototype.dispose=function(){clearInterval(this.auctionIntervalId),this.auctionIntervalId=null,clearInterval(this.slotScannerId),this.slotScannerId=null},t.prototype.refresh=function(){this.started&&(this.adSlotMap.forEach((function(t){t.lastAuctionTime=null})),this.startEligibleSlotAuctionRequest())},t.prototype.getSlot=function(t){return this.adSlotMap.get(t)},t.prototype.getSlots=function(){return Array.from(this.adSlotMap.values())},t.prototype.getSlotBids=function(t){var n=this.getSlot(t);return n?n.getRegisteredBids():[]},t.prototype.processWinningBid=function(t,n){var i,r=this.getSlot(t);(null===(i=null==r?void 0:r.bids)||void 0===i?void 0:i.length)&&(r.winningBid=r.bids.find((function(t){return t.bidId===n})),r.bids=r.bids.filter((function(t){return t.bidId!==n})))},t.prototype.getSlotWinningBid=function(t){var n=this.getSlot(t);return null==n?void 0:n.winningBid},t.prototype.onAuctionEnd=function(t,n){var i=this.getSlot(t);i&&i.onAuctionEnd(n)},t.prototype.registerSlot=function(t,n){var i=this.getAdSlotConfig(t);return!(!i||this.adSlotMap.get(n))&&(this.eventBus.publish(Ei.REGISTER_AUCTION,{auctionConfigId:i.auctionConfigId,adSlotIds:[n]}),this.registerAdSlot(i,n))},t.prototype.startAuctionInterval=function(){var t=this;this.startEligibleSlotAuctionRequest(),this.auctionIntervalId||(this.auctionIntervalId=setInterval((function(){t.startEligibleSlotAuctionRequest()}),this.auctionInterval))},t.prototype.startEligibleSlotAuctionRequest=function(){var t=this,n=[],i=(new Date).getTime();this.adSlotMap.forEach((function(r){t.canRunAuction(r,i)&&(n.push(r.id),r.setAuctionInitialState())})),n.length&&this.startAuction(n,!1)},t.prototype.canRunAuction=function(t,n){var i=!1;return t.lastAuctionTime&&(i=n-(null==t?void 0:t.lastAuctionTime)>t.slotRefreshInterval-4e3),(!t.lastAuctionTime||i)&&t.isSlotEligible()},t.prototype.cloneSlot=function(t,n){var i=Ef(t);return i.slotId=n,i},t.prototype.registerAdSlot=function(t,n){var i=this.cloneSlot(t,n);this.options.adSlots.push(i),this.googletag.registerSlot(n,t.auctionConfigId);var r=this.initAdSlotWrapper(i);if(!r)return!1;r.start();var o=(new Date).getTime();return this.canRunAuction(r,o)&&(r.setAuctionInitialState(),this.startAuction([r.id],!1)),!0},t.prototype.listenToNewAdSlots=function(){var t=this;this.slotScannerId||(this.slotScannerId=setInterval((function(){for(var n=0,i=t.googletag.getAllSlots();n<i.length;n++){var r=i[n];t.registerSlot(r.getAdUnitPath(),r.getSlotElementId())}}),5e3))},t.prototype.initAdSlotWrappers=function(){for(var t=0,n=this.options.adSlots;t<n.length;t++){var i=n[t];try{this.initAdSlotWrapper(i)}catch(t){0}}},t.prototype.initAdSlotWrapper=function(t){var n,i=null===(n=t.config)||void 0===n?void 0:n.defineSlot,r=this.googletag.getSlot(t.slotId);if(i&&r&&Wf(this.tracker,nv.SLOT_DEFINED_ALREADY,""),i&&!r){var o=(r=this.googletag.create(t.slotId,t.sizes,t.auctionConfigId))?nv.SLOT_DEFINED_SUCCESSFULLY:nv.SLOT_DEFINED_ERROR;Wf(this.tracker,o,"")}if(r){var e=new bl(t,{googletag:this.googletag,monitorReporter:this.monitorReporter,enterObserver:this.looseObserver,tracker:this.tracker,auctionRegistry:this.auctionRegistry});return this.adSlotMap.set(t.slotId,e),this.reportEvent(ur,e,void 0,{consent:this.params.uc}),e}},t.prototype.startAuction=function(t,n){if(t.length){for(var i=0,r=t;i<r.length;i++){var o=r[i];this.getSlot(o).deleteBid()}this.eventBus.publish(Ei.AUCTION_START,{adSlotIds:t,forcedLazy:n})}},t.prototype.getAdSlotConfig=function(t){return this.options.adSlots.find((function(n){return n.auctionConfigId===t}))},t}(),rv=function(t){return void 0===t&&(t=window),new Promise((function(n){var i;(null===(i=t.googletag)||void 0===i?void 0:i.apiReady)?n(t.googletag):(t.googletag=t.googletag||{},t.googletag.cmd=t.googletag.cmd||[],t.googletag.cmd.push((function(){return n(t.googletag)})))}))},ov=function(){return ov=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},ov.apply(this,arguments)},ev=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},uv=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},av=function(t,n,i){if(i||2===arguments.length)for(var r,o=0,e=n.length;o<e;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))},cv=function(){function t(t,n){var i=n.tracker,r=n.monitorReporter,o=n.params,e=n.errorReporter,u=n.auctionRegistry;this.eventBus=Ff.getEventBus(),this.started=!1,this.prebidAdRenderFailRetries={},this.prebidAdRenderRequestEvents={},this.tracker=i,this.params=o,this.options=t,this.monitorReporter=r,this.errorReporter=e,this.auctionRegistry=u,this.id=this.options.id,this.type=this.options.type,this.prebid=window[this.options.config.prebidAlias],this.amazon=window[this.options.config.amazonAlias];var a=this.reportEvent.bind(this);this.googletag=new hl(this.options.adSlots,{tracker:i,monitorReporter:r,errorReporter:e,config:t.config}),this.slotManager=new iv(t,{tracker:i,monitorReporter:r,errorReporter:e,params:o,googletag:this.googletag,reportEvent:a,auctionRegistry:u})}return t.loadModule=function(n,i){return ev(this,void 0,void 0,(function(){var r;return uv(this,(function(o){switch(o.label){case 0:return[4,bd(rv,{name:"googletag",timeout:mn(2)},[])];case 1:if(o.sent(),!(r=new t(n,i)))throw new Error("gam display module is not accessible");return[2,r]}}))}))},t.areDependenciesLoaded=function(){var t;return!!(null===(t=window.googletag)||void 0===t?void 0:t.apiReady)},t.getEligibleEarlyAuctionSlots=function(t){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i].slotId;document.getElementById(o)&&n.push(o)}return n},t.prototype.registerSlot=function(t,n){return this.slotManager.registerSlot(t,n)},t.prototype.start=function(){this.listenToViewableImpression(),this.customTemplateImpressionTracker(),this.listenToSlotResponseReceived(),this.listenToSlotRequested(),this.subscribeToBusEvents(),this.params.org===vi&&this.prebidAdRenderFailedTracker(),this.slotManager.start(),this.started=!0},t.prototype.refresh=function(){this.started&&this.slotManager.refresh()},t.prototype.subscribeToBusEvents=function(){var t=this;this.eventBus.subscribe(Ei.AUCTION_START,(function(n){n.adSlotIds.forEach((function(n){return t.clearPreviousSlotTargeting(n,t.googletag.getSlot(n))})),t.eventBus.publish(Ei.RUN_ONCE,n)}))},t.prototype.onAuctionEnd=function(t,n){var i=!!(null==n?void 0:n.length);this.setCustomTargeting(t,i),i?this.setTargeting(n,t):this.setFloorPrice(t),this.slotManager.onAuctionEnd(t,n)},t.prototype.stop=function(){0},t.prototype.dispose=function(){this.slotManager.dispose()},t.prototype.prebidAdRenderFailedTracker=function(){this.prebid&&(this.prebid.onEvent(dr.adRenderFailed,this.handleAdRenderFailed.bind(this)),window.addEventListener("message",this.handleMessage.bind(this)))},t.prototype.handleMessage=function(t){var n;try{n=JSON.parse(t.data)}catch(t){return}(null==n?void 0:n.adId)&&(null==n?void 0:n.message)&&"Prebid Request"===n.message&&(this.prebidAdRenderRequestEvents[n.adId]=t.data)},t.prototype.handleAdRenderFailed=function(t){var n=this,i=t.reason,r=t.adId;if("cannotFindAd"===i||"exception"===i){var o=this.slotManager.getSlots().find((function(t){var n;if(!(null===(n=null==t?void 0:t.bids)||void 0===n?void 0:n.length))return!1;for(var i=0,o=t.bids;i<o.length;i++){if(o[i].bidId===r)return!0}}));o&&!this.prebidAdRenderFailRetries[r]?(this.prebidAdRenderFailRetries[r]=!0,setTimeout((function(){n.prebidAdRenderRequestEvents[r]&&(window.postMessage(n.prebidAdRenderRequestEvents[r]),n.reportEvent(Ri.PREBID_RENDER_RETRY,o))}),400)):this.prebidAdRenderFailRetries[r]=!1}},t.prototype.customTemplateImpressionTracker=function(){this.googletag.on("slotRenderEnded",this.handleCustomTemplateImpressionTracker.bind(this))},t.prototype.handleCustomTemplateImpressionTracker=function(t){var n=this,i=t.slot,r=t.creativeId,o=t.campaignId,e=t.advertiserId,u=t.lineItemId,a=t.sourceAgnosticLineItemId,c=t.isEmpty,s=t.isBackfill,f=i.getSlotElementId(),d=document.getElementById(f),l=0;d&&(l=Ld(d).total);var v=this.slotManager.getSlot(f),h=i.getHtml(),m=null;if(v&&v.listenToSlotRenderEnded){v.listenToSlotRenderEnded=!1;var b=this.auctionRegistry.getCount(v.id),w=!c||s,p=Qf.getMeasureResult([po.GAM_AUCTION,b,v.id],"auction-duration"),y=this.slotManager.getSlotBids(f),g={sourceAgnosticLineItemId:a,creativeId:r,campaignId:o,advertiserId:e,lineItemId:u,viewability:l,duration:p,errorCode:w?zi.AD_RENDERED:zi.NO_AD_RENDERED,loop:b,isEmpty:c,isBackfill:s};(null==y?void 0:y.length)&&y.forEach((function(t){var r=n.getTargetingId(t,i);n.isBidWon(r,t,h)?(m=Ef(t),v.rendered=!0,n.sendImpressionData(f,t),function(t,n){if(yd()===xo.SUCCEED&&t.type===Si.PREBID){var i={biddingPlatformId:1,bidderCode:t.bidderCode,prebidAuctionId:t.auctionId,cpm:t.rate,currency:t.currency,originalCpm:t.originalCpm,originalCurrency:t.originalCurrency,status:"rendered",placementId:n};window[pd()].reportExternalWin(i)}}(t,v.id),n.reportEvent(Ri.IMPRESSION,v,t,ov(ov({},g),{consent:n.params.uc})),n.slotManager.processWinningBid(f,t.bidId)):t&&(Yf(v.adSlotPath,t.type,t,n.errorReporter)&&n.reportEvent(Ri.LOSING_BID_READDED_TO_CACHE,v,t,g),n.reportEvent(Ri.UNFILLED_IMPRESSION,v,t,g))})),null===m&&(this.isAdxLineItem(u,a)?this.reportEvent(Ri.ADX_IMPRESSION,v,void 0,g):c||this.reportEvent(Ri.OTHER_IMPRESSION,v,void 0,g),w&&this.sendGamImpressionData(t)),this.reportEvent(Di.SLOT_RENDER_ENDED,v,void 0,g),!w&&v.shouldWaitForViewableImpression&&v.startLazyObserver()}},t.prototype.isAdxLineItem=function(t,n){var i,r=(null===(i=this.options.config)||void 0===i?void 0:i.adxLineIds)||[];return!!r.length&&r.some((function(i){return i===t||i===n}))},t.prototype.listenToViewableImpression=function(){this.googletag.on("impressionViewable",this.handleGAMViewableImpression.bind(this))},t.prototype.listenToSlotResponseReceived=function(){this.googletag.on("slotResponseReceived",this.handleGAMSlotResponseReceived.bind(this))},t.prototype.handleGAMSlotResponseReceived=function(t){var n=t.slot,i=this.slotManager.getSlot(n.getSlotElementId());if(i){var r=this.auctionRegistry.getCount(i.id),o={loop:r,duration:Qf.getMeasureResult([po.GAM_AUCTION,r,i.id],"slot-response")};if(1===r){var e=this.auctionRegistry.getSlot(i.id);o.durationSinceStart=Qf.measureFromPageLoad("auction-from-start"),o.hadEarlyAuction=!!(null==e?void 0:e.hadEarlyAuction)}this.reportEvent(Di.SLOT_RESPONSE_RECEIVED,i,void 0,o)}},t.prototype.listenToSlotRequested=function(){this.googletag.on("slotRequested",this.handleGAMSlotRequested.bind(this))},t.prototype.handleGAMSlotRequested=function(t){var n=t.slot,i=this.slotManager.getSlot(n.getSlotElementId());if(i){var r=this.auctionRegistry.getCount(i.id),o=Qf.getMeasureResult([po.GAM_AUCTION,r,i.id],"slot-request");this.reportEvent(Di.SLOT_REQUESTED,i,void 0,{loop:r,duration:o})}},t.prototype.handleGAMViewableImpression=function(t){var n=t.slot,i=n.getSlotElementId(),r=this.slotManager.getSlot(i),o=n.getHtml();if(r){var e=this.slotManager.getSlotWinningBid(i),u=!!e&&this.isBidWon(this.getTargetingId(e,n),e,o),a=u?{}:{loop:this.auctionRegistry.getCount(r.id)};r.viewed=u;var c=u?e:void 0;this.reportEvent(Ri.VIEWABLE_IMPRESSION,r,c,a),this.eventBus.publish(Ei.VIEWABLE_IMPRESSION,{adSlotId:i})}},t.prototype.isBidWon=function(t,n,i){if(!(n&&n.bidId===t&&i&&i.includes(n.bidId)))return!1;var r=null==n?void 0:n.type,o=i.includes(go),e=i.includes(yo),u=e||o;if(u&&(!o||!e)){var a=new Error("one of the unique identifiers of amazon creative response not exist : ".concat(o?yo:go));this.monitorReporter.error(Ur.MODULE.GAM,"identify who won on GAM error",i,a)}switch(r){case Si.AMAZON:return u;case Si.PREBID:return!u;default:return!1}},t.prototype.sendImpressionData=function(t,n){var i,r={bidId:n.bidId,rate:n.rate,demand:n.demand,slot:t,format:n.mediaType,type:n.type,size:n.size};if(r.demand&&n.type===Si.PREBID){var o=n.additional;r.demand.includes(_r)&&o.marginOverride&&(r.rate=r.rate*(1-o.marginOverride)),r.demand=(i=r.demand).includes(_r)?i.replace("".concat(_r,"-"),""):i.replace("".concat(Gi.PREBID,"-"),"")}this.eventBus.publish(Ei.AD_IMPRESSION,r)},t.prototype.sendGamImpressionData=function(t){var n;this.eventBus.publish(Ei.AD_IMPRESSION,{type:"google",size:(n=t.size,Od(n)?"0x0":Bc(n)&&2===n.length&&n.every(Mf)?n.join("x"):md(n)?n:"0x0"),data:t})},t.prototype.clearPreviousSlotTargeting=function(t,n){var i=this.getTargetingKeys(t,n);i.length&&this.googletag.clearTargeting(t,i)},t.prototype.getTargetingKeys=function(t,n){var i,r=[];if(this.amazon){var o=this.amazon.targetingKeys()||[];r=av(av([],r,!0),o,!0)}if(this.prebid){var e=this.getPrebidKeys(t,n);r=av(av([],r,!0),e,!0)}var u=n.getTargetingKeys().find((function(t){return t===rr}));u&&r.push(u);var a=null===(i=this.options.config.earmarkData)||void 0===i?void 0:i.keyName,c=n.getTargetingKeys().find((function(t){return t===a}));return c&&r.push(c),r},t.prototype.getPrebidKeys=function(t,n){var i=this.options.config.prebidAlias,r=i!==ho?"".concat(i,"_"):"hb_",o=[];return o=n?n.getTargetingKeys().filter((function(t){return t.startsWith(r)})):av(av([],o,!0),Object.keys(this.prebid.getAdserverTargetingForAdUnitCode(t)),!0)},t.prototype.getTargetingId=function(t,n){var i;switch(null==t?void 0:t.type){case Si.AMAZON:i=n.getTargeting(tr)[0];break;case Si.PREBID:var r=this.options.config.prebidAlias,o=r!==ho?"".concat(r,"_adid"):nr;i=n.getTargeting(o)[0]}return i},t.prototype.setTargeting=function(t,n){var i=this;this.setSlotCustomTargeting(n),t.forEach((function(t){switch(t.type){case Si.PREBID:i.setPrebidTargeting(n,t);break;case Si.AMAZON:i.setApsTargeting(n,t)}}))},t.prototype.setSlotCustomTargeting=function(t){var n=this.slotManager.getSlot(t);n&&this.googletag.setSlotTargetingMap(t,n.customTargeting)},t.prototype.setApsTargeting=function(t,n){try{for(var i=0,r=Object.entries(n.additional.targeting);i<r.length;i++){var o=r[i],e=o[0],u=o[1];this.googletag.setTargeting(t,e,[String(u)])}}catch(i){var a=this.slotManager.getSlot(t);if(!a)return;this.reportEvent("gamstf",a,n)}},t.prototype.setPrebidTargeting=function(t,n){var i,r,o,e;try{for(var u=(e=this.options.config.prebidAlias,{bidder:e!==ho?"".concat(e,"_bidder"):ir}).bidder,a=null===(r=null===(i=null==n?void 0:n.additional)||void 0===i?void 0:i.targeting)||void 0===r?void 0:r[u],c={},s=0,f=Object.keys(n.additional.targeting);s<f.length;s++){var d=f[s],l="_".concat(a);if(!c[d])if(c[d]=n.additional.targeting[d],!d.includes(l))c["".concat(d,"_").concat(a)]=n.additional.targeting[d]}(null===(o=n.additional)||void 0===o?void 0:o.customKeys)&&(c=Object.assign({},c,n.additional.customKeys));for(var v=0,h=Object.entries(c);v<h.length;v++){var m=h[v],b=(d=m[0],m[1]);this.googletag.setTargeting(t,d,[String(b)])}}catch(i){var w=this.slotManager.getSlot(t);if(!w)return;this.reportEvent("gamstf",w,n)}},t.prototype.setCustomTargeting=function(t,n){var i=this.options.config.earmarkData;if((null==i?void 0:i.keyName)&&(null==i?void 0:i.value)&&n&&this.googletag.setTargeting(t,i.keyName,[i.value]),this.params.org===vi){var r=this.slotManager.getSlot(t).refreshCounter>=1?"1":"0";this.googletag.setTargeting(t,"hb_rfBid",[r])}this.googletag.setTargeting(t,"rspbjs",[String(!0)])},t.prototype.setFloorPrice=function(t){var n=this.getLoopFloorPriceModelData(t).modelVal;this.googletag.setTargeting(t,rr,[n.toFixed(2)])},t.prototype.getLoopFloorPriceModelData=function(t){var n,i=null!==(n=this.options.config.globalFloorPrice)&&void 0!==n?n:0,r=this.auctionRegistry.getCount(t),o=this.slotManager.getSlot(t),e={playerId:null==o?void 0:o.reportId};return ea(this.options.config.fpoData,r,e,0,i)},t.prototype.reportEvent=function(t,n,i,r){var o,e,u,a,c,s,f,d,l,v,h,m;n.rendered&&n.viewed&&n.deleteBid();var b={action:t,category:"adUnit",component:Ci.INTEGRATION_MODULE,org:this.options.org,pli:n.id,asi:this.params.asi,asv:"0.552.0",param3:null==r?void 0:r.sourceAgnosticLineItemId,param4:null==r?void 0:r.lineItemId,param5:null==r?void 0:r.advertiserId,param7:null==r?void 0:r.campaignId,errorcode:null==r?void 0:r.errorCode,creative_id:null==r?void 0:r.creativeId,playerid:null===(o=this.options.adSlots.find((function(t){return t.slotId===n.id})))||void 0===o?void 0:o.reportId,wrapperid:null===(e=this.options.adSlots.find((function(t){return t.slotId===n.id})))||void 0===e?void 0:e.wrapperid,il:Wu.getVisibility(),loop:null==r?void 0:r.loop,vwb:null==r?void 0:r.viewability,uc:null==r?void 0:r.consent,isBackfill:null==r?void 0:r.isBackfill,isEmpty:null==r?void 0:r.isEmpty};if(i){var w=Zu(i.type,i);b.position=i.position,b.subid=w,b.bas=i.demand,b.cost=i.cost,b.loop=i.count,b.adsourcerate=i.rate,b.cbi=i.bidId,b.ilp=i.ilp,b.adsourceid=i.id,b.bai=i.type===Si.PREBID?null===(a=null===(u=null==i?void 0:i.additional)||void 0===u?void 0:u.qs)||void 0===a?void 0:a.adapterID:null,b.dheight=i.adUnit?null===(c=document.getElementById(i.adUnit))||void 0===c?void 0:c.offsetHeight:void 0,b.dwidth=i.adUnit?null===(s=document.getElementById(i.adUnit))||void 0===s?void 0:s.offsetWidth:void 0,b.fp=i.fp,b.h2h=i.adjustedFloorPrice,b.blf=i.blFlowId,b.loadtime=i.ttl,b.add=null===(d=null===(f=null==i?void 0:i.meta)||void 0===f?void 0:f.advertiserDomains)||void 0===d?void 0:d.join(),b.recordid=i.auctionId,b.ami=i.type===Si.AMAZON?null===(l=this.options.adSlots.find((function(t){return t.slotId===n.id})))||void 0===l?void 0:l.amazonId:void 0,b.rank=null===(v=null==i?void 0:i.additional)||void 0===v?void 0:v.rank,b.bl0_report=null===(h=null==i?void 0:i.additional)||void 0===h?void 0:h.bl0_report,b.placementtype=i.mediaType,i.requestId&&(b.param9=i.requestId)}!b.creative_id&&(null==i?void 0:i.creativeId)&&(b.creative_id=i.creativeId),"number"==typeof(null==r?void 0:r.duration)&&(b.du=r.duration),"number"==typeof(null==r?void 0:r.durationSinceStart)&&(b.param8=r.durationSinceStart),"boolean"==typeof(null==r?void 0:r.hadEarlyAuction)&&(b.param6=null==r?void 0:r.hadEarlyAuction);var p=null===(m=this.googletag.getTargeting(n.id,rr))||void 0===m?void 0:m[0];if(p){var y=this.getLoopFloorPriceModelData(n.id);b.edi=p,b.df=y.reportString}this.tracker.track(b)},t.canRunEarlyAuction=!0,t}();function sv(t){return t===Ai.GAM?cv:null}var fv,dv=(fv=function(t,n){return fv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},fv(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}fv(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}),lv=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},vv=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},hv=function(t){function n(n,i){var r=i.tracker,o=i.errorReporter,e=i.monitorReporter,u=t.call(this)||this;return u.N={},u.It={},u.eventBus=Ff.getEventBus(),u.versionValidationInterval=null,u.versionValidationAbortController=new AbortController,u.started=!1,u.St=n,u.tracker=r,u.errorReporter=o,u.monitorReporter=e,u}return dv(n,t),n.prototype.init=function(){return lv(this,void 0,void 0,(function(){var t,n,i;return vv(this,(function(r){switch(r.label){case 0:return Qf.startMeasurement([po.AM_INIT]),[4,Xu(this.At())];case 1:if(t=r.sent(),n=t[1])throw this.errorReporter(n,Vi.INIT,Ci.AUCTION_MANAGER),this.monitorReporter.error(Ur.MODULE.GENERAL,"auction manager init error",{},n),new Error("auction manager init error");if(this.startVersionValidation(),o=hd(),!ld()||o===xo.SUCCEED||o===xo.FAILED)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,bd(wd,{name:'waitForStateChange - intentIq.status = "succeed"',timeout:400},[function(t){return t.intentIqState.status},function(t){return t===xo.SUCCEED||t===xo.FAILED}])];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),this.monitorReporter.warn(Ur.MODULE.GENERAL,i.message,{},i),[3,5];case 5:return this.Et(),this.started=!0,[2]}var o}))}))},n.prototype.At=function(){return lv(this,void 0,void 0,(function(){var t,n,i;return vv(this,(function(r){switch(r.label){case 0:return this.auctionRegistry=function(t){for(var n,i,r=Object.values(t.auctions),o={},e=0,u=r;e<u.length;e++)for(var a=u[e],c=0,s=a.adUnits;c<s.length;c++){var f=s[c],d=f.id;switch(o[d]||(o[d]={count:0,auctions:[],configId:f.configId,id:f.id,integrationId:f.integrationId,reportId:f.reportId,types:Object.keys(f.mediaTypes),auctionId:null,lastAuctionTime:null,activeGraceTime:null,receivedBidResponse:!1,hasAuctionEnded:!1,isEarlyAuction:!1,allowEarlyAuctionToEnd:!1}),a.type){case Si.AMAZON:o[d].amazonId=null===(n=f.config)||void 0===n?void 0:n.amazonId;break;case Si.PREBID:o[d].prebidId=null===(i=f.config)||void 0===i?void 0:i.prebidId}var l=o[d].auctions;l.includes(a.type)||l.push(a.type)}return{slots:o,clear:function(){this.slots={}},getSlot:function(t){return this.slots[t]},getSlotByAuctionConfig:function(t){var n=Object.keys(this.slots).find((function(n){return o[n].configId===t}));return this.slots[n]},createSlotFromAuctionConfig:function(t,n){var i=this.getSlotByAuctionConfig(t);if(i&&n!==i.id){var r=Ef(i);return r.id=n,r.isInAuctionCycle=!1,r.receivedBidResponse=!1,r.hasAuctionEnded=!1,r.isEarlyAuction=!1,r.allowEarlyAuctionToEnd=!1,r.count=0,r.currentCycle=1,this.slots[n]=r,r}},getSlotIds:function(){return Object.keys(this.slots)},getSlotsByAdIntegrationId:function(t){for(var n=[],i=0,r=Object.keys(this.slots);i<r.length;i++){var o=r[i];this.slots[o].integrationId===t&&n.push(o)}return n},addCount:function(t){this.getSlot(t).count+=1},getCount:function(t){return this.getSlot(t).count},hasAuction:function(t,n){return this.getSlot(t).auctions.some((function(t){return t===n}))},hasAuctions:function(t){var n=this.slots;return Object.keys(n).some((function(i){return n[i].integrationId===t&&n[i].auctions.length}))},setAuctionId:function(t,n,i){this.getSlot(t).auctionId={id:n,isReported:i}},getAuctionId:function(t){return this.getSlot(t).auctionId},setAuctionStartState:function(t){var n=this.getSlot(t);n&&(n.lastAuctionTime=(new Date).getTime(),n.hasAuctionEnded=!1,n.receivedBidResponse=!1)},setEarlyAuctionStartState:function(t){var n=this.getSlot(t);n&&(n.allowEarlyAuctionToEnd=!1,n.isEarlyAuction=!0,n.hadEarlyAuction||(n.hadEarlyAuction=!0))},clearEarlyAuctionState:function(t){var n=this.getSlot(t);n&&(delete n.allowEarlyAuctionToEnd,delete n.isEarlyAuction)}}}(this.St),[4,Xu(this.loadAuctionModules())];case 1:if(n=r.sent(),t=n[1])throw t;return this.Tt(),this.initAuctionResultHandler(),[4,Xu(this.loadAdIntegrationModules())];case 2:if(i=r.sent(),t=i[1])throw t;return this.Pt(),this.Ct(),this.Rt(),this.subscribeToBusEvents(),[2]}}))}))},n.prototype.subscribeToBusEvents=function(){var t=this;this.eventBus.subscribe(Ei.AD_IMPRESSION,(function(n){t.emit(Pi.AD_IMPRESSION,n)})),this.eventBus.subscribe(Ei.VIEWABLE_IMPRESSION,(function(n){t.emit(Pi.VIEWABLE_IMPRESSION,n)})),this.eventBus.subscribe(Ei.BEFORE_SLOT_REFRESH,(function(n){t.emit(Pi.BEFORE_SLOT_REFRESH,n)})),this.eventBus.subscribe(Ei.REGISTER_AUCTION,(function(n){t.Mt(n)})),this.eventBus.subscribe(Ei.RUN_ONCE,(function(n){t.Dt(n)})),this.eventBus.subscribe(Bi.AUCTION_END,(function(n){var i=n.adIntegrationId,r=n.adSlotId,o=n.bids;t.onAuctionEnd(i,r,o)}))},n.prototype.loadAuctionModules=function(){return lv(this,void 0,void 0,(function(){var t,n,i,r,o,e;return vv(this,(function(u){switch(u.label){case 0:for(t=new Rf(!1),a=this.St,n=Object.values(a.auctions),i=0,r=n;i<r.length;i++)o=r[i],e=this.getModule($i.AUCTION,o.type),t.enqueue([o,e,$i.AUCTION,o.type],this.zt.bind(this));return[4,t.dequeue()];case 1:return u.sent(),[2]}var a}))}))},n.prototype.loadAdIntegrationModules=function(){return lv(this,void 0,void 0,(function(){var t,n,i,r,o,e;return vv(this,(function(u){switch(u.label){case 0:for(t=new Rf(!1),a=this.St,n=Object.values(a.integrations),i=0,r=n;i<r.length;i++)o=r[i],(e=this.getModule($i.AD_INTEGRATION,o.type)).canRunEarlyAuction&&this.handleEarlyAuction(e,o.adSlots),t.enqueue([o,e,$i.AD_INTEGRATION,o.type],this.zt.bind(this));return[4,t.dequeue()];case 1:return u.sent(),[2]}var a}))}))},n.prototype.handleEarlyAuction=function(t,n){if(!t.areDependenciesLoaded()){var i=t.getEligibleEarlyAuctionSlots(n);i.length&&this.Nt.runOnce(i,{forcedLazy:!1,earlyAuction:!0})}},n.prototype.zt=function(t,n,i,r){return lv(this,void 0,void 0,(function(){var o,e,u,a,c;return vv(this,(function(s){switch(s.label){case 0:return n?(o={},Ii[r]&&(o.tracker=this.tracker,o.errorReporter=this.errorReporter,o.monitorReporter=this.monitorReporter,o.params=Ef(this.St.params),o.consent=Ef(this.St.consent),o.auctionRegistry=this.auctionRegistry),[4,Xu(n.loadModule(t,o))]):[2];case 1:return e=s.sent(),u=e[0],(a=e[1])?(c=i===$i.AUCTION?Ci.AUCTION_MODULE:Ci.INTEGRATION_MODULE,this.errorReporter(a,Vi.MODULE_INIT,c,{integration:r}),[2]):function(t,n){var i=Yi[t];return!!i&&i.every((function(t){return n[t]}))}(r,u)?(this.monitorReporter.warn(Ur.MODULE.GENERAL,"Incompatible module",{integration:r}),[2]):u?(this.Ft(u,i,r),[2]):[2]}}))}))},n.prototype.getModule=function(t,n){var i=function(t){switch(t){case $i.AUCTION:return dl;case $i.AD_INTEGRATION:return sv;default:throw new Error("unsupported module")}}(t);if(i)return i(n)},n.prototype.Ft=function(t,n,i){n!==$i.AUCTION?function(t,n){return n===$i.AD_INTEGRATION}(0,n)&&(this.It[t.id]=t):this.N[i]=t},n.prototype.Pt=function(){var t=Object.keys(this.It);if(!t.length){this.tracker.track({action:Ri.AUCTION_SDK_END,component:Ci.AUCTION_MANAGER,category:Fi,il:Wu.getVisibility()});var n=new Error(qr);throw this.monitorReporter.error(Ur.MODULE.GENERAL,"No initialized ad integration modules",{},n),n}for(var i=!1,r=0,o=t;r<o.length;r++){var e=o[r];this.Nt.hasAuctions(e)&&(i=!0)}if(!i){n=new Error(Br);throw this.monitorReporter.error(Ur.MODULE.GENERAL,"No ad integration with at least 1 auction module",{},n),n}},n.prototype.Tt=function(){var t={tracker:this.tracker,errorReporter:this.errorReporter,auctionRegistry:this.auctionRegistry,monitorReporter:this.monitorReporter};this.Nt=new ud(this.St,this.N,t)},n.prototype.initAuctionResultHandler=function(){var t={tracker:this.tracker,auctionRegistry:this.auctionRegistry};this.auctionResultHandler=new cd(this.St,t)},n.prototype.Et=function(){for(var t=0,n=Object.keys(this.It);t<n.length;t++){var i=n[t];this.It[i].start()}},n.prototype.Rt=function(){this.tracker.track({action:Ri.INIT,component:Ci.AUCTION_MANAGER,category:Fi,il:Wu.getVisibility(),du:Qf.getMeasureResult([po.AM_INIT])}),this.monitorReporter.info(Ur.MODULE.GENERAL,"auction manager initialized",{action:Ri.INIT,component:Ci.AUCTION_MANAGER,category:Fi})},n.prototype.Dt=function(t){var n=this,i=t.adSlotIds,r=t.forcedLazy;if(null==i?void 0:i.length){var o=i.filter((function(t){return n.Nt.isAuctionSupported(t)})),e=i.filter((function(t){return!n.Nt.isAuctionSupported(t)}));if(e.length)for(var u=0,a=e;u<a.length;u++){var c=a[u];0}if(o.length){for(var s=[],f=0,d=o;f<d.length;f++){c=d[f];var l=this.auctionRegistry.getSlot(c);!l.isEarlyAuction||l.hasAuctionEnded?l.isEarlyAuction&&l.hasAuctionEnded?this.resolveEarlyAuction(l):s.push(c):l.allowEarlyAuctionToEnd=!0}s.length&&this.Nt.runOnce(s,{forcedLazy:r})}}},n.prototype.resolveEarlyAuction=function(t){var n=this.auctionResultHandler.getWinningBids(t.id);this.onAuctionEnd(t.integrationId,t.id,n)},n.prototype.onAuctionEnd=function(t,n,i){var r=this.auctionRegistry.getSlot(n);r.isEarlyAuction&&this.auctionRegistry.clearEarlyAuctionState(r.id),this.It[t].onAuctionEnd(n,i)},n.prototype.Mt=function(t){var n=t.auctionConfigId,i=t.adSlotIds;this.Nt.isAuctionConfigAvailable(n)&&this.Nt.registerAuction(n,i)},n.prototype.Ut=function(){var t=this;Object.values(qi).forEach((function(n){t.eventBus.clearEvent(n)}))},n.prototype.qt=function(t){var n=this;Object.values(Ei).forEach((function(t){n.eventBus.clearEvent(t)}))},n.prototype.Bt=function(t){var n=this;Object.values(Ti).forEach((function(t){n.eventBus.clearEvent(t)}))},n.prototype.startVersionValidation=function(){var t=this;this.versionValidationInterval=setInterval((function(){return function(t){return Hu(this,void 0,void 0,(function(){var n;return Ku(this,(function(i){switch(i.label){case 0:if(t.abortSignal.aborted)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch("".concat(Po,"&cb=").concat(Date.now()),{signal:t.abortSignal})];case 2:return 200===(n=i.sent()).status?null==t||t.onValid():n.status===Ro?null==t||t.onInvalid():null==t||t.onFailed(),[3,4];case 3:return"AbortError"!==i.sent().name&&(null==t||t.onFailed()),[3,4];case 4:return[2]}}))}))}({abortSignal:t.versionValidationAbortController.signal,onInvalid:function(){t.versionValidationAbortController.abort(),clearInterval(t.versionValidationInterval),t.versionValidationInterval=null,t.tracker.track({action:Eo.INVALID,category:Fi,component:Ci.AUCTION_MANAGER,il:Wu.getVisibility()}),t.dispose()},onFailed:function(){t.tracker.track({action:Eo.REQUEST_FAILED,category:Fi,component:Ci.AUCTION_MANAGER,il:Wu.getVisibility()})}})}),Co)},n.prototype.refresh=function(){var t=this;Object.values(this.It).forEach((function(n){t.started&&n.refresh()}))},n.prototype.registerAdSlot=function(t,n,i){var r;Object.values(this.It).forEach((function(o){o.type!==t||r||(r=o.registerSlot(n,i))})),r||this.monitorReporter.warn(Ur.MODULE.GENERAL,"Failed To Register Ad Slot",{configId:n,elementId:i})},n.prototype.doesPassConsentCheck=function(){var t,n;return(null===(n=null===(t=this.St)||void 0===t?void 0:t.cp)||void 0===n?void 0:n.state)>bo.NO_CONSENT},n.prototype.Ct=function(){if(this.doesPassConsentCheck())try{if(this.Lt())return void this.tracker.track({action:Ri.PPID_OPT_OUT,category:Fi,component:Ci.AUCTION_MANAGER,il:Wu.getVisibility()});this.$t()}catch(t){this.errorReporter(t,Vi.PPID_ERROR,Ci.AUCTION_MANAGER)}},n.prototype.$t=function(){var t,n,i=window.googletag,r=null===(n=null===(t=this.N)||void 0===t?void 0:t.prebid)||void 0===n?void 0:n.prebidJS,o=window.PublisherCommonId,e=window.localStorage,u=this.getPrebidId(r),a=this.getIQMain(e),c=a;c||(o&&"function"==typeof o.getId?c=o.getId():u&&(c=u)),i.pubads&&c&&(this.tracker.track({action:Ri.PPID,category:Fi,component:Ci.AUCTION_MANAGER,param6:a,param7:u,param8:c,il:Wu.getVisibility()}),i.pubads().setPublisherProvidedId(c))},n.prototype.getPrebidId=function(t){if(t&&t.getUserIds)return t.getUserIds().pubcid},n.prototype.getIQMain=function(t){var n=t.getItem("_iiq_fdata");if(n)try{var i=JSON.parse(n);if(null==i?void 0:i.pcid)return i.pcid}catch(t){return""}},n.prototype.Lt=function(){return"1"===window.localStorage.getItem("_pubcid_optout")},n.prototype.dispose=function(){if(!this.Vt){this.Vt=!0,this.versionValidationAbortController.abort(),clearInterval(this.versionValidationInterval),this.versionValidationInterval=null,this.Ut(),this.Nt.dispose(),this.auctionResultHandler.dispose();for(var t=0,n=Object.values(this.N);t<n.length;t++){(a=n[t]).dispose()}for(var i=0,r=Object.values(this.It);i<r.length;i++){var o=r[i];this.disposeAdIntegrationModule(o.id)}for(var e=0,u=Object.values(this.N);e<u.length;e++){var a=u[e];this.Bt(a)}this.It={},this.N={},this.emit(Pi.DISPOSED),this.removeAllListeners()}},n.prototype.disposeAdIntegrationModule=function(t){var n=this.It[t];this.qt(n),delete this.It[t],this.tracker.track({action:Ri.OPPORTUNITY_END,category:Fi,component:Ci.AUCTION_MANAGER,playerid:t,il:Wu.getVisibility()}),n.dispose()},n}(va),mv=i(390),bv=[],wv={all:["dpageurl","browserversionfull","type"],mobile_app:["domain","ddomain"],ctv:["domain","ddomain"],ma:["domain","ddomain"],c:["domain","ddomain"]},pv=["action","category","domain","browser","browserversion","os","osversion","pageurl","bundleid","ddomain","appname"],yv="maxBufferSize",gv="maxBufferTime",kv="noBufferEvents",_v="endpoint",jv={adclickthru:"ct",adstopped:"ast",adpaused:"ap",adskipped:"ask",adloadtimeout:"to",advideocomplete:"avc",advideothirdquartile:"avt",advideomidpoint:"avm",advideofirstquartile:"avf",advideostart:"avs",aderror:"err",adrequest:"req",adresponse:"res",adloaded:"al",adimpression:"ai",adstarted:"as",adbreakpoint:"abp",player:"p",playerload:"pl",multiplayer:"mp",contentstart:"cs"},Ov={category:"ca",action:"a",cc:"cc",sd:"sd",ic:"ic",stat:"sta",component:"co",tier:"t",dwidth:"dw",sid:"s",osversion:"ov",bl:"bl",blscore:"bs",blflow:"blf",adsourceid:"ai",halfpipe_hostname:"hh",tc:"tc",env:"en",denv:"den",rank:"r",module_version:"mv",adtype:"at",org:"or",os:"os",loadtime:"lt",tierlength:"tl",waterfallname:"wn",label1:"l1",browserversion:"bv",version:"v",dheight:"dh",pageurl:"pageurl",browser:"b",waterfallid:"wi",dplayersize:"ds",domain:"d",player_ver:"pl",h2h:"h2h",med_app_id:"mai",pv:"pv",height:"h",adsourcerate:"ar",ddomain:"dd",subid:"si",loop:"l",playersize:"ps",width:"w",cost:"c",error:"e",errorcode:"ec",duration:"du",playerid:"pi",playername:"pn",wrapperid:"wri",wrapperversion:"wv",adapterid:"bai",externalloop:"el",techfee:"tf",adsourcetype:"as",rtbconnectionid:"rci",placementtype:"pt",nest:"ns",frombl:"fb",param0:"p0",param1:"p1",param2:"p2",param3:"p3",param4:"p4",param5:"p5",param6:"p6",param7:"p7",param8:"p8",param9:"p9",auction_sdk_id:"asi",auction_sdk_version:"asv",amazon_id:"ami",bid_id:"bid",internal_loop:"ilp",creative_id:"cri",bl0_report:"blr",isbackfill:"ibf",isempty:"ie",rategap:"rg",cloud:"o"},xv=function(){function t(t){void 0===t&&(t={}),this.options=t,this.object="Object"}return t.prototype.setBuffering=function(t){t&&(this.bufferConfig=t,this.eventsBuffer=[],setInterval(this.Gt.bind(this),this.bufferConfig[gv]),window.addEventListener("beforeunload",this.Yt.bind(this),!0))},t.prototype.info=function(t){t.type="info",this.Wt(t)&&this.Jt(t)},t.prototype.warn=function(t){t.type="warn",this.Wt(t)&&this.Jt(t)},t.prototype.error=function(t){t.type="error",this.Wt(t)&&this.Jt(t)},t.prototype.beacon=function(t){t.type="beacon",this.Wt(t)&&this.Jt(t)},t.prototype.Wt=function(t){if(!t)return console.error("cannot write empty log"),!1;if(0===Iv(t).length)return console.error("cannot write empty log"),!1;if(t.component=t.component||this.options.component,t.version=t.version||this.options.version,"info"===t.type){var n=t.sampleRate||this.options.sampleRate;if(n&&n<Math.random())return!1}return t.tags=t.partnerID,!0},t.prototype.Jt=function(t){if(t&&"object"==typeof t&&"playa"!==t.component){var n=this.Ht(t.action);if(-1===bv.indexOf(n)){if(t.action=n,t.placementtype&&(t.at=t.placementtype),t.ts){var i=Math.floor(Date.now(Date.UTC()))-1509871606,r=mv.encode(i),o=btoa(String.fromCharCode.apply(String,new Uint8Array(r)));t.tsm="="===o.charAt(o.length-1)?o.slice(0,-1):o,delete t.ts}t.asv&&(t.mt||(t.mt="elevate_c")),t=this.Kt(t),this.Xt(t)}}},t.prototype.Kt=function(t){var n=this,i={},r={},o=t.env;return Iv(t).forEach((function(e){var u=e.toString().toLowerCase(),a=t[e],c=Ov[u]||u,s="";if("string"!=typeof a)try{s=a.toString()}catch(t){}null!=a&&"null"!==a&&"undefined"!==a&&""!==a&&("string"==typeof(s=a)&&pv.indexOf(u)>-1&&(s=s.toLowerCase()),(c.indexOf(".")>-1||c.indexOf(" ")>-1)&&(c=c.replace(/./g,"_").replace(/ /g,"_")),n.Zt(u,o)&&(i[c]=encodeURIComponent(s),r[u]=s))})),i},t.prototype.Xt=function(t){var n=t.a||t.action;this.Qt(t),this.eventsBuffer.push(t),(this.bufferConfig[yv]===this.eventsBuffer.length||this.bufferConfig[kv]&&this.bufferConfig[kv].indexOf(n)>-1)&&this.Gt()},t.prototype.Qt=function(t){var n=this.tn(t).replace(/'/g,"%27"),i="".concat(n).concat(this.object).toLowerCase();t.p=this.nn(i).toString(),t.rand=Math.ceil(1e10*Math.random()).toString()},t.prototype.Gt=function(){this.eventsBuffer.length>0&&(fetch(this.bufferConfig[_v],{method:"POST",body:JSON.stringify({e:this.eventsBuffer})}),this.eventsBuffer=[])},t.prototype.rn=function(){if(window.navigator&&window.navigator.sendBeacon){if(this.eventsBuffer.length>0){var t=JSON.stringify({e:this.eventsBuffer});window.navigator.sendBeacon(this.bufferConfig[_v],t),this.eventsBuffer=[]}}else this.Gt()},t.prototype.Ht=function(t){return t?jv[t.toLowerCase()]||t:""},t.prototype.en=function(t){try{return t.getUTCFullYear()+"-"+this.un(t.getUTCMonth()+1)+"-"+this.un(t.getUTCDate())+"T"+this.un(t.getUTCHours())+":"+this.un(t.getUTCMinutes())+":"+this.un(t.getUTCSeconds())+"Z"}catch(t){}},t.prototype.un=function(t){return t<10?"0"+t:t},t.prototype.nn=function(t){for(var n=2166136261,i=0;i<t.length;++i)n^=t.charCodeAt(i),n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24);return n>>>0},t.prototype.tn=function(t){var n="?";for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n+=i+"="+t[i]+"&");return n=n.slice(0,-1)},t.prototype.Zt=function(t,n){if(t&&wv){if(wv.all&&wv.all.indexOf(t)>-1)return!1;if(n&&wv[n]&&wv[n].indexOf(t)>-1)return!1}return!0},t.prototype.Yt=function(t){t.stopPropagation(),window.removeEventListener("beforeunload",this.Yt),this.eventsBuffer&&this.eventsBuffer.length&&this.rn()},t}();function Iv(t){return Array.isArray(t)?t:Object.keys(t||{})}const Sv=xv;var Av=function(){return Av=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Av.apply(this,arguments)},Ev={endpoint:Hi,noBufferEvents:["ai","aip","aicp","aio","aihb","uai","iv","ivrf"],maxBufferTime:5e3,maxBufferSize:25};const Tv=function(){function t(t){this.streamlytics=new Sv,this.streamlytics.setBuffering(Ev),this.defaultData=this.setDefaultReportingParams(t),this.cacheLimit=t.cacheLimit}return t.prototype.beacon=function(t){this.streamlytics.beacon(Av(Av({},this.defaultData),t))},t.prototype.track=function(t){this.streamlytics.info(Av(Av({},this.defaultData),t)),kn()},t.prototype.setDefaultReportingParams=function(t){var n=w(),i=l(v(n)),r=t.params;return{browser:r.browser,browserversion:r.browserversion,cb:r.cb,os:r.os,osversion:r.osversion,ip:r.ip,pageurl:n,sid:r.sid,dt:r.dt,ns:r.ns,sd:r.sd,stat:r.stat,h:r.halfpipe_hostname,module_version:r.module_version,ts:r.ts,env:r.env,denv:r.denv||on(),asi:r.asi,asv:"0.552.0",domain:d(i),ddomain:i,org:r.org,ab:r.ab,wn:r.wn,param1:r.param1,param2:r.param2}},t}();var Pv=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},Cv=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Rv=hn(.5);function Mv(t,n){return Pv(this,void 0,void 0,(function(){var i,r,o,e;return Cv(this,(function(u){switch(u.label){case 0:return i=new Tv(t),r=function(t,n){return function(i,r,o){var e=i.stack||i.message;n.error(Ur.MODULE.GENERAL,e,{},i),t.track({action:Ri.ERROR,category:Fi,component:o,errorcode:r,il:Wu.getVisibility()})}}(i,n),[4,(o=new hv(t,{tracker:i,errorReporter:r,monitorReporter:n})).init()];case 1:return u.sent(),e=function(t){var n=Xl((function(){return t.refresh()}),Rv);return{get version(){return"0.552.0"},get events(){return Object.values(Pi)},refresh:function(){n()},registerAdSlot:function(n,i,r){t.registerAdSlot(n,i,r)},dispose:function(){t.dispose()},on:function(n,i){t.on(n,i)},off:function(n,i){t.off(n,i)},once:function(n,i){t.once(n,i)},removeListener:function(n,i){t.removeListener(n,i)},removeAllListeners:function(n){t.removeAllListeners(n)}}}(o),window.RISE_ASDK=e,[2,e]}}))}))}var Dv=function(t,n,i){if(i||2===arguments.length)for(var r,o=0,e=n.length;o<e;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))},zv=function(){function t(t){var n,i;this.reportParams=t.params,this.sampleRates={},this.moduleSampleRates={};for(var r=0,o=[Ur.MODULE.GENERAL,Ur.MODULE.PREBID,Ur.MODULE.AMAZON,Ur.MODULE.TAGS,Ur.MODULE.GAM];r<o.length;r++){var e=o[r];this.sampleRates[e]=null!==(i=null===(n=null==t?void 0:t.sampleRates)||void 0===n?void 0:n[e])&&void 0!==i?i:Ur.MIN_SAMPLE_RATE,this.moduleSampleRates[e]=Math.max(this.sampleRates[e],this.sampleRates.general)}this.initSampleRate=Math.max.apply(Math,Dv(Dv([],Object.values(this.moduleSampleRates),!1),[Ur.MIN_SAMPLE_RATE],!1)),this.randomLoadValue=Math.floor(100*Math.random())+1}return t.prototype.debug=function(t,n,i,r){this.monitorEvent(Ur.SEVERITY.DEBUG,{module:t,message:n,messageContext:i,error:r})},t.prototype.info=function(t,n,i,r){this.monitorEvent(Ur.SEVERITY.INFO,{module:t,message:n,messageContext:i,error:r})},t.prototype.warn=function(t,n,i,r){this.monitorEvent(Ur.SEVERITY.WARN,{module:t,message:n,messageContext:i,error:r})},t.prototype.error=function(t,n,i,r){this.monitorEvent(Ur.SEVERITY.ERROR,{module:t,message:n,messageContext:i,error:r})},t.prototype.monitorEvent=function(t,n){n.messageContext=n.messageContext||{},this.messageContextWrapper(n.module,n.messageContext),t===Ur.SEVERITY.ERROR&&f.error(n.message,n.messageContext,n.error)},t.prototype.messageContextWrapper=function(t,n){var i=this.getClientTimestamp(),r=i.clientDate,o=i.clientTime,e={sid:this.reportParams.sid,org:this.reportParams.org,asi:this.reportParams.asi,asv:"0.552.0",clientTimestamp:{clientDate:r,clientTime:o},module:t,ab:this.reportParams.ab};Object.assign(n,e)},t.prototype.getClientTimestamp=function(){var t=(new Date).toISOString();return{clientDate:t.split("T")[0].split("-").reverse().join("/"),clientTime:t.split("T")[1].split("Z")[0]}},t}();const Nv=zv;var Fv,Uv=0,qv={},Bv=hn(3),Lv=2;function $v(){return new Promise((function(t){setTimeout((function(){return t(!1)}),Bv);var n=function(){var t,n,i=window;for(;!t;){try{if("function"==typeof i.__tcfapi){Uv=Lv,n=i.__tcfapi,t=i;break}if(i.frames.__tcfapiLocator){Uv=Lv,t=i;break}}catch(t){}if(i===window.top)break;i=i.parent}return{cmpFrame:t,cmpFunction:n}}(),i=n.cmpFrame,r=n.cmpFunction;i&&Uv===Lv||t(!1);var o=function(n,i){var r={};!i||!1!==n.gdprApplies&&n.eventStatus!==Fv.TC_LOADED&&n.eventStatus!==Fv.USER_AUCTION_COMPLETE||(r.consentString=n.tcString,r.gdprApplies=n.gdprApplies,r.purpose=n.purpose,r.vendor=n.vendor),t(r)};"function"==typeof r?r("addEventListener",Uv,o):function(t,n,i){if(Uv!==Lv)return;var r=Math.random()+"";window.__tcfapi=function(t,i,o,e){var u={__tcfapiCall:{callId:r,command:t,parameter:e,version:i}};qv[r]=o,n.postMessage(u,"*")},window.addEventListener("message",Vv,!1),window.__tcfapi(t,Uv,i)}("addEventListener",i,o)}))}function Vv(t){var n="string"==typeof t.data&&-1!==t.data.indexOf("__tcfapiReturn")?JSON.parse(t.data):t.data;if(n.__tcfapiReturn&&n.__tcfapiReturn.callId){var i=n.__tcfapiReturn;void 0!==qv[i.callId]&&qv[i.callId](i.returnValue,i.success)}window.removeEventListener("message",Vv,!1)}!function(t){t.TC_LOADED="tcloaded",t.CMPU_IS_DOWN="cmpuishown",t.USER_AUCTION_COMPLETE="useractioncomplete"}(Fv||(Fv={}));var Gv,Yv=1,Wv=hn(3),Jv={};function Hv(){return new Promise((function(t){setTimeout((function(){return t(!1)}),Wv);var n=function(){var t,n,i=window;for(;!t;){try{if(i&&"function"==typeof i.__uspapi){n=i.__uspapi,t=i;break}if(i&&i.frames.__uspapiLocator){t=i;break}}catch(t){}if(i===window.top)break;i=i.parent}return{usPrivacyFrame:t,usPrivacyFunction:n}}(),i=n.usPrivacyFrame,r=n.usPrivacyFunction;if(i){var o=function(n,i){i&&n.uspString&&t(n.uspString),t(!1)};"function"==typeof r?r("getUSPData",Yv,o):function(t,n,i){function r(t){var n=t&&t.data&&t.data.__uspapiReturn;n&&n.callId&&void 0!==Jv[n.callId]&&(Jv[n.callId](n.returnValue,n.success),delete Jv[n.callId])}window.__uspapi=function(t,i,r){var o=Math.random()+"",e={__uspapiCall:{command:t,version:i,callId:o}};Jv[o]=r,n.postMessage(e,"*")},window.addEventListener("message",r,!1),window.__uspapi(t,Yv,i)}("getUSPData",i,o)}else t(!1)}))}var Kv=[],Xv=[di,vi,fi],Zv=[],Qv=[fi],th=[],nh=[],ih=[],rh=[di,vi,fi],oh=((Gv={})[hi]={sizeConfig:{"/21796148150/main_leaderboard_desktop_v2":{sizeConfig:[{minViewPort:[1200,600],sizes:[[728,90]]},{minViewPort:[1e3,600],sizes:[[728,90],[468,60]]},{minViewPort:[700,400],sizes:[[468,60]]},{minViewPort:[0,0],sizes:[]}]},"/21796148150/main_square_tablet":{sizeConfig:[{minViewPort:[1070,350],sizes:[[300,100],[300,50],[300,250]]},{minViewPort:[0,0],sizes:[]}]},"/21796148150/main_square_desktop":{sizeConfig:[{minViewPort:[1070,350],sizes:[[300,100],[300,50],[300,250]]},{minViewPort:[0,0],sizes:[]}]},"/21796148150/main_low_square_desktop":{sizeConfig:[{minViewPort:[1070,700],sizes:[[300,100],[300,250],[300,50]]},{minViewPort:[0,0],sizes:[]}]},"/21796148150/skyscraper_desktop":{sizeConfig:[{minViewPort:[1366,600],sizes:[[160,600]]},{minViewPort:[1070,700],sizes:[]},{minViewPort:[768,700],sizes:[[160,600]]},{minViewPort:[0,0],sizes:[]}]},"/21796148150/phone_web_banner":{sizeConfig:[{minViewPort:[748,200],sizes:[[300,50],[320,50],[300,100],[300,250],[728,90]]},{minViewPort:[340,200],sizes:[[300,50],[320,50],[300,100],[300,250]]},{minViewPort:[320,200],sizes:[[300,50],[300,100],[300,250]]},{minViewPort:[0,0],sizes:[]}]}}},Gv);function eh(t,n,i){var r,o,e,u,a,c,s,f,d,l,v,h,m,b,w,p,y,g,k,_,j,O,x=n.asi,I=n.org;if(i.includes(Yr.TEMP_MULTI_CONVERSION)&&(function(t){var n;try{for(var i=Object.keys(t.auctions),r=0,o=i;r<o.length;r++){var e=o[r],u=null===(n=t.auctions[e])||void 0===n?void 0:n.adUnits;if(null==u?void 0:u.length)for(var a=0,c=u;a<c.length;a++){var s=c[a];"display"===s.mediaType&&(s.mediaTypes={banner:{sizes:s.config.sizes}})}}}catch(t){}}(t),function(t){var n;try{for(var i=Object.keys(t.integrations),r=0,o=i;r<o.length;r++){var e=o[r],u=null===(n=t.integrations[e])||void 0===n?void 0:n.adSlots;if(null==u?void 0:u.length)for(var a=0,c=u;a<c.length;a++){var s=c[a];"display"===s.mediaType&&(s.mediaTypes=[Ki.BANNER])}}}catch(t){}}(t)),i.includes(Yr.AD_SLOTS)&&oh[I]&&oh[I][x]){for(var S=0,A=Object.values(t.integrations);S<A.length;S++){var E=A[S];if(E.type===Ai.GAM){for(var T=0,P=E.adSlots;T<P.length;T++){var C=P[T];(null===(o=null===(r=oh[I][x])||void 0===r?void 0:r.integrations)||void 0===o?void 0:o.gam.slots[C.slotId])&&Object.assign(C,null===(u=null===(e=oh[I][x])||void 0===e?void 0:e.integrations)||void 0===u?void 0:u.gam.slots[C.slotId])}E.config=Object.assign(E.config,null===(c=null===(a=oh[I][x])||void 0===a?void 0:a.integrations)||void 0===c?void 0:c.gam.config)}}if(t.auctions.amazon)for(var R=0,M=Object.values(t.auctions.amazon.adUnits);R<M.length;R++){var D=M[R];(null===(s=oh[I][x])||void 0===s?void 0:s.auctions.amazon[D.id])&&Object.assign(D,null===(f=oh[I][x])||void 0===f?void 0:f.auctions.amazon[D.id])}if(t.auctions.prebid)for(var z=0,N=Object.values(t.auctions.prebid.adUnits);z<N.length;z++){var F=N[z];(null===(d=oh[I][x])||void 0===d?void 0:d.auctions.prebid[F.id])&&Object.assign(F,null===(l=oh[I][x])||void 0===l?void 0:l.auctions.amazon[F.id])}}if(i.includes(Yr.SIZE_MAPPING)&&(null===(v=oh[I])||void 0===v?void 0:v.sizeConfig)){var U=oh[I].sizeConfig;if(null===(m=null===(h=t.auctions)||void 0===h?void 0:h.prebid)||void 0===m?void 0:m.adUnits)for(var q=0,B=Object.values(t.auctions.prebid.adUnits);q<B.length;q++){U[(F=B[q]).configId]&&(null==F?void 0:F.mediaTypes.banner)&&Object.assign(null==F?void 0:F.config,U[F.configId])}if(null===(w=null===(b=t.auctions)||void 0===b?void 0:b.amazon)||void 0===w?void 0:w.adUnits)for(var L=0,$=Object.values(t.auctions.amazon.adUnits);L<$.length;L++){D=$[L];(null===(p=null==U?void 0:U[D.configId])||void 0===p?void 0:p.sizeConfig)&&(null==D?void 0:D.mediaTypes.banner)&&(D.mediaTypes.banner.sizeConfig=U[D.configId].sizeConfig)}}if(i.includes(Yr.DISABLE_GRACE))try{for(var V=Hn()?gi.mobile:gi.desktop,G=window.location.host,Y=!1,W=0,J=V;W<J.length;W++){var H=J[W];if(G.includes(H)){Y=!0;break}}Y?t.disableGrace=!0:t.params.wn=so.toString()}catch(t){}i.includes(Yr.OVERRIDE_LAZY_SLOT)&&((uh(I,$n,Xv,Kv)||(null===(y=window.__R_QA)||void 0===y?void 0:y.OVERRIDE_LAZY_SLOT))&&Object.values(t.integrations).forEach((function(t){t.adSlots.forEach((function(t){t.mode=or.LAZY_LOAD,t.config.lazyLoad=!0}))})));i.includes(Yr.WAIT_FOR_VIEWABLE_IMPRESSION_SLOT)&&((uh(I,$n,rh,ih)||(null===(g=window.__R_QA)||void 0===g?void 0:g.WAIT_FOR_VIEWABLE_IMPRESSION_SLOT))&&Object.values(t.integrations).forEach((function(t){t.adSlots.forEach((function(n){var i=n.config;n.mode===or.LAZY_LOAD&&i.lazyLoad&&(i.waitForViewableImpression=!0,t.config.observerConfig={includeTabViewability:!0,rootMargin:"0px",threshold:.5,delayOutOfViewTime:0})}))})));if((i.includes(Yr.GENERATE_DYNAMIC_CODE)||(null===(k=window.__R_QA)||void 0===k?void 0:k.GENERATE_DYNAMIC_CODE))&&uh(I,$n,Qv,Zv)){var K=null===(j=null===(_=t.auctions)||void 0===_?void 0:_.prebid)||void 0===j?void 0:j.config;K&&(K.generateDynamicCode=!0)}i.includes(Yr.DESTROY_OUT_OF_VIEW_SLOT)&&((uh(I,$n,nh,th)||(null===(O=window.__R_QA)||void 0===O?void 0:O.DESTROY_OUT_OF_VIEW_SLOT))&&Object.values(t.integrations).forEach((function(t){t.adSlots.forEach((function(n){n.mode===or.LAZY_LOAD&&n.config.lazyLoad&&(t.config.observerConfig={includeTabViewability:!0,rootMargin:"0px",threshold:0,delayOutOfViewTime:hn(5)},n.config.destroy=!0)}))})))}function uh(t,n,i,r){return i.some((function(n){return"*"===n||n===t}))||r.some((function(t){return"*"===n||n.includes(t)}))}const ah=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const ch=function(t){return this.__data__.has(t)};function sh(t){var n=-1,i=null==t?0:t.length;for(this.__data__=new jc;++n<i;)this.add(t[n])}sh.prototype.add=sh.prototype.push=ah,sh.prototype.has=ch;const fh=sh;const dh=function(t,n,i,r){for(var o=t.length,e=i+(r?1:-1);r?e--:++e<o;)if(n(t[e],e,t))return e;return-1};const lh=function(t){return t!=t};const vh=function(t,n,i){for(var r=i-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1};const hh=function(t,n,i){return n==n?vh(t,n,i):dh(t,lh,i)};const mh=function(t,n){return!!(null==t?0:t.length)&&hh(t,n,0)>-1};const bh=function(t,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;)if(i(n,t[r]))return!0;return!1};const wh=function(t,n){return t.has(n)};const ph=function(){};const yh=function(t){var n=-1,i=Array(t.size);return t.forEach((function(t){i[++n]=t})),i};const gh=Ls&&1/yh(new Ls([,-0]))[1]==1/0?function(t){return new Ls(t)}:ph;const kh=function(t,n,i){var r=-1,o=mh,e=t.length,u=!0,a=[],c=a;if(i)u=!1,o=bh;else if(e>=200){var s=n?null:gh(t);if(s)return yh(s);u=!1,o=wh,c=new fh}else c=n?[]:a;t:for(;++r<e;){var f=t[r],d=n?n(f):f;if(f=i||0!==f?f:0,u&&d==d){for(var l=c.length;l--;)if(c[l]===d)continue t;n&&c.push(d),a.push(f)}else o(c,d,i)||(c!==a&&c.push(d),a.push(f))}return a};const _h=function(t){return t&&t.length?kh(t):[]};var jh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oh=/^\w*$/;const xh=function(t,n){if(Bc(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!$l(t))||(Oh.test(t)||!jh.test(t)||null!=n&&t in Object(n))};function Ih(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var i=function(){var r=arguments,o=n?n.apply(this,r):r[0],e=i.cache;if(e.has(o))return e.get(o);var u=t.apply(this,r);return i.cache=e.set(o,u)||e,u};return i.cache=new(Ih.Cache||jc),i}Ih.Cache=jc;const Sh=Ih;const Ah=function(t){var n=Sh(t,(function(t){return 500===i.size&&i.clear(),t})),i=n.cache;return n};var Eh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Th=/\\(\\)?/g;const Ph=Ah((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(Eh,(function(t,i,r,o){n.push(r?o.replace(Th,"$1"):i||t)})),n}));const Ch=function(t,n){for(var i=-1,r=null==t?0:t.length,o=Array(r);++i<r;)o[i]=n(t[i],i,t);return o};var Rh=Pa?Pa.prototype:void 0,Mh=Rh?Rh.toString:void 0;const Dh=function t(n){if("string"==typeof n)return n;if(Bc(n))return Ch(n,t)+"";if($l(n))return Mh?Mh.call(n):"";var i=n+"";return"0"==i&&1/n==-1/0?"-0":i};const zh=function(t){return null==t?"":Dh(t)};const Nh=function(t,n){return Bc(t)?t:xh(t,n)?[t]:Ph(zh(t))};const Fh=function(t){if("string"==typeof t||$l(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Uh=function(t,n){for(var i=0,r=(n=Nh(n,t)).length;null!=t&&i<r;)t=t[Fh(n[i++])];return i&&i==r?t:void 0};const qh=function(t,n,i){var r=null==t?void 0:Uh(t,n);return void 0===r?i:r};var Bh=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},Lh=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function $h(t){return Bh(this,void 0,void 0,(function(){var n,i,r,o=this;return Lh(this,(function(e){switch(e.label){case 0:return Id(t.targeting)?[2]:(n=t.targeting,i=Object.keys(n),r=i.map((function(t){return Bh(o,void 0,void 0,(function(){var i,r;return Lh(this,(function(o){switch(o.label){case 0:return t.toLowerCase().includes("list")?(i=n[t],Id(null==i?void 0:i.values)?[2]:(r=i,[4,Vh(i.values)])):[2];case 1:return r.values=o.sent(),[2]}}))}))})),[4,Promise.all(r)]);case 1:return e.sent(),[2]}}))}))}function Vh(t){return Bh(this,void 0,void 0,(function(){var n,i,r=this;return Lh(this,(function(o){switch(o.label){case 0:return n=t.map((function(t){return Bh(r,void 0,void 0,(function(){var n;return Lh(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fetch(t)];case 1:return[4,i.sent().text()];case 2:return[2,i.sent().split("\n")];case 3:throw n=i.sent(),new Error("Targeting error: ".concat(t,", ").concat(null==n?void 0:n.message));case 4:return[2]}}))}))})),[4,Promise.all(n)];case 1:return i=o.sent(),[2,_h(i.flat())]}}))}))}function Gh(t,n){for(var i,r,o,e,u,a,c=function(t){if(t.config&&md(t.config))try{t.config=JSON.parse(t.config)}catch(t){throw new Error("Unable to parse gam `adSlot.config` JSON")}n.prebid&&(t.wrapperid=null!==(i=t.wrapperid)&&void 0!==i?i:null===(o=null===(r=n.prebid.adUnits.find((function(n){return n.id===t.slotId})))||void 0===r?void 0:r.config)||void 0===o?void 0:o.prebidId),n.amazon&&(t.amazonId=null!==(e=t.amazonId)&&void 0!==e?e:null===(a=null===(u=n.amazon.adUnits.find((function(n){return n.id===t.slotId})))||void 0===u?void 0:u.config)||void 0===a?void 0:a.amazonId)},s=0,f=t;s<f.length;s++){c(f[s])}}function Yh(t,n){var i,r,o=null===(r=null===(i=null==t?void 0:t.ds)||void 0===i?void 0:i.cacheLimit)||void 0===r?void 0:r[n],e="number"==typeof o;return{value:e?o:Wh(n),type:e?Ao.DATA_SCIENCE_RECOMMENDATION:Ao.PROJECT_DEFAULT}}function Wh(t){switch(t){case Si.AMAZON:return Nr;case Si.PREBID:return Fr;default:return zr}}var Jh,Hh=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},Kh=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};!function(t){t.FP_FETCH_ERROR="alfperr",t.FP_FETCH_NO_RESPONSE="alfpnr",t.FP_VALIDATION_FAIL="alfpvf"}(Jh||(Jh={}));var Xh={sod:"spoData",scu:"scriptUrl",mgo:"marginOverride",fod:"fpoData",rvm:"revModel",usy:"userSync",cul:"cacheUrl",gfp:"globalFloorPrice",pso:"sorted",rvt:"revType",rvv:"revValue",rvs:"revShare"},Zh=1e3;function Qh(t,n){return Hh(this,void 0,void 0,(function(){var i;return Kh(this,(function(r){switch(r.label){case 0:return Qf.startMeasurement([po.CONFIG_REQUEST]),[4,nm(t,n)];case 1:if(i=r.sent(),function(t){var n=Qf.getMeasureResult([po.CONFIG_REQUEST]);t(Ri.PERFORMANCE_TRACKER,wo.CONFIG_REQUEST_DURATION,n)}(n),!function(t){return Od(t.message)}(i))throw n(Jh.FP_VALIDATION_FAIL),new Error("Configuration - Auction SDK init error: ".concat(i.message));return[2,im(i,t.data)]}}))}))}var tm=function(t,n){if("object"!=typeof t||null===t)return t;if(Array.isArray(t))return t.map((function(t){return tm(t,n)}));var i={};for(var r in t){i[n[r]||r]=tm(t[r],n)}return i};function nm(t,n){return Hh(this,void 0,void 0,(function(){var i,r,o,e,u,a,c,s,d,l,v,h,m,b,w,p=this;return Kh(this,(function(y){switch(y.label){case 0:i=t.endpoint,r=t.data,r.organizationId,r.sdkId,o={status:"",reason:""},y.label=1;case 1:return y.trys.push([1,4,,5]),[4,fetch(i).catch((function(){return Hh(p,void 0,void 0,(function(){return Kh(this,(function(t){switch(t.label){case 0:return[4,nd(Zh)];case 1:return t.sent(),[2,fetch(i)]}}))}))}))];case 2:if(200!==(e=y.sent()).status)throw u=e.status===Ro&&!0,a=u?Eo.INVALID:Jh.FP_FETCH_NO_RESPONSE,c=u?Mo:jo,n(a),o.status=e.status.toString(),o.reason=e.headers.get("x-reason"),new Error(c);return s=e.clone(),[4,e.json().catch((function(){return s.text()}))];case 3:return d=y.sent(),[2,tm(d,Xh)];case 4:throw l=y.sent(),v={conf_url:i,conf_req_status:o.status||(null===(m=null==l?void 0:l.response)||void 0===m?void 0:m.status)||"",conf_error_reason:o.reason||(null===(w=null===(b=null==l?void 0:l.response)||void 0===b?void 0:b.headers)||void 0===w?void 0:w["x-reason"])||"",conf_error_message:l.message},[jo,Mo].includes(l.message)||n(Jh.FP_FETCH_ERROR),h=new Error(_o),f.error(_o,v,h),h;case 5:return[2]}}))}))}function im(t,n){return Hh(this,void 0,void 0,(function(){var i,r,o,e,u,a,c;return Kh(this,(function(s){switch(s.label){case 0:return i=Ef(t),r=Ef(i),o=n.sdkId,e=n.organizationId,u=n.abVersion,a=n.customConfig,c=n.gdprConsent,[4,$h(r)];case 1:return s.sent(),r.consent=function(t,n){return{isGdprRegion:qh(t,"params.is_gdpr_region"),gdprApplies:"true"===qh(t,"params.qs.gdpr"),gdprConsent:qh(t,"params.gdpr_consent"),dnt:!!qh(t,"params.dnt_block"),gdprVendor:null==n?void 0:n.vendor,gdprPurpose:null==n?void 0:n.purpose}}(i,c),r.params=function(t,n){var i=qh(t,"params.qs")||{},r=qh(t,"params.z.ts"),o=qh(t,"params.m"),e=qh(t,"params.h"),u=qh(t,"cp.state");return r&&(i.ts=r),o&&(i.module_version=o),e&&(i.halfpipe_hostname=e),n&&(i.ab=n),Od(u)||(i.uc=u.toString()),i.stat=qh(t,"params.qs.sta"),i.browser=qh(t,"params.qs.br"),i.browserversion=qh(t,"params.qs.brv"),i.osversion=qh(t,"params.qs.osv"),i.param2=i.sid,i.sid=Gn,delete i.sta,delete i.br,delete i.brv,delete i.osv,i}(i,u),function(t){if(Od(t.integrations))throw new Error("No integrations were returned from server config request");for(var n=Object.values(t.integrations).filter((function(t){return t.type===Ai.GAM})),i=0,r=n;i<r.length;i++){var o=r[i].adSlots;if(Id(o))throw new Error('No "adsSlots" returned from server config request');Gh(o,t.auctions)}}(r),function(t){if(Od(t.auctions))throw new Error("No auctions were returned from server config request");for(var n=0,i=Object.values(t.auctions);n<i.length;n++){var r=i[n];r.config&&t.targeting&&(r.config.targeting=t.targeting),t.cp&&(r.cp=t.cp)}}(r),function(t){for(var n={},i=0,r=Object.values(Si);i<r.length;i++){var o=r[i];n[o]=Yh(t,o)}qf.setCacheLimit(n),t.cacheLimit=n}(r),r.id=o,r.org=e,eh(r,{org:e,asi:o},[Yr.SIZE_MAPPING,Yr.DISABLE_GRACE,Yr.OVERRIDE_LAZY_SLOT,Yr.WAIT_FOR_VIEWABLE_IMPRESSION_SLOT,Yr.GENERATE_DYNAMIC_CODE,Yr.DESTROY_OUT_OF_VIEW_SLOT,Yr.TEMP_MULTI_CONVERSION]),(null==a?void 0:a.overrideConfig)&&(r=Nl({},r,a)),[2,r]}}))}))}var rm=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},om=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},em="https://www.googletagservices.com/tag/js/gpt.js";function um(){return rm(this,void 0,void 0,(function(){var t;return om(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch(em,{method:"HEAD",redirect:"manual"})];case 1:return[2,!n.sent().ok];case 2:return[2,!(null==(t=n.sent())?void 0:t.status)];case 3:return[2]}}))}))}var am,cm=function(){return cm=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++)for(var o in n=arguments[i])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},cm.apply(this,arguments)},sm="rs_prev_sd",fm=mn(15),dm=((am=new Sv).setBuffering({endpoint:Hi,noBufferEvents:["ai","als","iv","ivrf",Ri.SDK_SESSION_ENDED],maxBufferTime:5e3,maxBufferSize:25}),{track:function(t){am.info(t),kn()}});var lm=function(t,n,i){var r=cm(cm({},vm()),{action:t});n&&(r.errorcode=n),"number"==typeof i&&(r.du=i),dm.track(r)};function vm(){return{browser:Nn,browserversion:Fn,category:Fi,component:Ci.AUCTION_LOADER,ddomain:Ln,denv:Vn,domain:$n,os:Un,pageurl:Bn,sid:Gn,param1:Yn,org:Cn,asi:Pn,asv:"0.552.0",ab:qn,il:document.visibilityState}}function hm(){!function(){try{var t=localStorage.getItem(sm);if(t){var n=JSON.parse(t);n.expiry>=Date.now()&&dm.track(cm(cm({},n.value),{action:Ri.SDK_SESSION_ENDED}))}}catch(t){}}(),function(){try{var t={expiry:Date.now()+fm,value:vm()};localStorage.setItem(sm,JSON.stringify(t))}catch(t){}}()}var mm=function(t,n,i,r){return new(i||(i=Promise))((function(o,e){function u(t){try{c(r.next(t))}catch(t){e(t)}}function a(t){try{c(r.throw(t))}catch(t){e(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(u,a)}c((r=r.apply(t,n||[])).next())}))},bm=function(t,n){var i,r,o,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},u=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return u.next=a(0),u.throw=a(1),u.return=a(2),"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(a){return function(c){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(e=0)),e;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return e.label++,{value:a[1],done:!1};case 5:e.label++,r=a[1],a=[0];continue;case 7:a=e.ops.pop(),e.trys.pop();continue;default:if(!(o=e.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){e=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){e.label=a[1];break}if(6===a[0]&&e.label<o[1]){e.label=o[1],o=a;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(a);break}o[2]&&e.ops.pop(),e.trys.pop();continue}a=n.call(t,e)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};t("https://securepubads.g.doubleclick.net/tag/js/gpt.js",{keepElement:!1}).catch((function(){}));var wm,pm,ym=md(Rn),gm=window[Dn],km=window[Mn]||{};function _m(t,n){return mm(this,void 0,void 0,(function(){var i,r,o,e,u,a,c,s,f;return bm(this,(function(d){switch(d.label){case 0:return t&&(wm=t),n&&(pm=n),i=function(){var t={ab:qn,coppa:zn,page_url:Bn,domain:Ln,ddomain:Ln,org:Cn,param1:Yn,v:"0.552.0",getError:"true"};wm&&(t.us_privacy=wm);pm&&(t.gdpr=pm.gdprApplies,t.gdpr_consent=pm.consentString);return t}(),r=function(t){var n=null!=Rn?Rn:Ji;return"".concat(n,"/").concat(Cn,"/").concat(Pn).concat(xi(t))}(i),[4,Xu(Qh({endpoint:r,data:{organizationId:Cn,sdkId:Pn,abVersion:qn,customConfig:km,gdprConsent:pm}},lm))];case 1:if(o=d.sent(),e=o[0],u=o[1])throw u;return(a=new Nv(e)).info(Ur.MODULE.GENERAL,"Auction loader start",{action:Ri.LOADER_START,component:Ci.AUCTION_MANAGER,abVersion:qn}),[4,Xu(Mv(e,a))];case 2:if(c=d.sent(),s=c[0],f=c[1])throw jm(f,null),f;return jm(null,s),[2]}}))}))}function jm(t,n){if("function"==typeof gm&&!gm.__called){try{gm(t,n)}catch(t){}gm.__called=!0}}Qf.init({displayTimings:!!window.RS_PT_ON});mm(void 0,void 0,void 0,(function(){var i,s,d,l,v,h;return bm(this,(function(m){switch(m.label){case 0:if(window.__R_LOAD)return lm(Ri.LOADER_MULTIPLE_LOADS),[2];if(window.__R_LOAD=!0,hm(),lm(Ri.LOADER_START),function(t){var n=Qf.getResourceLoadTime("/auction.loader.js");n&&t(Ri.PERFORMANCE_TRACKER,wo.AUCTION_SCRIPT_LOAD,n)}(lm),function(i){!u&&c&&(window.DD_LOGS=window.DD_LOGS||{q:[],onReady:function(t){window.DD_LOGS.q.push(t)}},u=!0,t("https://www.datadoghq-browser-agent.com/us1/v5/datadog-logs.js",{onFailed:function(t){a=!0,i("dderr",t.toString())},onSuccess:function(){window.DD_LOGS.onReady((function(){window.DD_LOGS.init({clientToken:n.TOKEN,site:r,forwardErrorsToLogs:!1,service:o,env:e.PRODUCTION,version:"0.552.0",telemetrySampleRate:0})}))}}))}(lm),Id(Pn)||Id(Cn))throw new Error('"org" or "id" params were not provided in the auction.loader script');return Wu.init(),dd(Cn),ld()&&(vd(xo.LOADING),t("https://sdk.streamrail.com/wrapper/identity/iiqAgent-6.11.js",{onFailed:function(){vd(xo.FAILED)},onSuccess:function(){vd(xo.SCRIPT_LOADED)}})),Fd([Si.PREBID,Si.AMAZON],{organizationId:Cn,sdkId:Pn,loadStaging:ym}),i=function(){return mm(this,void 0,void 0,(function(){return bm(this,(function(t){return[2,bd(um,{name:"ad-block",timeout:mn(1)},[])]}))}))}(),s=Hv(),d=$v(),[s,d].forEach((function(t){return t.catch((function(t){var n=t||{},i=n.message,r=n.stack;f.error("GDPR_USP_ERROR",{stack:r,message:i})}))})),[4,Promise.all([s,d])];case 1:return l=m.sent(),v=l[0],h=l[1],[4,i];case 2:return m.sent()?(lm(Ri.AD_BLOCK_DETECTED,Vi.AD_BLOCK),[2]):[4,_m(v,h)];case 3:return m.sent(),[2]}}))})).catch((function(t){var n,i,r={};(null==t?void 0:t.xhr)&&(r.readyState=null===(n=null==t?void 0:t.xhr)||void 0===n?void 0:n.readyState,r.status=null===(i=null==t?void 0:t.xhr)||void 0===i?void 0:i.status),(null==t?void 0:t.message)!==_o&&(f.error((null==t?void 0:t.message)||"APP_CRASH_ERROR",r,t),console.error(t))}))})()})();